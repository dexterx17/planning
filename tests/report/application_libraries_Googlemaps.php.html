<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>Code Coverage for /var/www/html/planning/application/libraries/Googlemaps.php</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
  <!--[if lt IE 9]>
  <script src="js/html5shiv.js"></script>
  <![endif]-->
 </head>
 <body>
  <header>
   <div class="container">
    <div class="row">
     <div class="span12">
      <ul class="breadcrumb">
        <li><a href="index.html">/var/www/html/planning</a> <span class="divider">/</span></li>
        <li><a href="application.html">application</a> <span class="divider">/</span></li>
        <li><a href="application_libraries.html">libraries</a> <span class="divider">/</span></li>
        <li class="active">Googlemaps.php</li>

      </ul>
     </div>
    </div>
   </div>
  </header>
  <div class="container">
   <table class="table table-bordered">
    <thead>
     <tr>
      <td>&nbsp;</td>
      <td colspan="10"><div align="center"><strong>Code Coverage</strong></div></td>
     </tr>
     <tr>
      <td>&nbsp;</td>
      <td colspan="3"><div align="center"><strong>Classes and Traits</strong></div></td>
      <td colspan="4"><div align="center"><strong>Functions and Methods</strong></div></td>
      <td colspan="3"><div align="center"><strong>Lines</strong></div></td>
     </tr>
    </thead>
    <tbody>
     <tr>
      <td class="danger">Total</td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;1</div></td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;11</div></td>
      <td class="danger small"><abbr title="Change Risk Anti-Patterns (CRAP) Index">CRAP</abbr></td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.28%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.28%</div></td>
      <td class="danger small"><div align="right">4&nbsp;/&nbsp;1430</div></td>
     </tr>

     <tr>
      <td class="danger">Googlemaps</td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;1</div></td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;11</div></td>
      <td class="danger small">122521.03</td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.28%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.28%</div></td>
      <td class="danger small"><div align="right">4&nbsp;/&nbsp;1430</div></td>
     </tr>

     <tr>
      <td class="danger" colspan="4">&nbsp;<a href="#155">Googlemaps($config = array()</a></td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;1</div></td>
      <td class="danger small">2.15</td>
      <td class="warning big">       <div class="progress progress-warning" style="width: 100px;">
        <div class="bar" style="width: 66.67%;"></div>
       </div>
</td>
      <td class="warning small"><div align="right">66.67%</div></td>
      <td class="warning small"><div align="right">4&nbsp;/&nbsp;6</div></td>
     </tr>

     <tr>
      <td class="danger" colspan="4">&nbsp;<a href="#165">initialize($config = array()</a></td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;1</div></td>
      <td class="danger small">20</td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;8</div></td>
     </tr>

     <tr>
      <td class="danger" colspan="4">&nbsp;<a href="#179">add_marker($params = array()</a></td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;1</div></td>
      <td class="danger small">1640</td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;182</div></td>
     </tr>

     <tr>
      <td class="danger" colspan="4">&nbsp;<a href="#437">add_polyline($params = array()</a></td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;1</div></td>
      <td class="danger small">342</td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;98</div></td>
     </tr>

     <tr>
      <td class="danger" colspan="4">&nbsp;<a href="#582">add_polygon($params = array()</a></td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;1</div></td>
      <td class="danger small">380</td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;106</div></td>
     </tr>

     <tr>
      <td class="danger" colspan="4">&nbsp;<a href="#736">add_circle($params = array()</a></td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;1</div></td>
      <td class="danger small">306</td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;94</div></td>
     </tr>

     <tr>
      <td class="danger" colspan="4">&nbsp;<a href="#875">add_rectangle($params = array()</a></td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;1</div></td>
      <td class="danger small">342</td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;106</div></td>
     </tr>

     <tr>
      <td class="danger" colspan="4">&nbsp;<a href="#1031">add_ground_overlay($params = array()</a></td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;1</div></td>
      <td class="danger small">110</td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;46</div></td>
     </tr>

     <tr>
      <td class="danger" colspan="4">&nbsp;<a href="#1108">create_map()</a></td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;1</div></td>
      <td class="danger small">42642</td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;733</div></td>
     </tr>

     <tr>
      <td class="danger" colspan="4">&nbsp;<a href="#2176">is_lat_long($input)</a></td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;1</div></td>
      <td class="danger small">20</td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;7</div></td>
     </tr>

     <tr>
      <td class="danger" colspan="4">&nbsp;<a href="#2195">get_lat_long_from_address($address, $attempts = 0)</a></td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;1</div></td>
      <td class="danger small">182</td>
      <td class="danger big">       <div class="progress progress-danger" style="width: 100px;">
        <div class="bar" style="width: 0.00%;"></div>
       </div>
</td>
      <td class="danger small"><div align="right">0.00%</div></td>
      <td class="danger small"><div align="right">0&nbsp;/&nbsp;44</div></td>
     </tr>


    </tbody>
   </table>
   <table class="table table-borderless table-condensed">
    <tbody>
     <tr><td><div align="right"><a name="1"></a><a href="#1">1</a></div></td><td class="codeLine">&lt;?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');</td></tr>
     <tr><td><div align="right"><a name="2"></a><a href="#2">2</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="3"></a><a href="#3">3</a></div></td><td class="codeLine">/**</td></tr>
     <tr><td><div align="right"><a name="4"></a><a href="#4">4</a></div></td><td class="codeLine"> * CodeIgniter Google Maps API V3 Class</td></tr>
     <tr><td><div align="right"><a name="5"></a><a href="#5">5</a></div></td><td class="codeLine"> *</td></tr>
     <tr><td><div align="right"><a name="6"></a><a href="#6">6</a></div></td><td class="codeLine"> * Displays a Google Map</td></tr>
     <tr><td><div align="right"><a name="7"></a><a href="#7">7</a></div></td><td class="codeLine"> *</td></tr>
     <tr><td><div align="right"><a name="8"></a><a href="#8">8</a></div></td><td class="codeLine"> * @package        CodeIgniter</td></tr>
     <tr><td><div align="right"><a name="9"></a><a href="#9">9</a></div></td><td class="codeLine"> * @subpackage    Libraries</td></tr>
     <tr><td><div align="right"><a name="10"></a><a href="#10">10</a></div></td><td class="codeLine"> * @category    Libraries</td></tr>
     <tr><td><div align="right"><a name="11"></a><a href="#11">11</a></div></td><td class="codeLine"> * @author        BIOSTALL (Steve Marks)</td></tr>
     <tr><td><div align="right"><a name="12"></a><a href="#12">12</a></div></td><td class="codeLine"> * @link        http://biostall.com/codeigniter-google-maps-v3-api-library</td></tr>
     <tr><td><div align="right"><a name="13"></a><a href="#13">13</a></div></td><td class="codeLine"> * @docs        http://biostall.com/wp-content/uploads/2010/07/Google_Maps_V3_API_Documentation.pdf</td></tr>
     <tr><td><div align="right"><a name="14"></a><a href="#14">14</a></div></td><td class="codeLine"> */</td></tr>
     <tr><td><div align="right"><a name="15"></a><a href="#15">15</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="16"></a><a href="#16">16</a></div></td><td class="codeLine">class Googlemaps {</td></tr>
     <tr><td><div align="right"><a name="17"></a><a href="#17">17</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="18"></a><a href="#18">18</a></div></td><td class="codeLine">    var $adsense                    = FALSE;                     // Whether Google Adsense For Content should be enabled</td></tr>
     <tr><td><div align="right"><a name="19"></a><a href="#19">19</a></div></td><td class="codeLine">    var $adsenseChannelNumber        = '';                         // The Adsense channel number for tracking the performance of this AdUnit</td></tr>
     <tr><td><div align="right"><a name="20"></a><a href="#20">20</a></div></td><td class="codeLine">    var $adsenseFormat                = 'HALF_BANNER';            // The format of the AdUnit</td></tr>
     <tr><td><div align="right"><a name="21"></a><a href="#21">21</a></div></td><td class="codeLine">    var $adsensePosition            = 'TOP_CENTER';                // The position of the AdUnit</td></tr>
     <tr><td><div align="right"><a name="22"></a><a href="#22">22</a></div></td><td class="codeLine">    var $adsensePublisherID            = '';                        // Your Google AdSense publisher ID</td></tr>
     <tr><td><div align="right"><a name="23"></a><a href="#23">23</a></div></td><td class="codeLine">    var $apiKey                        = '';                         // If you've got an API key you can use it by passing this parameter. Setup an API key here: https://code.google.com/apis/console</td></tr>
     <tr><td><div align="right"><a name="24"></a><a href="#24">24</a></div></td><td class="codeLine">    var $backgroundColor            = '';                        // A hex color value shown as the map background when tiles have not yet loaded as the user pans</td></tr>
     <tr><td><div align="right"><a name="25"></a><a href="#25">25</a></div></td><td class="codeLine">    var $bicyclingOverlay            = FALSE;                    // If set to TRUE will overlay bicycling information (ie. bike paths and suggested routes) onto the map by default</td></tr>
     <tr><td><div align="right"><a name="26"></a><a href="#26">26</a></div></td><td class="codeLine">    var $center                        = &quot;37.4419, -122.1419&quot;;        // Sets the default center location (lat/long co-ordinate or address) of the map. If defaulting to the users location set to &quot;auto&quot;</td></tr>
     <tr><td><div align="right"><a name="27"></a><a href="#27">27</a></div></td><td class="codeLine">    var $class                         = '';                        // A class name if wishing to style the map further through CSS. Can also be useful if wanting it to be responsive etc.</td></tr>
     <tr><td><div align="right"><a name="28"></a><a href="#28">28</a></div></td><td class="codeLine">    var $cluster                    = FALSE;                    // Whether to cluster markers</td></tr>
     <tr><td><div align="right"><a name="29"></a><a href="#29">29</a></div></td><td class="codeLine">    var $clusterGridSize            = 60;                        // The grid size of a cluster in pixels</td></tr>
     <tr><td><div align="right"><a name="30"></a><a href="#30">30</a></div></td><td class="codeLine">    var $clusterMaxZoom                = '';                        // The maximum zoom level that a marker can be part of a cluster</td></tr>
     <tr><td><div align="right"><a name="31"></a><a href="#31">31</a></div></td><td class="codeLine">    var $clusterZoomOnClick            = TRUE;                        // Whether the default behaviour of clicking on a cluster is to zoom into it</td></tr>
     <tr><td><div align="right"><a name="32"></a><a href="#32">32</a></div></td><td class="codeLine">    var $clusterAverageCenter        = FALSE;                    // Whether the center of each cluster should be the average of all markers in the cluster</td></tr>
     <tr><td><div align="right"><a name="33"></a><a href="#33">33</a></div></td><td class="codeLine">    var $clusterMinimumClusterSize    = 2;                        // The minimum number of markers to be in a cluster before the markers are hidden and a count is shown</td></tr>
     <tr><td><div align="right"><a name="34"></a><a href="#34">34</a></div></td><td class="codeLine">    var $disableDefaultUI            = FALSE;                    // If set to TRUE will hide the default controls (ie. zoom, scale etc)</td></tr>
     <tr><td><div align="right"><a name="35"></a><a href="#35">35</a></div></td><td class="codeLine">    var $disableDoubleClickZoom        = FALSE;                    // If set to TRUE will disable zooming when a double click occurs</td></tr>
     <tr><td><div align="right"><a name="36"></a><a href="#36">36</a></div></td><td class="codeLine">    var $disableMapTypeControl        = FALSE;                    // If set to TRUE will hide the MapType control (ie. Map, Satellite, Hybrid, Terrain)</td></tr>
     <tr><td><div align="right"><a name="37"></a><a href="#37">37</a></div></td><td class="codeLine">    var $disableNavigationControl    = FALSE;                    // If set to TRUE will hide the Navigation control (ie. zoom in/out, pan)</td></tr>
     <tr><td><div align="right"><a name="38"></a><a href="#38">38</a></div></td><td class="codeLine">    var $disableScaleControl        = FALSE;                    // If set to TRUE will hide the Scale control</td></tr>
     <tr><td><div align="right"><a name="39"></a><a href="#39">39</a></div></td><td class="codeLine">    var $disableStreetViewControl    = FALSE;                    // If set to TRUE will hide the Street View control</td></tr>
     <tr><td><div align="right"><a name="40"></a><a href="#40">40</a></div></td><td class="codeLine">    var $draggable                    = TRUE;                        // If set to FALSE will prevent the map from being dragged around</td></tr>
     <tr><td><div align="right"><a name="41"></a><a href="#41">41</a></div></td><td class="codeLine">    var $draggableCursor            = '';                        // The name or url of the cursor to display on a draggable object</td></tr>
     <tr><td><div align="right"><a name="42"></a><a href="#42">42</a></div></td><td class="codeLine">    var $draggingCursor                = '';                        // The name or url of the cursor to display when an object is being dragged</td></tr>
     <tr><td><div align="right"><a name="43"></a><a href="#43">43</a></div></td><td class="codeLine">    var $geocodeCaching                = FALSE;                    // If set to TRUE will cache any geocode requests made when an address is used instead of a lat/long. Requires DB table to be created (see documentation)</td></tr>
     <tr><td><div align="right"><a name="44"></a><a href="#44">44</a></div></td><td class="codeLine">    var $https                        = FALSE;                    // If set to TRUE will load the Google Maps JavaScript API over HTTPS, allowing you to utilize the API within your HTTPS secure application</td></tr>
     <tr><td><div align="right"><a name="45"></a><a href="#45">45</a></div></td><td class="codeLine">    var $navigationControlPosition    = '';                        // The position of the Navigation control, eg. 'BOTTOM_RIGHT'</td></tr>
     <tr><td><div align="right"><a name="46"></a><a href="#46">46</a></div></td><td class="codeLine">    var $infowindowMaxWidth            = 0;                        // The maximum width of the infowindow in pixels. Expecting an integer without units</td></tr>
     <tr><td><div align="right"><a name="47"></a><a href="#47">47</a></div></td><td class="codeLine">    var $keyboardShortcuts            = TRUE;                        // If set to FALSE will disable to map being controlled via the keyboard</td></tr>
     <tr><td><div align="right"><a name="48"></a><a href="#48">48</a></div></td><td class="codeLine">    var $jsfile                        = '';                        // Set this to the path of an external JS file if you wish the JavaScript to be placed in a file rather than output directly into the &lt;head&gt;&lt;/head&gt; section. The library will try to create the file if it does not exist already. Please ensure the destination file is writeable</td></tr>
     <tr><td><div align="right"><a name="49"></a><a href="#49">49</a></div></td><td class="codeLine">    var $kmlLayerURL                = '';                        // A URL to publicly available KML or GeoRSS data for displaying geographic information. Multiple KML layers can be passed in by using an array of URL's. Note, if using multiple you'll probably have to set $kmlLayerPreserveViewport to true and manually set map center and zoom</td></tr>
     <tr><td><div align="right"><a name="50"></a><a href="#50">50</a></div></td><td class="codeLine">    var $kmlLayerPreserveViewport    = FALSE;                    // Specifies whether the map should be adjusted to the bounds of the KmlLayer's contents. By default the map is zoomed and positioned to show the entirety of the layer's contents</td></tr>
     <tr><td><div align="right"><a name="51"></a><a href="#51">51</a></div></td><td class="codeLine">    var $language                    = '';                        // The map will by default load in the language of the browser. This can be overriden however here. For a full list of codes see https://spreadsheets.google.com/pub?key=p9pdwsai2hDMsLkXsoM05KQ&amp;gid=1</td></tr>
     <tr><td><div align="right"><a name="52"></a><a href="#52">52</a></div></td><td class="codeLine">    var $loadAsynchronously            = FALSE;                    // Load the map and API asynchronously once the page has loaded</td></tr>
     <tr><td><div align="right"><a name="53"></a><a href="#53">53</a></div></td><td class="codeLine">    var $map_div_id                    = &quot;map_canvas&quot;;                // The ID of the &lt;div&gt;&lt;/div&gt; that is output which contains the map</td></tr>
     <tr><td><div align="right"><a name="54"></a><a href="#54">54</a></div></td><td class="codeLine">    var $map_height                    = &quot;450px&quot;;                    // The height of the map container. Any units (ie 'px') can be used. If no units are provided 'px' will be presumed</td></tr>
     <tr><td><div align="right"><a name="55"></a><a href="#55">55</a></div></td><td class="codeLine">    var $map_name                    = &quot;map&quot;;                    // The JS reference to the map. Currently not used but to be used in the future when multiple maps are supported</td></tr>
     <tr><td><div align="right"><a name="56"></a><a href="#56">56</a></div></td><td class="codeLine">    var $map_type                    = &quot;ROADMAP&quot;;                // The default MapType. Values accepted are 'HYBRID', 'ROADMAP', 'SATELLITE' or 'TERRAIN'</td></tr>
     <tr><td><div align="right"><a name="57"></a><a href="#57">57</a></div></td><td class="codeLine">    var $map_types_available        = array();                    // The other MapTypes available for selection on the map</td></tr>
     <tr><td><div align="right"><a name="58"></a><a href="#58">58</a></div></td><td class="codeLine">    var $map_width                    = &quot;100%&quot;;                    // The width of the map container. Any units (ie 'px') can be used. If no units are provided 'px' will be presumed</td></tr>
     <tr><td><div align="right"><a name="59"></a><a href="#59">59</a></div></td><td class="codeLine">    var $maps_loaded                = 0;                        // Counter which keeps track of how many maps have been created to avoid standard functions being output twice</td></tr>
     <tr><td><div align="right"><a name="60"></a><a href="#60">60</a></div></td><td class="codeLine">    var $mapTypeControlPosition        = '';                        // The position of the MapType control, eg. 'BOTTOM_RIGHT'</td></tr>
     <tr><td><div align="right"><a name="61"></a><a href="#61">61</a></div></td><td class="codeLine">    var $mapTypeControlStyle        = '';                        // The style of the MapType control. blank, 'DROPDOWN_MENU' or 'HORIZONTAL_BAR' values accepted.</td></tr>
     <tr><td><div align="right"><a name="62"></a><a href="#62">62</a></div></td><td class="codeLine">    var $minzoom                    = '';                        // The minimum zoom level which will be displayed on the map</td></tr>
     <tr><td><div align="right"><a name="63"></a><a href="#63">63</a></div></td><td class="codeLine">    var $maxzoom                    = '';                        // The maximum zoom level which will be displayed on the map</td></tr>
     <tr><td><div align="right"><a name="64"></a><a href="#64">64</a></div></td><td class="codeLine">    var $minifyJS                    = FALSE;                    // If TRUE will run the JavaScript through Jsmin.php (this file and PHP5+ required) to minify the code</td></tr>
     <tr><td><div align="right"><a name="65"></a><a href="#65">65</a></div></td><td class="codeLine">    var $noClear                    = FALSE;                    // If TRUE do not clear the contents of the map div</td></tr>
     <tr><td><div align="right"><a name="66"></a><a href="#66">66</a></div></td><td class="codeLine">    var $onboundschanged            = '';                        // The JavaScript action to perform when the viewport bounds have changed</td></tr>
     <tr><td><div align="right"><a name="67"></a><a href="#67">67</a></div></td><td class="codeLine">    var $oncenterchanged            = '';                        // The JavaScript action to perform when themap center property changes</td></tr>
     <tr><td><div align="right"><a name="68"></a><a href="#68">68</a></div></td><td class="codeLine">    var $onclick                    = '';                        // The JavaScript action to perform when the map is clicked</td></tr>
     <tr><td><div align="right"><a name="69"></a><a href="#69">69</a></div></td><td class="codeLine">    var $ondblclick                    = '';                        // The JavaScript action to perform when the map is double-clicked</td></tr>
     <tr><td><div align="right"><a name="70"></a><a href="#70">70</a></div></td><td class="codeLine">    var $ondrag                        = '';                        // The JavaScript action to perform while the map is dragged</td></tr>
     <tr><td><div align="right"><a name="71"></a><a href="#71">71</a></div></td><td class="codeLine">    var $ondragend                    = '';                        // The JavaScript action to perform when the user stops dragging the map</td></tr>
     <tr><td><div align="right"><a name="72"></a><a href="#72">72</a></div></td><td class="codeLine">    var $ondragstart                = '';                        // The JavaScript action to perform when the user starts dragging the map</td></tr>
     <tr><td><div align="right"><a name="73"></a><a href="#73">73</a></div></td><td class="codeLine">    var $onidle                        = '';                        // The JavaScript action to perform when the map becomes idle after panning or zooming</td></tr>
     <tr><td><div align="right"><a name="74"></a><a href="#74">74</a></div></td><td class="codeLine">    var $onload                        = '';                        // The JavaScript action to perform when the map first loads. This library hi-jacks the window.load event so add any bespoke code using this option</td></tr>
     <tr><td><div align="right"><a name="75"></a><a href="#75">75</a></div></td><td class="codeLine">    var $onmousemove                = '';                        // The JavaScript action to perform when the user's mouse moves over the map container</td></tr>
     <tr><td><div align="right"><a name="76"></a><a href="#76">76</a></div></td><td class="codeLine">    var $onmouseout                    = '';                        // The JavaScript action to perform when the user's mouse exits the map container</td></tr>
     <tr><td><div align="right"><a name="77"></a><a href="#77">77</a></div></td><td class="codeLine">    var $onmouseover                = '';                        // The JavaScript action to perform when the user's mouse enters the map container</td></tr>
     <tr><td><div align="right"><a name="78"></a><a href="#78">78</a></div></td><td class="codeLine">    var $onresize                    = '';                        // The JavaScript action to perform when the maps div changes size</td></tr>
     <tr><td><div align="right"><a name="79"></a><a href="#79">79</a></div></td><td class="codeLine">    var $onrightclick                = '';                        // The JavaScript action to perform when the map is right-clicked</td></tr>
     <tr><td><div align="right"><a name="80"></a><a href="#80">80</a></div></td><td class="codeLine">    var $ontilesloaded                = '';                        // The JavaScript action to perform when the visible tiles have finished loading</td></tr>
     <tr><td><div align="right"><a name="81"></a><a href="#81">81</a></div></td><td class="codeLine">    var $onzoomchanged                = '';                        // The JavaScript action to perform when the maps zoom property changes</td></tr>
     <tr><td><div align="right"><a name="82"></a><a href="#82">82</a></div></td><td class="codeLine">    var    $panoramio                    = FALSE;                    // If TRUE will add photos from Panoramio as a layer to your maps as a series of large and small photo icons</td></tr>
     <tr><td><div align="right"><a name="83"></a><a href="#83">83</a></div></td><td class="codeLine">    var    $panoramioTag                = '';                        // Restrict the set of Panoramio photos shown to those matching a certain textual tag</td></tr>
     <tr><td><div align="right"><a name="84"></a><a href="#84">84</a></div></td><td class="codeLine">    var    $panoramioUser                = '';                        // Restrict the set of Panoramio photos shown to those matching a particular user</td></tr>
     <tr><td><div align="right"><a name="85"></a><a href="#85">85</a></div></td><td class="codeLine">    var $region                        = '';                        // Country code top-level domain (eg &quot;uk&quot;) within which to search. Useful if supplying addresses rather than lat/longs</td></tr>
     <tr><td><div align="right"><a name="86"></a><a href="#86">86</a></div></td><td class="codeLine">    var $scaleControlPosition        = '';                        // The position of the Scale control, eg. 'BOTTOM_RIGHT'</td></tr>
     <tr><td><div align="right"><a name="87"></a><a href="#87">87</a></div></td><td class="codeLine">    var $scrollwheel                = TRUE;                        // If set to FALSE will disable zooming by scrolling of the mouse wheel</td></tr>
     <tr><td><div align="right"><a name="88"></a><a href="#88">88</a></div></td><td class="codeLine">    var $sensor                        = FALSE;                    // Set to TRUE if being used on a device that can detect a users location</td></tr>
     <tr><td><div align="right"><a name="89"></a><a href="#89">89</a></div></td><td class="codeLine">    var $streetViewAddressControl    = TRUE;                        // If set to FALSE will hide the Address control</td></tr>
     <tr><td><div align="right"><a name="90"></a><a href="#90">90</a></div></td><td class="codeLine">    var $streetViewAddressPosition    = '';                        // The position of the Address control, eg. 'BOTTOM'</td></tr>
     <tr><td><div align="right"><a name="91"></a><a href="#91">91</a></div></td><td class="codeLine">    var $streetViewControlPosition    = '';                        // The position of the Street View control when viewing normal aerial map, eg. 'BOTTOM_RIGHT'</td></tr>
     <tr><td><div align="right"><a name="92"></a><a href="#92">92</a></div></td><td class="codeLine">    var $streetViewCloseButton        = FALSE;                    // If set to TRUE will show the close button in the top right. The close button allows users to return to the aerial map</td></tr>
     <tr><td><div align="right"><a name="93"></a><a href="#93">93</a></div></td><td class="codeLine">    var $streetViewLinksControl        = TRUE;                        // If set to FALSE will hide the Links control</td></tr>
     <tr><td><div align="right"><a name="94"></a><a href="#94">94</a></div></td><td class="codeLine">    var $streetViewPanControl        = TRUE;                        // If set to FALSE will hide the Pan control</td></tr>
     <tr><td><div align="right"><a name="95"></a><a href="#95">95</a></div></td><td class="codeLine">    var $streetViewPanPosition        = '';                        // The position of the Scale control, eg. 'TOP_RIGHT'</td></tr>
     <tr><td><div align="right"><a name="96"></a><a href="#96">96</a></div></td><td class="codeLine">    var $streetViewPovHeading        = 0;                        // The Street View camera heading in degrees relative to true north. True north is 0, east is 90, south is 180, west is 270</td></tr>
     <tr><td><div align="right"><a name="97"></a><a href="#97">97</a></div></td><td class="codeLine">    var $streetViewPovPitch            = 0;                        // The Street View camera pitch in degrees, relative to the street view vehicle. Directly upwards is 90, Directly downwards is -90.</td></tr>
     <tr><td><div align="right"><a name="98"></a><a href="#98">98</a></div></td><td class="codeLine">    var $streetViewPovZoom            = 0;                        // The Street View zoom level. Fully zoomed-out is level 0, zooming in increases the zoom level.</td></tr>
     <tr><td><div align="right"><a name="99"></a><a href="#99">99</a></div></td><td class="codeLine">    var $streetViewZoomControl        = TRUE;                        // If set to FALSE will hide the Zoom control</td></tr>
     <tr><td><div align="right"><a name="100"></a><a href="#100">100</a></div></td><td class="codeLine">    var $streetViewZoomPosition        = '';                        // The position of the Scale control, eg. 'TOP_RIGHT'</td></tr>
     <tr><td><div align="right"><a name="101"></a><a href="#101">101</a></div></td><td class="codeLine">    var $streetViewZoomStyle        = '';                        // The size of the Street View zoom control. blank, 'SMALL' or 'LARGE' values accepted.</td></tr>
     <tr><td><div align="right"><a name="102"></a><a href="#102">102</a></div></td><td class="codeLine">    var $styles                        = array();                    // An array of styles used to colour aspects of the map and turn points of interest on and off</td></tr>
     <tr><td><div align="right"><a name="103"></a><a href="#103">103</a></div></td><td class="codeLine">    var $stylesAsMapTypes            = false;                    // If applying styles, whether to apply them to the default map or add them as additional map types</td></tr>
     <tr><td><div align="right"><a name="104"></a><a href="#104">104</a></div></td><td class="codeLine">    var $stylesAsMapTypesDefault    = '';                        // If $stylesAsMapTypes is true the default style. Should contain the 'Name' of the style</td></tr>
     <tr><td><div align="right"><a name="105"></a><a href="#105">105</a></div></td><td class="codeLine">    var    $tilt                        = 0;                        // The angle of tilt. Currently only supports the values 0 and 45 in SATELLITE and HYBRID map types and at certain zoom levels</td></tr>
     <tr><td><div align="right"><a name="106"></a><a href="#106">106</a></div></td><td class="codeLine">    var    $trafficOverlay                = FALSE;                    // If set to TRUE will overlay traffic information onto the map by default</td></tr>
     <tr><td><div align="right"><a name="107"></a><a href="#107">107</a></div></td><td class="codeLine">    var    $version                    = &quot;3&quot;;                        // Version of the API being used. Not currently used in the library</td></tr>
     <tr><td><div align="right"><a name="108"></a><a href="#108">108</a></div></td><td class="codeLine">    var $zoom                        = 13;                        // The default zoom level of the map. If set to &quot;auto&quot; will autozoom/center to fit in all visible markers. If &quot;auto&quot;, also overrides the $center parameter</td></tr>
     <tr><td><div align="right"><a name="109"></a><a href="#109">109</a></div></td><td class="codeLine">    var $zoomControlPosition        = '';                        // The position of the Zoom control, eg. 'BOTTOM_RIGHT'</td></tr>
     <tr><td><div align="right"><a name="110"></a><a href="#110">110</a></div></td><td class="codeLine">    var $zoomControlStyle            = '';                        // The size of the zoom control. blank, 'SMALL' or 'LARGE' values accepted.</td></tr>
     <tr><td><div align="right"><a name="111"></a><a href="#111">111</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="112"></a><a href="#112">112</a></div></td><td class="codeLine">    var    $markers                    = array();                    // An array used by the library to store the markers as they are produced</td></tr>
     <tr><td><div align="right"><a name="113"></a><a href="#113">113</a></div></td><td class="codeLine">    var $markersInfo                = array();                    // An array containing marker information (id, latitude, longitude etc) for use elsewhere</td></tr>
     <tr><td><div align="right"><a name="114"></a><a href="#114">114</a></div></td><td class="codeLine">    var    $polylines                    = array();                    // An array used by the library to store the polylines as they are produced</td></tr>
     <tr><td><div align="right"><a name="115"></a><a href="#115">115</a></div></td><td class="codeLine">    var    $polygons                    = array();                    // An array used by the library to store the polygons as they are produced</td></tr>
     <tr><td><div align="right"><a name="116"></a><a href="#116">116</a></div></td><td class="codeLine">    var    $circles                    = array();                    // An array used by the library to store the circles as they are produced</td></tr>
     <tr><td><div align="right"><a name="117"></a><a href="#117">117</a></div></td><td class="codeLine">    var    $rectangles                    = array();                    // An array used by the library to store the rectangles as they are produced</td></tr>
     <tr><td><div align="right"><a name="118"></a><a href="#118">118</a></div></td><td class="codeLine">    var    $overlays                    = array();                    // An array used by the library to store the overlays as they are produced</td></tr>
     <tr><td><div align="right"><a name="119"></a><a href="#119">119</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="120"></a><a href="#120">120</a></div></td><td class="codeLine">    var $directions                    = FALSE;                    // Whether or not the map will be used to show directions</td></tr>
     <tr><td><div align="right"><a name="121"></a><a href="#121">121</a></div></td><td class="codeLine">    var $directionsStart            = &quot;&quot;;                        // The starting location (lat/long co-ordinate or address) of the directions. Set to 'auto' to default it to the users location</td></tr>
     <tr><td><div align="right"><a name="122"></a><a href="#122">122</a></div></td><td class="codeLine">    var $directionsEnd                = &quot;&quot;;                        // The destination point (lat/long co-ordinate or address) of the directions. Set to 'auto' to default it to the users location</td></tr>
     <tr><td><div align="right"><a name="123"></a><a href="#123">123</a></div></td><td class="codeLine">    var $directionsDivID            = &quot;&quot;;                        // An element's ID on the page where textual directions will be output to. Leave blank if not required</td></tr>
     <tr><td><div align="right"><a name="124"></a><a href="#124">124</a></div></td><td class="codeLine">    var $directionsMode                = &quot;DRIVING&quot;;                 // DRIVING, WALKING or BICYCLING (US Only) - The vehicle/mode of transport to show directions for</td></tr>
     <tr><td><div align="right"><a name="125"></a><a href="#125">125</a></div></td><td class="codeLine">    var $directionsAvoidTolls        = FALSE;                    // Whether or not directions should avoid tolls</td></tr>
     <tr><td><div align="right"><a name="126"></a><a href="#126">126</a></div></td><td class="codeLine">    var $directionsAvoidHighways    = FALSE;                    // Whether or not directions should avoid highways</td></tr>
     <tr><td><div align="right"><a name="127"></a><a href="#127">127</a></div></td><td class="codeLine">    var $directionsDraggable        = FALSE;                    // Whether or not directions on the map are draggable</td></tr>
     <tr><td><div align="right"><a name="128"></a><a href="#128">128</a></div></td><td class="codeLine">    var $directionsChanged            = &quot;&quot;;                        // JavaScript to perform when directions are dragged</td></tr>
     <tr><td><div align="right"><a name="129"></a><a href="#129">129</a></div></td><td class="codeLine">    var $directionsUnits            = &quot;&quot;;                        // 'metric' for kilometers and meters or 'imperial for miles and feet. Leave blank and it will default to the region or country of where directions are being obtained</td></tr>
     <tr><td><div align="right"><a name="130"></a><a href="#130">130</a></div></td><td class="codeLine">    var $directionsWaypointArray    = array();                    // An array of waypoints. eg array(&quot;Boston, MA&quot;, &quot;Times Square, NY&quot;);</td></tr>
     <tr><td><div align="right"><a name="131"></a><a href="#131">131</a></div></td><td class="codeLine">    var $directionsWaypointsOptimize= FALSE;                    // Should the waypoints be optimised? If TRUE, waypoints will be re-ordered to provide the most efficient route.</td></tr>
     <tr><td><div align="right"><a name="132"></a><a href="#132">132</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="133"></a><a href="#133">133</a></div></td><td class="codeLine">    var $drawing                    = FALSE;                    // Whether or not the drawing library tools will be loaded</td></tr>
     <tr><td><div align="right"><a name="134"></a><a href="#134">134</a></div></td><td class="codeLine">    var $drawingControl                = TRUE;                        // If set to FALSE will hide the Drawing Manager control</td></tr>
     <tr><td><div align="right"><a name="135"></a><a href="#135">135</a></div></td><td class="codeLine">    var $drawingControlPosition        = 'TOP_CENTER';                // The position of the Drawing Manager control, eg. 'TOP_RIGHT'</td></tr>
     <tr><td><div align="right"><a name="136"></a><a href="#136">136</a></div></td><td class="codeLine">    var $drawingDefaultMode            = 'marker';                    // The default mode for the Drawing Manager. Accepted values are marker, polygon, polyline, rectangle, circle, or null. null means that the user can interact with the map as normal when the map loads, and clicks do not draw anything.</td></tr>
     <tr><td><div align="right"><a name="137"></a><a href="#137">137</a></div></td><td class="codeLine">    var $drawingModes                = array();                    // An array of modes available for use. Accepted values are marker, polygon, polyline, rectangle, circle</td></tr>
     <tr><td><div align="right"><a name="138"></a><a href="#138">138</a></div></td><td class="codeLine">    var $drawingOnComplete            = array();                    // An array of JS to execute when shapes are completed, one array element per shape. For example: array('circle'=&gt;'JS here', 'polygon'=&gt;'JS here');</td></tr>
     <tr><td><div align="right"><a name="139"></a><a href="#139">139</a></div></td><td class="codeLine">    var $drawingOnEdit                = array();                    // An array of JS to execute when shapes are changed/resized, one array element per shape. For example: array('circle'=&gt;'JS here', 'polygon'=&gt;'JS here');</td></tr>
     <tr><td><div align="right"><a name="140"></a><a href="#140">140</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="141"></a><a href="#141">141</a></div></td><td class="codeLine">    var $places                        = FALSE;                    // Whether or not the map will be used to show places</td></tr>
     <tr><td><div align="right"><a name="142"></a><a href="#142">142</a></div></td><td class="codeLine">    var $placesLocation                = '';                        // A point (lat/long co-ordinate or address) on the map if the search for places is based around a central point</td></tr>
     <tr><td><div align="right"><a name="143"></a><a href="#143">143</a></div></td><td class="codeLine">    var $placesRadius                = 0;                        // The radius (in meters) if search is based around a central position</td></tr>
     <tr><td><div align="right"><a name="144"></a><a href="#144">144</a></div></td><td class="codeLine">    var $placesLocationSW            = '';                        // If preferring to search within bounds the South-West position (latitude/longitude coordinate OR address)</td></tr>
     <tr><td><div align="right"><a name="145"></a><a href="#145">145</a></div></td><td class="codeLine">    var $placesLocationNE            = '';                        // If preferring to search within bounds the North-East position (latitude/longitude coordinate OR address)</td></tr>
     <tr><td><div align="right"><a name="146"></a><a href="#146">146</a></div></td><td class="codeLine">    var $placesTypes                = array();                    // The types of places to search for. For a list of supported types see http://code.google.com/apis/maps/documentation/places/supported_types.html</td></tr>
     <tr><td><div align="right"><a name="147"></a><a href="#147">147</a></div></td><td class="codeLine">    var $placesName                    = '';                        // A term to be matched against when searching for places to display on the map</td></tr>
     <tr><td><div align="right"><a name="148"></a><a href="#148">148</a></div></td><td class="codeLine">    var $placesAutocompleteInputID    = '';                        // The ID attribute of the textfield that the autocomplete should effect</td></tr>
     <tr><td><div align="right"><a name="149"></a><a href="#149">149</a></div></td><td class="codeLine">    var $placesAutocompleteTypes    = array();                    // The types of places for the autocomplete to return. Options can be seen here https://developers.google.com/maps/documentation/javascript/places#places_autocomplete but include 'establishment' to only return business results, '(cities)', or '(regions)'</td></tr>
     <tr><td><div align="right"><a name="150"></a><a href="#150">150</a></div></td><td class="codeLine">    var $placesAutocompleteBoundSW    = '';                        // By specifying an area in which to search for Places, the results are biased towards, but not restricted to, Places contained within these bounds.</td></tr>
     <tr><td><div align="right"><a name="151"></a><a href="#151">151</a></div></td><td class="codeLine">    var $placesAutocompleteBoundNE    = '';                        // Both South-West (lat/long co-ordinate or address) and North-East (lat/long co-ordinate or address) values are required if wishing to set bounds</td></tr>
     <tr><td><div align="right"><a name="152"></a><a href="#152">152</a></div></td><td class="codeLine">    var $placesAutocompleteBoundsMap= FALSE;                    // An alternative to setting the SW and NE bounds is to use the bounds of the current viewport. If set to TRUE, the bounds will be set to the viewport of the visible map, even if dragged or zoomed</td></tr>
     <tr><td><div align="right"><a name="153"></a><a href="#153">153</a></div></td><td class="codeLine">    var $placesAutocompleteOnChange    = '';                        // The JavaScript action to perform when a place is selected</td></tr>
     <tr><td><div align="right"><a name="154"></a><a href="#154">154</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="155"></a><a href="#155">155</a></div></td><td class="codeLine">    function Googlemaps($config = array())</td></tr>
     <tr><td><div align="right"><a name="156"></a><a href="#156">156</a></div></td><td class="codeLine">    {</td></tr>
     <tr class="success popin" data-title="1 test covers line 157" data-content="&lt;ul&gt;&lt;li class=&quot;success&quot;&gt;SomeControllerTest::testWelcomeController&lt;/li&gt;&lt;/ul&gt;" data-placement="bottom" data-html="true"><td><div align="right"><a name="157"></a><a href="#157">157</a></div></td><td class="codeLine">        if (count($config) &gt; 0)</td></tr>
     <tr class="success popin" data-title="1 test covers line 158" data-content="&lt;ul&gt;&lt;li class=&quot;success&quot;&gt;SomeControllerTest::testWelcomeController&lt;/li&gt;&lt;/ul&gt;" data-placement="bottom" data-html="true"><td><div align="right"><a name="158"></a><a href="#158">158</a></div></td><td class="codeLine">        {</td></tr>
     <tr class="danger"><td><div align="right"><a name="159"></a><a href="#159">159</a></div></td><td class="codeLine">            $this-&gt;initialize($config);</td></tr>
     <tr class="danger"><td><div align="right"><a name="160"></a><a href="#160">160</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="161"></a><a href="#161">161</a></div></td><td class="codeLine"></td></tr>
     <tr class="success popin" data-title="1 test covers line 162" data-content="&lt;ul&gt;&lt;li class=&quot;success&quot;&gt;SomeControllerTest::testWelcomeController&lt;/li&gt;&lt;/ul&gt;" data-placement="bottom" data-html="true"><td><div align="right"><a name="162"></a><a href="#162">162</a></div></td><td class="codeLine">        log_message('debug', &quot;Google Maps Class Initialized&quot;);</td></tr>
     <tr class="success popin" data-title="1 test covers line 163" data-content="&lt;ul&gt;&lt;li class=&quot;success&quot;&gt;SomeControllerTest::testWelcomeController&lt;/li&gt;&lt;/ul&gt;" data-placement="bottom" data-html="true"><td><div align="right"><a name="163"></a><a href="#163">163</a></div></td><td class="codeLine">    }</td></tr>
     <tr><td><div align="right"><a name="164"></a><a href="#164">164</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="165"></a><a href="#165">165</a></div></td><td class="codeLine">    function initialize($config = array())</td></tr>
     <tr><td><div align="right"><a name="166"></a><a href="#166">166</a></div></td><td class="codeLine">    {</td></tr>
     <tr class="danger"><td><div align="right"><a name="167"></a><a href="#167">167</a></div></td><td class="codeLine">        foreach ($config as $key =&gt; $val)</td></tr>
     <tr><td><div align="right"><a name="168"></a><a href="#168">168</a></div></td><td class="codeLine">        {</td></tr>
     <tr class="danger"><td><div align="right"><a name="169"></a><a href="#169">169</a></div></td><td class="codeLine">            if (isset($this-&gt;$key))</td></tr>
     <tr class="danger"><td><div align="right"><a name="170"></a><a href="#170">170</a></div></td><td class="codeLine">            {</td></tr>
     <tr class="danger"><td><div align="right"><a name="171"></a><a href="#171">171</a></div></td><td class="codeLine">                $this-&gt;$key = $val;</td></tr>
     <tr class="danger"><td><div align="right"><a name="172"></a><a href="#172">172</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="173"></a><a href="#173">173</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="174"></a><a href="#174">174</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="175"></a><a href="#175">175</a></div></td><td class="codeLine">        if ($this-&gt;sensor) { $this-&gt;sensor = &quot;true&quot;; }else{ $this-&gt;sensor = &quot;false&quot;; }</td></tr>
     <tr><td><div align="right"><a name="176"></a><a href="#176">176</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="177"></a><a href="#177">177</a></div></td><td class="codeLine">    }</td></tr>
     <tr><td><div align="right"><a name="178"></a><a href="#178">178</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="179"></a><a href="#179">179</a></div></td><td class="codeLine">    function add_marker($params = array())</td></tr>
     <tr><td><div align="right"><a name="180"></a><a href="#180">180</a></div></td><td class="codeLine">    {</td></tr>
     <tr><td><div align="right"><a name="181"></a><a href="#181">181</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="182"></a><a href="#182">182</a></div></td><td class="codeLine">        $marker = array();</td></tr>
     <tr class="danger"><td><div align="right"><a name="183"></a><a href="#183">183</a></div></td><td class="codeLine">        $this-&gt;markersInfo['marker_'.count($this-&gt;markers)] = array();</td></tr>
     <tr><td><div align="right"><a name="184"></a><a href="#184">184</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="185"></a><a href="#185">185</a></div></td><td class="codeLine">        $marker['position'] = '';                                // The position (lat/long co-ordinate or address) at which the marker will appear</td></tr>
     <tr class="danger"><td><div align="right"><a name="186"></a><a href="#186">186</a></div></td><td class="codeLine">        $marker['infowindow_content'] = '';                        // If not blank, creates an infowindow (aka bubble) with the content provided. Can be plain text or HTML</td></tr>
     <tr class="danger"><td><div align="right"><a name="187"></a><a href="#187">187</a></div></td><td class="codeLine">        $marker['id'] = '';                                        // The unique identifier of the marker suffix (ie. marker_yourID). If blank, this will default to marker_X where X is an incremental number</td></tr>
     <tr class="danger"><td><div align="right"><a name="188"></a><a href="#188">188</a></div></td><td class="codeLine">        $marker['clickable'] = TRUE;                            // Defines if the marker is clickable</td></tr>
     <tr class="danger"><td><div align="right"><a name="189"></a><a href="#189">189</a></div></td><td class="codeLine">        $marker['cursor'] = '';                                    // The name or url of the cursor to display on hover</td></tr>
     <tr class="danger"><td><div align="right"><a name="190"></a><a href="#190">190</a></div></td><td class="codeLine">        $marker['draggable'] = FALSE;                            // Defines if the marker is draggable</td></tr>
     <tr class="danger"><td><div align="right"><a name="191"></a><a href="#191">191</a></div></td><td class="codeLine">        $marker['flat'] = FALSE;                                // If set to TRUE will not display a shadow beneath the icon</td></tr>
     <tr class="danger"><td><div align="right"><a name="192"></a><a href="#192">192</a></div></td><td class="codeLine">        $marker['icon'] = '';                                    // The name or url of the icon to use for the marker</td></tr>
     <tr class="danger"><td><div align="right"><a name="193"></a><a href="#193">193</a></div></td><td class="codeLine">        $marker['icon_size'] = '';                                // The display size of the sprite or image being used. When using sprites, you must specify the sprite size. Expecting two comma-separated values for width and height respectively (ie '20,30'). See https://developers.google.com/maps/documentation/javascript/3.exp/reference#Icon</td></tr>
     <tr class="danger"><td><div align="right"><a name="194"></a><a href="#194">194</a></div></td><td class="codeLine">        $marker['icon_scaledSize'] = '';                        // The size of the entire image after scaling, if any. Use this property to stretch/shrink an image or a sprite. Expecting two comma-separated values for width and height respectively (ie '20,30')</td></tr>
     <tr class="danger"><td><div align="right"><a name="195"></a><a href="#195">195</a></div></td><td class="codeLine">        $marker['icon_origin'] = '';                            // If using a sprite, the position of the image within the sprite. Expecting two comma-separated values for distance from the top and left respectively (ie '20,30')</td></tr>
     <tr class="danger"><td><div align="right"><a name="196"></a><a href="#196">196</a></div></td><td class="codeLine">        $marker['icon_anchor'] = '';                            // The position at which to anchor an image in correspondance to the location of the marker on the map. By default, the anchor is located along the center point of the bottom of the image. Expecting two comma-separated values (ie '20,30'). Credit to https://github.com/colethorsen</td></tr>
     <tr class="danger"><td><div align="right"><a name="197"></a><a href="#197">197</a></div></td><td class="codeLine">        $marker['animation'] = '';                                 // blank, 'DROP' or 'BOUNCE'</td></tr>
     <tr class="danger"><td><div align="right"><a name="198"></a><a href="#198">198</a></div></td><td class="codeLine">        $marker['onclick'] = '';                                // JavaScript performed when a marker is clicked</td></tr>
     <tr class="danger"><td><div align="right"><a name="199"></a><a href="#199">199</a></div></td><td class="codeLine">        $marker['ondblclick'] = '';                                // JavaScript performed when a marker is double-clicked</td></tr>
     <tr class="danger"><td><div align="right"><a name="200"></a><a href="#200">200</a></div></td><td class="codeLine">        $marker['ondrag'] = '';                                    // JavaScript repeatedly performed while the marker is being dragged</td></tr>
     <tr class="danger"><td><div align="right"><a name="201"></a><a href="#201">201</a></div></td><td class="codeLine">        $marker['ondragstart'] = '';                            // JavaScript performed when a marker is started to be dragged</td></tr>
     <tr class="danger"><td><div align="right"><a name="202"></a><a href="#202">202</a></div></td><td class="codeLine">        $marker['ondragend'] = '';                                // JavaScript performed when a draggable marker is dropped</td></tr>
     <tr class="danger"><td><div align="right"><a name="203"></a><a href="#203">203</a></div></td><td class="codeLine">        $marker['onmousedown'] = '';                            // JavaScript performed when a mousedown event occurs on a marker</td></tr>
     <tr class="danger"><td><div align="right"><a name="204"></a><a href="#204">204</a></div></td><td class="codeLine">        $marker['onmouseout'] = '';                                // JavaScript performed when the mouse leaves the area of the marker icon</td></tr>
     <tr class="danger"><td><div align="right"><a name="205"></a><a href="#205">205</a></div></td><td class="codeLine">        $marker['onmouseover'] = '';                            // JavaScript performed when the mouse enters the area of the marker icon</td></tr>
     <tr class="danger"><td><div align="right"><a name="206"></a><a href="#206">206</a></div></td><td class="codeLine">        $marker['onmouseup'] = '';                                // JavaScript performed when a mouseup event occurs on a marker</td></tr>
     <tr class="danger"><td><div align="right"><a name="207"></a><a href="#207">207</a></div></td><td class="codeLine">        $marker['onpositionchanged'] = '';                        // JavaScript performed when the markers position changes</td></tr>
     <tr class="danger"><td><div align="right"><a name="208"></a><a href="#208">208</a></div></td><td class="codeLine">        $marker['onrightclick'] = '';                            // JavaScript performed when a right-click occurs on a marker</td></tr>
     <tr class="danger"><td><div align="right"><a name="209"></a><a href="#209">209</a></div></td><td class="codeLine">        $marker['raiseondrag'] = TRUE;                            // If FALSE, disables the raising and lowering of the icon when a marker is being dragged</td></tr>
     <tr class="danger"><td><div align="right"><a name="210"></a><a href="#210">210</a></div></td><td class="codeLine">        $marker['shadow'] = '';                                    // The name or url of the icon's shadow</td></tr>
     <tr class="danger"><td><div align="right"><a name="211"></a><a href="#211">211</a></div></td><td class="codeLine">        $marker['title'] = '';                                    // The tooltip text to show on hover</td></tr>
     <tr class="danger"><td><div align="right"><a name="212"></a><a href="#212">212</a></div></td><td class="codeLine">        $marker['visible'] = TRUE;                                // Defines if the marker is visible by default</td></tr>
     <tr class="danger"><td><div align="right"><a name="213"></a><a href="#213">213</a></div></td><td class="codeLine">        $marker['zIndex'] = '';                                    // The zIndex of the marker. If two markers overlap, the marker with the higher zIndex will appear on top</td></tr>
     <tr><td><div align="right"><a name="214"></a><a href="#214">214</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="215"></a><a href="#215">215</a></div></td><td class="codeLine">        $marker_output = '';</td></tr>
     <tr><td><div align="right"><a name="216"></a><a href="#216">216</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="217"></a><a href="#217">217</a></div></td><td class="codeLine">        foreach ($params as $key =&gt; $value) {</td></tr>
     <tr><td><div align="right"><a name="218"></a><a href="#218">218</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="219"></a><a href="#219">219</a></div></td><td class="codeLine">            if (isset($marker[$key])) {</td></tr>
     <tr><td><div align="right"><a name="220"></a><a href="#220">220</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="221"></a><a href="#221">221</a></div></td><td class="codeLine">                $marker[$key] = $value;</td></tr>
     <tr><td><div align="right"><a name="222"></a><a href="#222">222</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="223"></a><a href="#223">223</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="224"></a><a href="#224">224</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="225"></a><a href="#225">225</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="226"></a><a href="#226">226</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="227"></a><a href="#227">227</a></div></td><td class="codeLine">        $marker_id = count($this-&gt;markers);</td></tr>
     <tr class="danger"><td><div align="right"><a name="228"></a><a href="#228">228</a></div></td><td class="codeLine">        if (trim($marker['id']) != &quot;&quot;)</td></tr>
     <tr class="danger"><td><div align="right"><a name="229"></a><a href="#229">229</a></div></td><td class="codeLine">        {</td></tr>
     <tr class="danger"><td><div align="right"><a name="230"></a><a href="#230">230</a></div></td><td class="codeLine">            $marker_id = $marker['id'];</td></tr>
     <tr class="danger"><td><div align="right"><a name="231"></a><a href="#231">231</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="232"></a><a href="#232">232</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="233"></a><a href="#233">233</a></div></td><td class="codeLine">        if ($marker['position']!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="234"></a><a href="#234">234</a></div></td><td class="codeLine">            if ($this-&gt;is_lat_long($marker['position'])) {</td></tr>
     <tr><td><div align="right"><a name="235"></a><a href="#235">235</a></div></td><td class="codeLine">                $marker_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="236"></a><a href="#236">236</a></div></td><td class="codeLine">            var myLatlng = new google.maps.LatLng('.$marker['position'].');</td></tr>
     <tr class="danger"><td><div align="right"><a name="237"></a><a href="#237">237</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="238"></a><a href="#238">238</a></div></td><td class="codeLine">                $explodePosition = explode(&quot;,&quot;, $marker['position']);</td></tr>
     <tr class="danger"><td><div align="right"><a name="239"></a><a href="#239">239</a></div></td><td class="codeLine">                $this-&gt;markersInfo['marker_'.$marker_id]['latitude'] = trim($explodePosition[0]);</td></tr>
     <tr class="danger"><td><div align="right"><a name="240"></a><a href="#240">240</a></div></td><td class="codeLine">                $this-&gt;markersInfo['marker_'.$marker_id]['longitude'] = trim($explodePosition[1]);</td></tr>
     <tr class="danger"><td><div align="right"><a name="241"></a><a href="#241">241</a></div></td><td class="codeLine">            }else{</td></tr>
     <tr class="danger"><td><div align="right"><a name="242"></a><a href="#242">242</a></div></td><td class="codeLine">                $lat_long = $this-&gt;get_lat_long_from_address($marker['position']);</td></tr>
     <tr><td><div align="right"><a name="243"></a><a href="#243">243</a></div></td><td class="codeLine">                $marker_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="244"></a><a href="#244">244</a></div></td><td class="codeLine">            var myLatlng = new google.maps.LatLng('.$lat_long[0].', '.$lat_long[1].');';</td></tr>
     <tr class="danger"><td><div align="right"><a name="245"></a><a href="#245">245</a></div></td><td class="codeLine">                $this-&gt;markersInfo['marker_'.$marker_id]['latitude'] = $lat_long[0];</td></tr>
     <tr class="danger"><td><div align="right"><a name="246"></a><a href="#246">246</a></div></td><td class="codeLine">                $this-&gt;markersInfo['marker_'.$marker_id]['longitude'] = $lat_long[1];</td></tr>
     <tr><td><div align="right"><a name="247"></a><a href="#247">247</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="248"></a><a href="#248">248</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="249"></a><a href="#249">249</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="250"></a><a href="#250">250</a></div></td><td class="codeLine">        if ($marker['icon']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="251"></a><a href="#251">251</a></div></td><td class="codeLine">            $marker_output .= '</td></tr>
     <tr><td><div align="right"><a name="252"></a><a href="#252">252</a></div></td><td class="codeLine">                var marker_icon = {</td></tr>
     <tr class="danger"><td><div align="right"><a name="253"></a><a href="#253">253</a></div></td><td class="codeLine">                    url: &quot;'.$marker['icon'].'&quot;';</td></tr>
     <tr class="danger"><td><div align="right"><a name="254"></a><a href="#254">254</a></div></td><td class="codeLine">            if ($marker['icon_size']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="255"></a><a href="#255">255</a></div></td><td class="codeLine">                $marker_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="256"></a><a href="#256">256</a></div></td><td class="codeLine">                    size: new google.maps.Size('.$marker['icon_size'].')';</td></tr>
     <tr class="danger"><td><div align="right"><a name="257"></a><a href="#257">257</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="258"></a><a href="#258">258</a></div></td><td class="codeLine">            if ($marker['icon_scaledSize']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="259"></a><a href="#259">259</a></div></td><td class="codeLine">                $marker_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="260"></a><a href="#260">260</a></div></td><td class="codeLine">                    scaledSize: new google.maps.Size('.$marker['icon_scaledSize'].')';</td></tr>
     <tr class="danger"><td><div align="right"><a name="261"></a><a href="#261">261</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="262"></a><a href="#262">262</a></div></td><td class="codeLine">                if ($marker['icon_origin']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="263"></a><a href="#263">263</a></div></td><td class="codeLine">                $marker_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="264"></a><a href="#264">264</a></div></td><td class="codeLine">                    origin: new google.maps.Point('.$marker['icon_origin'].')';</td></tr>
     <tr class="danger"><td><div align="right"><a name="265"></a><a href="#265">265</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="266"></a><a href="#266">266</a></div></td><td class="codeLine">            if ($marker['icon_anchor']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="267"></a><a href="#267">267</a></div></td><td class="codeLine">                $marker_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="268"></a><a href="#268">268</a></div></td><td class="codeLine">                    anchor: new google.maps.Point('.$marker['icon_anchor'].')';</td></tr>
     <tr class="danger"><td><div align="right"><a name="269"></a><a href="#269">269</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="270"></a><a href="#270">270</a></div></td><td class="codeLine">            $marker_output .= '};</td></tr>
     <tr class="danger"><td><div align="right"><a name="271"></a><a href="#271">271</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="272"></a><a href="#272">272</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="273"></a><a href="#273">273</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="274"></a><a href="#274">274</a></div></td><td class="codeLine">        $marker_output .= '</td></tr>
     <tr><td><div align="right"><a name="275"></a><a href="#275">275</a></div></td><td class="codeLine">            var markerOptions = {</td></tr>
     <tr class="danger"><td><div align="right"><a name="276"></a><a href="#276">276</a></div></td><td class="codeLine">                map: '.$this-&gt;map_name;</td></tr>
     <tr class="danger"><td><div align="right"><a name="277"></a><a href="#277">277</a></div></td><td class="codeLine">        if ($marker['position']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="278"></a><a href="#278">278</a></div></td><td class="codeLine">            $marker_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="279"></a><a href="#279">279</a></div></td><td class="codeLine">                position: myLatlng';</td></tr>
     <tr class="danger"><td><div align="right"><a name="280"></a><a href="#280">280</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="281"></a><a href="#281">281</a></div></td><td class="codeLine">        if (!$marker['clickable']) {</td></tr>
     <tr><td><div align="right"><a name="282"></a><a href="#282">282</a></div></td><td class="codeLine">            $marker_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="283"></a><a href="#283">283</a></div></td><td class="codeLine">                clickable: false';</td></tr>
     <tr class="danger"><td><div align="right"><a name="284"></a><a href="#284">284</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="285"></a><a href="#285">285</a></div></td><td class="codeLine">        if ($marker['cursor']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="286"></a><a href="#286">286</a></div></td><td class="codeLine">            $marker_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="287"></a><a href="#287">287</a></div></td><td class="codeLine">                cursor: &quot;'.$marker['cursor'].'&quot;';</td></tr>
     <tr class="danger"><td><div align="right"><a name="288"></a><a href="#288">288</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="289"></a><a href="#289">289</a></div></td><td class="codeLine">        if ($marker['draggable']) {</td></tr>
     <tr><td><div align="right"><a name="290"></a><a href="#290">290</a></div></td><td class="codeLine">            $marker_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="291"></a><a href="#291">291</a></div></td><td class="codeLine">                draggable: true';</td></tr>
     <tr class="danger"><td><div align="right"><a name="292"></a><a href="#292">292</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="293"></a><a href="#293">293</a></div></td><td class="codeLine">        if ($marker['flat']) {</td></tr>
     <tr><td><div align="right"><a name="294"></a><a href="#294">294</a></div></td><td class="codeLine">            $marker_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="295"></a><a href="#295">295</a></div></td><td class="codeLine">                flat: true';</td></tr>
     <tr class="danger"><td><div align="right"><a name="296"></a><a href="#296">296</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="297"></a><a href="#297">297</a></div></td><td class="codeLine">        if ($marker['icon']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="298"></a><a href="#298">298</a></div></td><td class="codeLine">            $marker_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="299"></a><a href="#299">299</a></div></td><td class="codeLine">                icon: marker_icon';</td></tr>
     <tr class="danger"><td><div align="right"><a name="300"></a><a href="#300">300</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="301"></a><a href="#301">301</a></div></td><td class="codeLine">        if (!$marker['raiseondrag']) {</td></tr>
     <tr><td><div align="right"><a name="302"></a><a href="#302">302</a></div></td><td class="codeLine">            $marker_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="303"></a><a href="#303">303</a></div></td><td class="codeLine">                raiseOnDrag: false';</td></tr>
     <tr class="danger"><td><div align="right"><a name="304"></a><a href="#304">304</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="305"></a><a href="#305">305</a></div></td><td class="codeLine">        if ($marker['shadow']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="306"></a><a href="#306">306</a></div></td><td class="codeLine">            $marker_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="307"></a><a href="#307">307</a></div></td><td class="codeLine">                shadow: &quot;'.$marker['shadow'].'&quot;';</td></tr>
     <tr class="danger"><td><div align="right"><a name="308"></a><a href="#308">308</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="309"></a><a href="#309">309</a></div></td><td class="codeLine">        if ($marker['title']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="310"></a><a href="#310">310</a></div></td><td class="codeLine">            $marker_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="311"></a><a href="#311">311</a></div></td><td class="codeLine">                title: &quot;'.$marker['title'].'&quot;';</td></tr>
     <tr class="danger"><td><div align="right"><a name="312"></a><a href="#312">312</a></div></td><td class="codeLine">            $this-&gt;markersInfo['marker_'.$marker_id]['title'] = $marker['title'];</td></tr>
     <tr class="danger"><td><div align="right"><a name="313"></a><a href="#313">313</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="314"></a><a href="#314">314</a></div></td><td class="codeLine">        if (!$marker['visible']) {</td></tr>
     <tr><td><div align="right"><a name="315"></a><a href="#315">315</a></div></td><td class="codeLine">            $marker_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="316"></a><a href="#316">316</a></div></td><td class="codeLine">                visible: false';</td></tr>
     <tr class="danger"><td><div align="right"><a name="317"></a><a href="#317">317</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="318"></a><a href="#318">318</a></div></td><td class="codeLine">        if ($marker['zIndex']!=&quot;&quot; &amp;&amp; is_numeric($marker['zIndex'])) {</td></tr>
     <tr><td><div align="right"><a name="319"></a><a href="#319">319</a></div></td><td class="codeLine">            $marker_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="320"></a><a href="#320">320</a></div></td><td class="codeLine">                zIndex: '.$marker['zIndex'];</td></tr>
     <tr class="danger"><td><div align="right"><a name="321"></a><a href="#321">321</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="322"></a><a href="#322">322</a></div></td><td class="codeLine">        if ($marker['animation']!=&quot;&quot; &amp;&amp; (strtoupper($marker['animation'])==&quot;DROP&quot; || strtoupper($marker['animation']==&quot;BOUNCE&quot;))) {</td></tr>
     <tr><td><div align="right"><a name="323"></a><a href="#323">323</a></div></td><td class="codeLine">            $marker_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="324"></a><a href="#324">324</a></div></td><td class="codeLine">                animation:  google.maps.Animation.'.strtoupper($marker['animation']);</td></tr>
     <tr class="danger"><td><div align="right"><a name="325"></a><a href="#325">325</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="326"></a><a href="#326">326</a></div></td><td class="codeLine">        $marker_output .= '</td></tr>
     <tr><td><div align="right"><a name="327"></a><a href="#327">327</a></div></td><td class="codeLine">            };</td></tr>
     <tr class="danger"><td><div align="right"><a name="328"></a><a href="#328">328</a></div></td><td class="codeLine">            marker_'.$marker_id.' = createMarker_'.$this-&gt;map_name.'(markerOptions);</td></tr>
     <tr class="danger"><td><div align="right"><a name="329"></a><a href="#329">329</a></div></td><td class="codeLine">            ';</td></tr>
     <tr><td><div align="right"><a name="330"></a><a href="#330">330</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="331"></a><a href="#331">331</a></div></td><td class="codeLine">        if ($marker['infowindow_content']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="332"></a><a href="#332">332</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="333"></a><a href="#333">333</a></div></td><td class="codeLine">            // Escape any quotes in the event that HTML is being added to the infowindow</td></tr>
     <tr class="danger"><td><div align="right"><a name="334"></a><a href="#334">334</a></div></td><td class="codeLine">            $marker['infowindow_content'] = str_replace('\&quot;', '&quot;', $marker['infowindow_content']);</td></tr>
     <tr class="danger"><td><div align="right"><a name="335"></a><a href="#335">335</a></div></td><td class="codeLine">            $marker['infowindow_content'] = str_replace('&quot;', '\&quot;', $marker['infowindow_content']);</td></tr>
     <tr><td><div align="right"><a name="336"></a><a href="#336">336</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="337"></a><a href="#337">337</a></div></td><td class="codeLine">            $marker_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="338"></a><a href="#338">338</a></div></td><td class="codeLine">            marker_'.$marker_id.'.set(&quot;content&quot;, &quot;'.$marker['infowindow_content'].'&quot;);</td></tr>
     <tr><td><div align="right"><a name="339"></a><a href="#339">339</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="340"></a><a href="#340">340</a></div></td><td class="codeLine">            google.maps.event.addListener(marker_'.$marker_id.', &quot;click&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="341"></a><a href="#341">341</a></div></td><td class="codeLine">                iw_'.$this-&gt;map_name.'.setContent(this.get(&quot;content&quot;));</td></tr>
     <tr class="danger"><td><div align="right"><a name="342"></a><a href="#342">342</a></div></td><td class="codeLine">                iw_'.$this-&gt;map_name.'.open('.$this-&gt;map_name.', this);</td></tr>
     <tr class="danger"><td><div align="right"><a name="343"></a><a href="#343">343</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="344"></a><a href="#344">344</a></div></td><td class="codeLine">            if ($marker['onclick']!=&quot;&quot;) { $marker_output .= $marker['onclick'].'</td></tr>
     <tr class="danger"><td><div align="right"><a name="345"></a><a href="#345">345</a></div></td><td class="codeLine">            '; }</td></tr>
     <tr><td><div align="right"><a name="346"></a><a href="#346">346</a></div></td><td class="codeLine">            $marker_output .= '</td></tr>
     <tr><td><div align="right"><a name="347"></a><a href="#347">347</a></div></td><td class="codeLine">            });</td></tr>
     <tr class="danger"><td><div align="right"><a name="348"></a><a href="#348">348</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="349"></a><a href="#349">349</a></div></td><td class="codeLine">        }else{</td></tr>
     <tr class="danger"><td><div align="right"><a name="350"></a><a href="#350">350</a></div></td><td class="codeLine">            if ($marker['onclick']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="351"></a><a href="#351">351</a></div></td><td class="codeLine">                $marker_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="352"></a><a href="#352">352</a></div></td><td class="codeLine">                google.maps.event.addListener(marker_'.$marker_id.', &quot;click&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="353"></a><a href="#353">353</a></div></td><td class="codeLine">                    '.$marker['onclick'].'</td></tr>
     <tr><td><div align="right"><a name="354"></a><a href="#354">354</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="355"></a><a href="#355">355</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="356"></a><a href="#356">356</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="357"></a><a href="#357">357</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="358"></a><a href="#358">358</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="359"></a><a href="#359">359</a></div></td><td class="codeLine">        if ($marker['ondblclick']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="360"></a><a href="#360">360</a></div></td><td class="codeLine">            $marker_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="361"></a><a href="#361">361</a></div></td><td class="codeLine">            google.maps.event.addListener(marker_'.$marker_id.', &quot;dblclick&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="362"></a><a href="#362">362</a></div></td><td class="codeLine">                '.$marker['ondblclick'].'</td></tr>
     <tr><td><div align="right"><a name="363"></a><a href="#363">363</a></div></td><td class="codeLine">            });</td></tr>
     <tr class="danger"><td><div align="right"><a name="364"></a><a href="#364">364</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="365"></a><a href="#365">365</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="366"></a><a href="#366">366</a></div></td><td class="codeLine">        if ($marker['onmousedown']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="367"></a><a href="#367">367</a></div></td><td class="codeLine">            $marker_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="368"></a><a href="#368">368</a></div></td><td class="codeLine">            google.maps.event.addListener(marker_'.$marker_id.', &quot;mousedown&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="369"></a><a href="#369">369</a></div></td><td class="codeLine">                '.$marker['onmousedown'].'</td></tr>
     <tr><td><div align="right"><a name="370"></a><a href="#370">370</a></div></td><td class="codeLine">            });</td></tr>
     <tr class="danger"><td><div align="right"><a name="371"></a><a href="#371">371</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="372"></a><a href="#372">372</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="373"></a><a href="#373">373</a></div></td><td class="codeLine">        if ($marker['onmouseout']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="374"></a><a href="#374">374</a></div></td><td class="codeLine">            $marker_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="375"></a><a href="#375">375</a></div></td><td class="codeLine">            google.maps.event.addListener(marker_'.$marker_id.', &quot;mouseout&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="376"></a><a href="#376">376</a></div></td><td class="codeLine">                '.$marker['onmouseout'].'</td></tr>
     <tr><td><div align="right"><a name="377"></a><a href="#377">377</a></div></td><td class="codeLine">            });</td></tr>
     <tr class="danger"><td><div align="right"><a name="378"></a><a href="#378">378</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="379"></a><a href="#379">379</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="380"></a><a href="#380">380</a></div></td><td class="codeLine">        if ($marker['onmouseover']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="381"></a><a href="#381">381</a></div></td><td class="codeLine">            $marker_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="382"></a><a href="#382">382</a></div></td><td class="codeLine">            google.maps.event.addListener(marker_'.$marker_id.', &quot;mouseover&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="383"></a><a href="#383">383</a></div></td><td class="codeLine">                '.$marker['onmouseover'].'</td></tr>
     <tr><td><div align="right"><a name="384"></a><a href="#384">384</a></div></td><td class="codeLine">            });</td></tr>
     <tr class="danger"><td><div align="right"><a name="385"></a><a href="#385">385</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="386"></a><a href="#386">386</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="387"></a><a href="#387">387</a></div></td><td class="codeLine">        if ($marker['onmouseup']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="388"></a><a href="#388">388</a></div></td><td class="codeLine">            $marker_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="389"></a><a href="#389">389</a></div></td><td class="codeLine">            google.maps.event.addListener(marker_'.$marker_id.', &quot;mouseup&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="390"></a><a href="#390">390</a></div></td><td class="codeLine">                '.$marker['onmouseup'].'</td></tr>
     <tr><td><div align="right"><a name="391"></a><a href="#391">391</a></div></td><td class="codeLine">            });</td></tr>
     <tr class="danger"><td><div align="right"><a name="392"></a><a href="#392">392</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="393"></a><a href="#393">393</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="394"></a><a href="#394">394</a></div></td><td class="codeLine">        if ($marker['onpositionchanged']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="395"></a><a href="#395">395</a></div></td><td class="codeLine">            $marker_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="396"></a><a href="#396">396</a></div></td><td class="codeLine">            google.maps.event.addListener(marker_'.$marker_id.', &quot;position_changed&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="397"></a><a href="#397">397</a></div></td><td class="codeLine">                '.$marker['onpositionchanged'].'</td></tr>
     <tr><td><div align="right"><a name="398"></a><a href="#398">398</a></div></td><td class="codeLine">            });</td></tr>
     <tr class="danger"><td><div align="right"><a name="399"></a><a href="#399">399</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="400"></a><a href="#400">400</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="401"></a><a href="#401">401</a></div></td><td class="codeLine">        if ($marker['onrightclick']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="402"></a><a href="#402">402</a></div></td><td class="codeLine">            $marker_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="403"></a><a href="#403">403</a></div></td><td class="codeLine">            google.maps.event.addListener(marker_'.$marker_id.', &quot;rightclick&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="404"></a><a href="#404">404</a></div></td><td class="codeLine">                '.$marker['onrightclick'].'</td></tr>
     <tr><td><div align="right"><a name="405"></a><a href="#405">405</a></div></td><td class="codeLine">            });</td></tr>
     <tr class="danger"><td><div align="right"><a name="406"></a><a href="#406">406</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="407"></a><a href="#407">407</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="408"></a><a href="#408">408</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="409"></a><a href="#409">409</a></div></td><td class="codeLine">        if ($marker['draggable']) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="410"></a><a href="#410">410</a></div></td><td class="codeLine">            if ($marker['ondrag']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="411"></a><a href="#411">411</a></div></td><td class="codeLine">                $marker_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="412"></a><a href="#412">412</a></div></td><td class="codeLine">                google.maps.event.addListener(marker_'.$marker_id.', &quot;drag&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="413"></a><a href="#413">413</a></div></td><td class="codeLine">                    '.$marker['ondrag'].'</td></tr>
     <tr><td><div align="right"><a name="414"></a><a href="#414">414</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="415"></a><a href="#415">415</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="416"></a><a href="#416">416</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="417"></a><a href="#417">417</a></div></td><td class="codeLine">            if ($marker['ondragend']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="418"></a><a href="#418">418</a></div></td><td class="codeLine">                $marker_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="419"></a><a href="#419">419</a></div></td><td class="codeLine">                google.maps.event.addListener(marker_'.$marker_id.', &quot;dragend&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="420"></a><a href="#420">420</a></div></td><td class="codeLine">                    '.$marker['ondragend'].'</td></tr>
     <tr><td><div align="right"><a name="421"></a><a href="#421">421</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="422"></a><a href="#422">422</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="423"></a><a href="#423">423</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="424"></a><a href="#424">424</a></div></td><td class="codeLine">            if ($marker['ondragstart']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="425"></a><a href="#425">425</a></div></td><td class="codeLine">                $marker_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="426"></a><a href="#426">426</a></div></td><td class="codeLine">                google.maps.event.addListener(marker_'.$marker_id.', &quot;dragstart&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="427"></a><a href="#427">427</a></div></td><td class="codeLine">                    '.$marker['ondragstart'].'</td></tr>
     <tr><td><div align="right"><a name="428"></a><a href="#428">428</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="429"></a><a href="#429">429</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="430"></a><a href="#430">430</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="431"></a><a href="#431">431</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="432"></a><a href="#432">432</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="433"></a><a href="#433">433</a></div></td><td class="codeLine">        array_push($this-&gt;markers, $marker_output);</td></tr>
     <tr><td><div align="right"><a name="434"></a><a href="#434">434</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="435"></a><a href="#435">435</a></div></td><td class="codeLine">    }</td></tr>
     <tr><td><div align="right"><a name="436"></a><a href="#436">436</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="437"></a><a href="#437">437</a></div></td><td class="codeLine">    function add_polyline($params = array())</td></tr>
     <tr><td><div align="right"><a name="438"></a><a href="#438">438</a></div></td><td class="codeLine">    {</td></tr>
     <tr><td><div align="right"><a name="439"></a><a href="#439">439</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="440"></a><a href="#440">440</a></div></td><td class="codeLine">        $polyline = array();</td></tr>
     <tr><td><div align="right"><a name="441"></a><a href="#441">441</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="442"></a><a href="#442">442</a></div></td><td class="codeLine">        $polyline['points'] = array();                            // An array of latitude/longitude coordinates OR addresses, or a mixture of both. If an address is supplied the Google geocoding service will be used to return a lat/long.</td></tr>
     <tr class="danger"><td><div align="right"><a name="443"></a><a href="#443">443</a></div></td><td class="codeLine">        $polyline['clickable'] = TRUE;                            // Defines if the polyline is clickable</td></tr>
     <tr class="danger"><td><div align="right"><a name="444"></a><a href="#444">444</a></div></td><td class="codeLine">        $polyline['strokeColor'] = '#FF0000';                    // The hex value of the polylines color</td></tr>
     <tr class="danger"><td><div align="right"><a name="445"></a><a href="#445">445</a></div></td><td class="codeLine">        $polyline['strokeOpacity'] = '1.0';                        // The opacity of the polyline. 0 to 1.0</td></tr>
     <tr class="danger"><td><div align="right"><a name="446"></a><a href="#446">446</a></div></td><td class="codeLine">        $polyline['strokeWeight'] = '2';                        // The thickness of the polyline</td></tr>
     <tr class="danger"><td><div align="right"><a name="447"></a><a href="#447">447</a></div></td><td class="codeLine">        $polyline['onclick'] = '';                                // JavaScript performed when a polyline is clicked</td></tr>
     <tr class="danger"><td><div align="right"><a name="448"></a><a href="#448">448</a></div></td><td class="codeLine">        $polyline['ondblclick'] = '';                            // JavaScript performed when a polyline is double-clicked</td></tr>
     <tr class="danger"><td><div align="right"><a name="449"></a><a href="#449">449</a></div></td><td class="codeLine">        $polyline['onmousedown'] = '';                            // JavaScript performed when a mousedown event occurs on a polyline</td></tr>
     <tr class="danger"><td><div align="right"><a name="450"></a><a href="#450">450</a></div></td><td class="codeLine">        $polyline['onmousemove'] = '';                            // JavaScript performed when the mouse moves in the area of the polyline</td></tr>
     <tr class="danger"><td><div align="right"><a name="451"></a><a href="#451">451</a></div></td><td class="codeLine">        $polyline['onmouseout'] = '';                            // JavaScript performed when the mouse leaves the area of the polyline</td></tr>
     <tr class="danger"><td><div align="right"><a name="452"></a><a href="#452">452</a></div></td><td class="codeLine">        $polyline['onmouseover'] = '';                            // JavaScript performed when the mouse enters the area of the polyline</td></tr>
     <tr class="danger"><td><div align="right"><a name="453"></a><a href="#453">453</a></div></td><td class="codeLine">        $polyline['onmouseup'] = '';                            // JavaScript performed when a mouseup event occurs on a polyline</td></tr>
     <tr class="danger"><td><div align="right"><a name="454"></a><a href="#454">454</a></div></td><td class="codeLine">        $polyline['onrightclick'] = '';                            // JavaScript performed when a right-click occurs on a polyline</td></tr>
     <tr class="danger"><td><div align="right"><a name="455"></a><a href="#455">455</a></div></td><td class="codeLine">        $polyline['zIndex'] = '';                                // The zIndex of the polyline. If two polylines overlap, the polyline with the higher zIndex will appear on top</td></tr>
     <tr><td><div align="right"><a name="456"></a><a href="#456">456</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="457"></a><a href="#457">457</a></div></td><td class="codeLine">        $polyline_output = '';</td></tr>
     <tr><td><div align="right"><a name="458"></a><a href="#458">458</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="459"></a><a href="#459">459</a></div></td><td class="codeLine">        foreach ($params as $key =&gt; $value) {</td></tr>
     <tr><td><div align="right"><a name="460"></a><a href="#460">460</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="461"></a><a href="#461">461</a></div></td><td class="codeLine">            if (isset($polyline[$key])) {</td></tr>
     <tr><td><div align="right"><a name="462"></a><a href="#462">462</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="463"></a><a href="#463">463</a></div></td><td class="codeLine">                $polyline[$key] = $value;</td></tr>
     <tr><td><div align="right"><a name="464"></a><a href="#464">464</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="465"></a><a href="#465">465</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="466"></a><a href="#466">466</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="467"></a><a href="#467">467</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="468"></a><a href="#468">468</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="469"></a><a href="#469">469</a></div></td><td class="codeLine">        if (count($polyline['points'])) {</td></tr>
     <tr><td><div align="right"><a name="470"></a><a href="#470">470</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="471"></a><a href="#471">471</a></div></td><td class="codeLine">            $polyline_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="472"></a><a href="#472">472</a></div></td><td class="codeLine">                var polyline_plan_'.count($this-&gt;polylines).' = [';</td></tr>
     <tr class="danger"><td><div align="right"><a name="473"></a><a href="#473">473</a></div></td><td class="codeLine">            $i=0;</td></tr>
     <tr class="danger"><td><div align="right"><a name="474"></a><a href="#474">474</a></div></td><td class="codeLine">            $lat_long_output = '';</td></tr>
     <tr class="danger"><td><div align="right"><a name="475"></a><a href="#475">475</a></div></td><td class="codeLine">            foreach ($polyline['points'] as $point) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="476"></a><a href="#476">476</a></div></td><td class="codeLine">                if ($i&gt;0) { $polyline_output .= ','; }</td></tr>
     <tr class="danger"><td><div align="right"><a name="477"></a><a href="#477">477</a></div></td><td class="codeLine">                $lat_long_to_push = '';</td></tr>
     <tr class="danger"><td><div align="right"><a name="478"></a><a href="#478">478</a></div></td><td class="codeLine">                if ($this-&gt;is_lat_long($point)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="479"></a><a href="#479">479</a></div></td><td class="codeLine">                    $lat_long_to_push = $point;</td></tr>
     <tr><td><div align="right"><a name="480"></a><a href="#480">480</a></div></td><td class="codeLine">                    $polyline_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="481"></a><a href="#481">481</a></div></td><td class="codeLine">                    new google.maps.LatLng('.$point.')</td></tr>
     <tr class="danger"><td><div align="right"><a name="482"></a><a href="#482">482</a></div></td><td class="codeLine">                    ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="483"></a><a href="#483">483</a></div></td><td class="codeLine">                }else{</td></tr>
     <tr class="danger"><td><div align="right"><a name="484"></a><a href="#484">484</a></div></td><td class="codeLine">                    $lat_long = $this-&gt;get_lat_long_from_address($point);</td></tr>
     <tr><td><div align="right"><a name="485"></a><a href="#485">485</a></div></td><td class="codeLine">                    $polyline_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="486"></a><a href="#486">486</a></div></td><td class="codeLine">                    new google.maps.LatLng('.$lat_long[0].', '.$lat_long[1].')';</td></tr>
     <tr class="danger"><td><div align="right"><a name="487"></a><a href="#487">487</a></div></td><td class="codeLine">                    $lat_long_to_push = $lat_long[0].', '.$lat_long[1];</td></tr>
     <tr><td><div align="right"><a name="488"></a><a href="#488">488</a></div></td><td class="codeLine">                }</td></tr>
     <tr><td><div align="right"><a name="489"></a><a href="#489">489</a></div></td><td class="codeLine">                $lat_long_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="490"></a><a href="#490">490</a></div></td><td class="codeLine">                    lat_longs_'.$this-&gt;map_name.'.push(new google.maps.LatLng('.$lat_long_to_push.'));</td></tr>
     <tr class="danger"><td><div align="right"><a name="491"></a><a href="#491">491</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="492"></a><a href="#492">492</a></div></td><td class="codeLine">                $i++;</td></tr>
     <tr class="danger"><td><div align="right"><a name="493"></a><a href="#493">493</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="494"></a><a href="#494">494</a></div></td><td class="codeLine">            $polyline_output .= '];';</td></tr>
     <tr><td><div align="right"><a name="495"></a><a href="#495">495</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="496"></a><a href="#496">496</a></div></td><td class="codeLine">            $polyline_output .= $lat_long_output;</td></tr>
     <tr><td><div align="right"><a name="497"></a><a href="#497">497</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="498"></a><a href="#498">498</a></div></td><td class="codeLine">            $polyline_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="499"></a><a href="#499">499</a></div></td><td class="codeLine">                var polyline_'.count($this-&gt;polylines).' = new google.maps.Polyline({</td></tr>
     <tr class="danger"><td><div align="right"><a name="500"></a><a href="#500">500</a></div></td><td class="codeLine">                    path: polyline_plan_'.count($this-&gt;polylines).',</td></tr>
     <tr class="danger"><td><div align="right"><a name="501"></a><a href="#501">501</a></div></td><td class="codeLine">                    strokeColor: &quot;'.$polyline['strokeColor'].'&quot;,</td></tr>
     <tr class="danger"><td><div align="right"><a name="502"></a><a href="#502">502</a></div></td><td class="codeLine">                    strokeOpacity: '.$polyline['strokeOpacity'].',</td></tr>
     <tr class="danger"><td><div align="right"><a name="503"></a><a href="#503">503</a></div></td><td class="codeLine">                    strokeWeight: '.$polyline['strokeWeight'];</td></tr>
     <tr class="danger"><td><div align="right"><a name="504"></a><a href="#504">504</a></div></td><td class="codeLine">            if (!$polyline['clickable']) {</td></tr>
     <tr><td><div align="right"><a name="505"></a><a href="#505">505</a></div></td><td class="codeLine">                $polyline_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="506"></a><a href="#506">506</a></div></td><td class="codeLine">                    clickable: false';</td></tr>
     <tr class="danger"><td><div align="right"><a name="507"></a><a href="#507">507</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="508"></a><a href="#508">508</a></div></td><td class="codeLine">            if ($polyline['zIndex']!=&quot;&quot; &amp;&amp; is_numeric($polyline['zIndex'])) {</td></tr>
     <tr><td><div align="right"><a name="509"></a><a href="#509">509</a></div></td><td class="codeLine">                $polyline_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="510"></a><a href="#510">510</a></div></td><td class="codeLine">                    zIndex: '.$polyline['zIndex'];</td></tr>
     <tr class="danger"><td><div align="right"><a name="511"></a><a href="#511">511</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="512"></a><a href="#512">512</a></div></td><td class="codeLine">             $polyline_output .= '</td></tr>
     <tr><td><div align="right"><a name="513"></a><a href="#513">513</a></div></td><td class="codeLine">                });</td></tr>
     <tr><td><div align="right"><a name="514"></a><a href="#514">514</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="515"></a><a href="#515">515</a></div></td><td class="codeLine">                polyline_'.count($this-&gt;polylines).'.setMap('.$this-&gt;map_name.');</td></tr>
     <tr><td><div align="right"><a name="516"></a><a href="#516">516</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="517"></a><a href="#517">517</a></div></td><td class="codeLine">            ';</td></tr>
     <tr><td><div align="right"><a name="518"></a><a href="#518">518</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="519"></a><a href="#519">519</a></div></td><td class="codeLine">            if ($polyline['onclick']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="520"></a><a href="#520">520</a></div></td><td class="codeLine">                $polyline_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="521"></a><a href="#521">521</a></div></td><td class="codeLine">                google.maps.event.addListener(polyline_'.count($this-&gt;polylines).', &quot;click&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="522"></a><a href="#522">522</a></div></td><td class="codeLine">                    '.$polyline['onclick'].'</td></tr>
     <tr><td><div align="right"><a name="523"></a><a href="#523">523</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="524"></a><a href="#524">524</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="525"></a><a href="#525">525</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="526"></a><a href="#526">526</a></div></td><td class="codeLine">            if ($polyline['ondblclick']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="527"></a><a href="#527">527</a></div></td><td class="codeLine">                $polyline_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="528"></a><a href="#528">528</a></div></td><td class="codeLine">                google.maps.event.addListener(polyline_'.count($this-&gt;polylines).', &quot;dblclick&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="529"></a><a href="#529">529</a></div></td><td class="codeLine">                    '.$polyline['ondblclick'].'</td></tr>
     <tr><td><div align="right"><a name="530"></a><a href="#530">530</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="531"></a><a href="#531">531</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="532"></a><a href="#532">532</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="533"></a><a href="#533">533</a></div></td><td class="codeLine">            if ($polyline['onmousedown']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="534"></a><a href="#534">534</a></div></td><td class="codeLine">                $polyline_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="535"></a><a href="#535">535</a></div></td><td class="codeLine">                google.maps.event.addListener(polyline_'.count($this-&gt;polylines).', &quot;mousedown&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="536"></a><a href="#536">536</a></div></td><td class="codeLine">                    '.$polyline['onmousedown'].'</td></tr>
     <tr><td><div align="right"><a name="537"></a><a href="#537">537</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="538"></a><a href="#538">538</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="539"></a><a href="#539">539</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="540"></a><a href="#540">540</a></div></td><td class="codeLine">            if ($polyline['onmousemove']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="541"></a><a href="#541">541</a></div></td><td class="codeLine">                $polyline_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="542"></a><a href="#542">542</a></div></td><td class="codeLine">                google.maps.event.addListener(polyline_'.count($this-&gt;polylines).', &quot;mousemove&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="543"></a><a href="#543">543</a></div></td><td class="codeLine">                    '.$polyline['onmousemove'].'</td></tr>
     <tr><td><div align="right"><a name="544"></a><a href="#544">544</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="545"></a><a href="#545">545</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="546"></a><a href="#546">546</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="547"></a><a href="#547">547</a></div></td><td class="codeLine">            if ($polyline['onmouseout']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="548"></a><a href="#548">548</a></div></td><td class="codeLine">                $polyline_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="549"></a><a href="#549">549</a></div></td><td class="codeLine">                google.maps.event.addListener(polyline_'.count($this-&gt;polylines).', &quot;mouseout&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="550"></a><a href="#550">550</a></div></td><td class="codeLine">                    '.$polyline['onmouseout'].'</td></tr>
     <tr><td><div align="right"><a name="551"></a><a href="#551">551</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="552"></a><a href="#552">552</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="553"></a><a href="#553">553</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="554"></a><a href="#554">554</a></div></td><td class="codeLine">            if ($polyline['onmouseover']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="555"></a><a href="#555">555</a></div></td><td class="codeLine">                $polyline_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="556"></a><a href="#556">556</a></div></td><td class="codeLine">                google.maps.event.addListener(polyline_'.count($this-&gt;polylines).', &quot;mouseover&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="557"></a><a href="#557">557</a></div></td><td class="codeLine">                    '.$polyline['onmouseover'].'</td></tr>
     <tr><td><div align="right"><a name="558"></a><a href="#558">558</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="559"></a><a href="#559">559</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="560"></a><a href="#560">560</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="561"></a><a href="#561">561</a></div></td><td class="codeLine">            if ($polyline['onmouseup']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="562"></a><a href="#562">562</a></div></td><td class="codeLine">                $polyline_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="563"></a><a href="#563">563</a></div></td><td class="codeLine">                google.maps.event.addListener(polyline_'.count($this-&gt;polylines).', &quot;mouseup&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="564"></a><a href="#564">564</a></div></td><td class="codeLine">                    '.$polyline['onmouseup'].'</td></tr>
     <tr><td><div align="right"><a name="565"></a><a href="#565">565</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="566"></a><a href="#566">566</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="567"></a><a href="#567">567</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="568"></a><a href="#568">568</a></div></td><td class="codeLine">            if ($polyline['onrightclick']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="569"></a><a href="#569">569</a></div></td><td class="codeLine">                $polyline_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="570"></a><a href="#570">570</a></div></td><td class="codeLine">                google.maps.event.addListener(polyline_'.count($this-&gt;polylines).', &quot;rightclick&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="571"></a><a href="#571">571</a></div></td><td class="codeLine">                    '.$polyline['onrightclick'].'</td></tr>
     <tr><td><div align="right"><a name="572"></a><a href="#572">572</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="573"></a><a href="#573">573</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="574"></a><a href="#574">574</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="575"></a><a href="#575">575</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="576"></a><a href="#576">576</a></div></td><td class="codeLine">            array_push($this-&gt;polylines, $polyline_output);</td></tr>
     <tr><td><div align="right"><a name="577"></a><a href="#577">577</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="578"></a><a href="#578">578</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="579"></a><a href="#579">579</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="580"></a><a href="#580">580</a></div></td><td class="codeLine">    }</td></tr>
     <tr><td><div align="right"><a name="581"></a><a href="#581">581</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="582"></a><a href="#582">582</a></div></td><td class="codeLine">    function add_polygon($params = array())</td></tr>
     <tr><td><div align="right"><a name="583"></a><a href="#583">583</a></div></td><td class="codeLine">    {</td></tr>
     <tr><td><div align="right"><a name="584"></a><a href="#584">584</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="585"></a><a href="#585">585</a></div></td><td class="codeLine">        $polygon = array();</td></tr>
     <tr><td><div align="right"><a name="586"></a><a href="#586">586</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="587"></a><a href="#587">587</a></div></td><td class="codeLine">        $polygon['points'] = array();                            // The positions (latitude/longitude coordinates OR addresses) at which the polygon points will appear. NOTE: The first and last elements of the array must be the same</td></tr>
     <tr class="danger"><td><div align="right"><a name="588"></a><a href="#588">588</a></div></td><td class="codeLine">        $polygon['clickable'] = TRUE;                            // Defines if the polygon is clickable</td></tr>
     <tr class="danger"><td><div align="right"><a name="589"></a><a href="#589">589</a></div></td><td class="codeLine">        $polygon['strokeColor'] = '#FF0000';                    // The hex value of the polygons border color</td></tr>
     <tr class="danger"><td><div align="right"><a name="590"></a><a href="#590">590</a></div></td><td class="codeLine">        $polygon['strokeOpacity'] = '0.8';                        // The opacity of the polygon border. 0 to 1.0</td></tr>
     <tr class="danger"><td><div align="right"><a name="591"></a><a href="#591">591</a></div></td><td class="codeLine">        $polygon['strokeWeight'] = '2';                            // The thickness of the polygon border</td></tr>
     <tr class="danger"><td><div align="right"><a name="592"></a><a href="#592">592</a></div></td><td class="codeLine">        $polygon['fillColor'] = '#FF0000';                        // The hex value of the polygons fill color</td></tr>
     <tr class="danger"><td><div align="right"><a name="593"></a><a href="#593">593</a></div></td><td class="codeLine">        $polygon['fillOpacity'] = '0.3';                        // The opacity of the polygons fill</td></tr>
     <tr class="danger"><td><div align="right"><a name="594"></a><a href="#594">594</a></div></td><td class="codeLine">        $polygon['onclick'] = '';                                // JavaScript performed when a polygon is clicked</td></tr>
     <tr class="danger"><td><div align="right"><a name="595"></a><a href="#595">595</a></div></td><td class="codeLine">        $polygon['ondblclick'] = '';                            // JavaScript performed when a polygon is double-clicked</td></tr>
     <tr class="danger"><td><div align="right"><a name="596"></a><a href="#596">596</a></div></td><td class="codeLine">        $polygon['onmousedown'] = '';                            // JavaScript performed when a mousedown event occurs on a polygon</td></tr>
     <tr class="danger"><td><div align="right"><a name="597"></a><a href="#597">597</a></div></td><td class="codeLine">        $polygon['onmousemove'] = '';                            // JavaScript performed when the mouse moves in the area of the polygon</td></tr>
     <tr class="danger"><td><div align="right"><a name="598"></a><a href="#598">598</a></div></td><td class="codeLine">        $polygon['onmouseout'] = '';                            // JavaScript performed when the mouse leaves the area of the polygon</td></tr>
     <tr class="danger"><td><div align="right"><a name="599"></a><a href="#599">599</a></div></td><td class="codeLine">        $polygon['onmouseover'] = '';                            // JavaScript performed when the mouse enters the area of the polygon</td></tr>
     <tr class="danger"><td><div align="right"><a name="600"></a><a href="#600">600</a></div></td><td class="codeLine">        $polygon['onmouseup'] = '';                                // JavaScript performed when a mouseup event occurs on a polygon</td></tr>
     <tr class="danger"><td><div align="right"><a name="601"></a><a href="#601">601</a></div></td><td class="codeLine">        $polygon['onrightclick'] = '';                            // JavaScript performed when a right-click occurs on a polygon</td></tr>
     <tr class="danger"><td><div align="right"><a name="602"></a><a href="#602">602</a></div></td><td class="codeLine">        $polygon['zIndex'] = '';                                // The zIndex of the polygon. If two polygons overlap, the polygon with the higher zIndex will appear on top</td></tr>
     <tr><td><div align="right"><a name="603"></a><a href="#603">603</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="604"></a><a href="#604">604</a></div></td><td class="codeLine">        $polygon_output = '';</td></tr>
     <tr><td><div align="right"><a name="605"></a><a href="#605">605</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="606"></a><a href="#606">606</a></div></td><td class="codeLine">        foreach ($params as $key =&gt; $value) {</td></tr>
     <tr><td><div align="right"><a name="607"></a><a href="#607">607</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="608"></a><a href="#608">608</a></div></td><td class="codeLine">            if (isset($polygon[$key])) {</td></tr>
     <tr><td><div align="right"><a name="609"></a><a href="#609">609</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="610"></a><a href="#610">610</a></div></td><td class="codeLine">                $polygon[$key] = $value;</td></tr>
     <tr><td><div align="right"><a name="611"></a><a href="#611">611</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="612"></a><a href="#612">612</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="613"></a><a href="#613">613</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="614"></a><a href="#614">614</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="615"></a><a href="#615">615</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="616"></a><a href="#616">616</a></div></td><td class="codeLine">        if (count($polygon['points'])) {</td></tr>
     <tr><td><div align="right"><a name="617"></a><a href="#617">617</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="618"></a><a href="#618">618</a></div></td><td class="codeLine">            $polygon_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="619"></a><a href="#619">619</a></div></td><td class="codeLine">                var polygon_plan_'.count($this-&gt;polygons).' = [';</td></tr>
     <tr class="danger"><td><div align="right"><a name="620"></a><a href="#620">620</a></div></td><td class="codeLine">            $i=0;</td></tr>
     <tr class="danger"><td><div align="right"><a name="621"></a><a href="#621">621</a></div></td><td class="codeLine">            $lat_long_output = '';</td></tr>
     <tr class="danger"><td><div align="right"><a name="622"></a><a href="#622">622</a></div></td><td class="codeLine">            foreach ($polygon['points'] as $point) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="623"></a><a href="#623">623</a></div></td><td class="codeLine">                if ($i&gt;0) { $polygon_output .= ','; }</td></tr>
     <tr class="danger"><td><div align="right"><a name="624"></a><a href="#624">624</a></div></td><td class="codeLine">                $lat_long_to_push = '';</td></tr>
     <tr class="danger"><td><div align="right"><a name="625"></a><a href="#625">625</a></div></td><td class="codeLine">                if ($this-&gt;is_lat_long($point)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="626"></a><a href="#626">626</a></div></td><td class="codeLine">                    $lat_long_to_push = $point;</td></tr>
     <tr><td><div align="right"><a name="627"></a><a href="#627">627</a></div></td><td class="codeLine">                    $polygon_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="628"></a><a href="#628">628</a></div></td><td class="codeLine">                    new google.maps.LatLng('.$point.')</td></tr>
     <tr class="danger"><td><div align="right"><a name="629"></a><a href="#629">629</a></div></td><td class="codeLine">                    ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="630"></a><a href="#630">630</a></div></td><td class="codeLine">                }else{</td></tr>
     <tr class="danger"><td><div align="right"><a name="631"></a><a href="#631">631</a></div></td><td class="codeLine">                    $lat_long = $this-&gt;get_lat_long_from_address($point);</td></tr>
     <tr><td><div align="right"><a name="632"></a><a href="#632">632</a></div></td><td class="codeLine">                    $polygon_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="633"></a><a href="#633">633</a></div></td><td class="codeLine">                    new google.maps.LatLng('.$lat_long[0].', '.$lat_long[1].')';</td></tr>
     <tr class="danger"><td><div align="right"><a name="634"></a><a href="#634">634</a></div></td><td class="codeLine">                    $lat_long_to_push = $lat_long[0].', '.$lat_long[1];</td></tr>
     <tr><td><div align="right"><a name="635"></a><a href="#635">635</a></div></td><td class="codeLine">                }</td></tr>
     <tr><td><div align="right"><a name="636"></a><a href="#636">636</a></div></td><td class="codeLine">                $lat_long_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="637"></a><a href="#637">637</a></div></td><td class="codeLine">                    lat_longs_'.$this-&gt;map_name.'.push(new google.maps.LatLng('.$lat_long_to_push.'));</td></tr>
     <tr class="danger"><td><div align="right"><a name="638"></a><a href="#638">638</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="639"></a><a href="#639">639</a></div></td><td class="codeLine">                $i++;</td></tr>
     <tr class="danger"><td><div align="right"><a name="640"></a><a href="#640">640</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="641"></a><a href="#641">641</a></div></td><td class="codeLine">            $polygon_output .= '];';</td></tr>
     <tr><td><div align="right"><a name="642"></a><a href="#642">642</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="643"></a><a href="#643">643</a></div></td><td class="codeLine">            $polygon_output .= $lat_long_output;</td></tr>
     <tr><td><div align="right"><a name="644"></a><a href="#644">644</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="645"></a><a href="#645">645</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="646"></a><a href="#646">646</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="647"></a><a href="#647">647</a></div></td><td class="codeLine">        $polygon_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="648"></a><a href="#648">648</a></div></td><td class="codeLine">            var polygon_'.count($this-&gt;polygons).' = new google.maps.Polygon({</td></tr>
     <tr class="danger"><td><div align="right"><a name="649"></a><a href="#649">649</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="650"></a><a href="#650">650</a></div></td><td class="codeLine">        if (count($polygon['points'])) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="651"></a><a href="#651">651</a></div></td><td class="codeLine">            $polygon_output .= 'path: polygon_plan_'.count($this-&gt;polygons).',</td></tr>
     <tr class="danger"><td><div align="right"><a name="652"></a><a href="#652">652</a></div></td><td class="codeLine">                    ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="653"></a><a href="#653">653</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="654"></a><a href="#654">654</a></div></td><td class="codeLine">        $polygon_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="655"></a><a href="#655">655</a></div></td><td class="codeLine">                strokeColor: &quot;'.$polygon['strokeColor'].'&quot;,</td></tr>
     <tr class="danger"><td><div align="right"><a name="656"></a><a href="#656">656</a></div></td><td class="codeLine">                strokeOpacity: '.$polygon['strokeOpacity'].',</td></tr>
     <tr class="danger"><td><div align="right"><a name="657"></a><a href="#657">657</a></div></td><td class="codeLine">                strokeWeight: '.$polygon['strokeWeight'].',</td></tr>
     <tr class="danger"><td><div align="right"><a name="658"></a><a href="#658">658</a></div></td><td class="codeLine">                fillColor: &quot;'.$polygon['fillColor'].'&quot;,</td></tr>
     <tr class="danger"><td><div align="right"><a name="659"></a><a href="#659">659</a></div></td><td class="codeLine">                fillOpacity: '.$polygon['fillOpacity'];</td></tr>
     <tr class="danger"><td><div align="right"><a name="660"></a><a href="#660">660</a></div></td><td class="codeLine">        if (!$polygon['clickable']) {</td></tr>
     <tr><td><div align="right"><a name="661"></a><a href="#661">661</a></div></td><td class="codeLine">            $polygon_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="662"></a><a href="#662">662</a></div></td><td class="codeLine">                clickable: false';</td></tr>
     <tr class="danger"><td><div align="right"><a name="663"></a><a href="#663">663</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="664"></a><a href="#664">664</a></div></td><td class="codeLine">        if ($polygon['zIndex']!=&quot;&quot; &amp;&amp; is_numeric($polygon['zIndex'])) {</td></tr>
     <tr><td><div align="right"><a name="665"></a><a href="#665">665</a></div></td><td class="codeLine">            $polygon_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="666"></a><a href="#666">666</a></div></td><td class="codeLine">                zIndex: '.$polygon['zIndex'];</td></tr>
     <tr class="danger"><td><div align="right"><a name="667"></a><a href="#667">667</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="668"></a><a href="#668">668</a></div></td><td class="codeLine">         $polygon_output .= '</td></tr>
     <tr><td><div align="right"><a name="669"></a><a href="#669">669</a></div></td><td class="codeLine">            });</td></tr>
     <tr><td><div align="right"><a name="670"></a><a href="#670">670</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="671"></a><a href="#671">671</a></div></td><td class="codeLine">            polygon_'.count($this-&gt;polygons).'.setMap('.$this-&gt;map_name.');</td></tr>
     <tr><td><div align="right"><a name="672"></a><a href="#672">672</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="673"></a><a href="#673">673</a></div></td><td class="codeLine">        ';</td></tr>
     <tr><td><div align="right"><a name="674"></a><a href="#674">674</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="675"></a><a href="#675">675</a></div></td><td class="codeLine">        if ($polygon['onclick']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="676"></a><a href="#676">676</a></div></td><td class="codeLine">            $polygon_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="677"></a><a href="#677">677</a></div></td><td class="codeLine">            google.maps.event.addListener(polygon_'.count($this-&gt;polygons).', &quot;click&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="678"></a><a href="#678">678</a></div></td><td class="codeLine">                '.$polygon['onclick'].'</td></tr>
     <tr><td><div align="right"><a name="679"></a><a href="#679">679</a></div></td><td class="codeLine">            });</td></tr>
     <tr class="danger"><td><div align="right"><a name="680"></a><a href="#680">680</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="681"></a><a href="#681">681</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="682"></a><a href="#682">682</a></div></td><td class="codeLine">        if ($polygon['ondblclick']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="683"></a><a href="#683">683</a></div></td><td class="codeLine">            $polygon_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="684"></a><a href="#684">684</a></div></td><td class="codeLine">            google.maps.event.addListener(polygon_'.count($this-&gt;polygons).', &quot;dblclick&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="685"></a><a href="#685">685</a></div></td><td class="codeLine">                '.$polygon['ondblclick'].'</td></tr>
     <tr><td><div align="right"><a name="686"></a><a href="#686">686</a></div></td><td class="codeLine">            });</td></tr>
     <tr class="danger"><td><div align="right"><a name="687"></a><a href="#687">687</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="688"></a><a href="#688">688</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="689"></a><a href="#689">689</a></div></td><td class="codeLine">        if ($polygon['onmousedown']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="690"></a><a href="#690">690</a></div></td><td class="codeLine">            $polygon_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="691"></a><a href="#691">691</a></div></td><td class="codeLine">            google.maps.event.addListener(polygon_'.count($this-&gt;polygons).', &quot;mousedown&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="692"></a><a href="#692">692</a></div></td><td class="codeLine">                '.$polygon['onmousedown'].'</td></tr>
     <tr><td><div align="right"><a name="693"></a><a href="#693">693</a></div></td><td class="codeLine">            });</td></tr>
     <tr class="danger"><td><div align="right"><a name="694"></a><a href="#694">694</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="695"></a><a href="#695">695</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="696"></a><a href="#696">696</a></div></td><td class="codeLine">        if ($polygon['onmousemove']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="697"></a><a href="#697">697</a></div></td><td class="codeLine">            $polygon_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="698"></a><a href="#698">698</a></div></td><td class="codeLine">            google.maps.event.addListener(polygon_'.count($this-&gt;polygons).', &quot;mousemove&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="699"></a><a href="#699">699</a></div></td><td class="codeLine">                '.$polygon['onmousemove'].'</td></tr>
     <tr><td><div align="right"><a name="700"></a><a href="#700">700</a></div></td><td class="codeLine">            });</td></tr>
     <tr class="danger"><td><div align="right"><a name="701"></a><a href="#701">701</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="702"></a><a href="#702">702</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="703"></a><a href="#703">703</a></div></td><td class="codeLine">        if ($polygon['onmouseout']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="704"></a><a href="#704">704</a></div></td><td class="codeLine">            $polygon_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="705"></a><a href="#705">705</a></div></td><td class="codeLine">            google.maps.event.addListener(polygon_'.count($this-&gt;polygons).', &quot;mouseout&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="706"></a><a href="#706">706</a></div></td><td class="codeLine">                '.$polygon['onmouseout'].'</td></tr>
     <tr><td><div align="right"><a name="707"></a><a href="#707">707</a></div></td><td class="codeLine">            });</td></tr>
     <tr class="danger"><td><div align="right"><a name="708"></a><a href="#708">708</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="709"></a><a href="#709">709</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="710"></a><a href="#710">710</a></div></td><td class="codeLine">        if ($polygon['onmouseover']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="711"></a><a href="#711">711</a></div></td><td class="codeLine">            $polygon_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="712"></a><a href="#712">712</a></div></td><td class="codeLine">            google.maps.event.addListener(polygon_'.count($this-&gt;polygons).', &quot;mouseover&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="713"></a><a href="#713">713</a></div></td><td class="codeLine">                '.$polygon['onmouseover'].'</td></tr>
     <tr><td><div align="right"><a name="714"></a><a href="#714">714</a></div></td><td class="codeLine">            });</td></tr>
     <tr class="danger"><td><div align="right"><a name="715"></a><a href="#715">715</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="716"></a><a href="#716">716</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="717"></a><a href="#717">717</a></div></td><td class="codeLine">        if ($polygon['onmouseup']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="718"></a><a href="#718">718</a></div></td><td class="codeLine">            $polygon_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="719"></a><a href="#719">719</a></div></td><td class="codeLine">            google.maps.event.addListener(polygon_'.count($this-&gt;polygons).', &quot;mouseup&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="720"></a><a href="#720">720</a></div></td><td class="codeLine">                '.$polygon['onmouseup'].'</td></tr>
     <tr><td><div align="right"><a name="721"></a><a href="#721">721</a></div></td><td class="codeLine">            });</td></tr>
     <tr class="danger"><td><div align="right"><a name="722"></a><a href="#722">722</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="723"></a><a href="#723">723</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="724"></a><a href="#724">724</a></div></td><td class="codeLine">        if ($polygon['onrightclick']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="725"></a><a href="#725">725</a></div></td><td class="codeLine">            $polygon_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="726"></a><a href="#726">726</a></div></td><td class="codeLine">            google.maps.event.addListener(polygon_'.count($this-&gt;polygons).', &quot;rightclick&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="727"></a><a href="#727">727</a></div></td><td class="codeLine">                '.$polygon['onrightclick'].'</td></tr>
     <tr><td><div align="right"><a name="728"></a><a href="#728">728</a></div></td><td class="codeLine">            });</td></tr>
     <tr class="danger"><td><div align="right"><a name="729"></a><a href="#729">729</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="730"></a><a href="#730">730</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="731"></a><a href="#731">731</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="732"></a><a href="#732">732</a></div></td><td class="codeLine">        array_push($this-&gt;polygons, $polygon_output);</td></tr>
     <tr><td><div align="right"><a name="733"></a><a href="#733">733</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="734"></a><a href="#734">734</a></div></td><td class="codeLine">    }</td></tr>
     <tr><td><div align="right"><a name="735"></a><a href="#735">735</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="736"></a><a href="#736">736</a></div></td><td class="codeLine">    function add_circle($params = array())</td></tr>
     <tr><td><div align="right"><a name="737"></a><a href="#737">737</a></div></td><td class="codeLine">    {</td></tr>
     <tr><td><div align="right"><a name="738"></a><a href="#738">738</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="739"></a><a href="#739">739</a></div></td><td class="codeLine">        $circle = array();</td></tr>
     <tr><td><div align="right"><a name="740"></a><a href="#740">740</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="741"></a><a href="#741">741</a></div></td><td class="codeLine">        $circle['center'] = '';                                    // The center position (latitude/longitude coordinate OR addresse) at which the circle will appear</td></tr>
     <tr class="danger"><td><div align="right"><a name="742"></a><a href="#742">742</a></div></td><td class="codeLine">        $circle['clickable'] = TRUE;                            // Defines if the circle is clickable</td></tr>
     <tr class="danger"><td><div align="right"><a name="743"></a><a href="#743">743</a></div></td><td class="codeLine">        $circle['radius'] = 0;                                    // The circle radius (in metres)</td></tr>
     <tr class="danger"><td><div align="right"><a name="744"></a><a href="#744">744</a></div></td><td class="codeLine">        $circle['strokeColor'] = '0.8';                            // The hex value of the circles border color</td></tr>
     <tr class="danger"><td><div align="right"><a name="745"></a><a href="#745">745</a></div></td><td class="codeLine">        $circle['strokeOpacity'] = '0.8';                        // The opacity of the circle border</td></tr>
     <tr class="danger"><td><div align="right"><a name="746"></a><a href="#746">746</a></div></td><td class="codeLine">        $circle['strokeWeight'] = '2';                            // The thickness of the circle border</td></tr>
     <tr class="danger"><td><div align="right"><a name="747"></a><a href="#747">747</a></div></td><td class="codeLine">        $circle['fillColor'] = '#FF0000';                        // The hex value of the circles fill color</td></tr>
     <tr class="danger"><td><div align="right"><a name="748"></a><a href="#748">748</a></div></td><td class="codeLine">        $circle['fillOpacity'] = '0.3';                            // The opacity of the circles fill</td></tr>
     <tr class="danger"><td><div align="right"><a name="749"></a><a href="#749">749</a></div></td><td class="codeLine">        $circle['onclick'] = '';                                // JavaScript performed when a circle is clicked</td></tr>
     <tr class="danger"><td><div align="right"><a name="750"></a><a href="#750">750</a></div></td><td class="codeLine">        $circle['ondblclick'] = '';                                // JavaScript performed when a circle is double-clicked</td></tr>
     <tr class="danger"><td><div align="right"><a name="751"></a><a href="#751">751</a></div></td><td class="codeLine">        $circle['onmousedown'] = '';                            // JavaScript performed when a mousedown event occurs on a circle</td></tr>
     <tr class="danger"><td><div align="right"><a name="752"></a><a href="#752">752</a></div></td><td class="codeLine">        $circle['onmousemove'] = '';                            // JavaScript performed when the mouse moves in the area of the circle</td></tr>
     <tr class="danger"><td><div align="right"><a name="753"></a><a href="#753">753</a></div></td><td class="codeLine">        $circle['onmouseout'] = '';                                // JavaScript performed when the mouse leaves the area of the circle</td></tr>
     <tr class="danger"><td><div align="right"><a name="754"></a><a href="#754">754</a></div></td><td class="codeLine">        $circle['onmouseover'] = '';                            // JavaScript performed when the mouse enters the area of the circle</td></tr>
     <tr class="danger"><td><div align="right"><a name="755"></a><a href="#755">755</a></div></td><td class="codeLine">        $circle['onmouseup'] = '';                                // JavaScript performed when a mouseup event occurs on a circle</td></tr>
     <tr class="danger"><td><div align="right"><a name="756"></a><a href="#756">756</a></div></td><td class="codeLine">        $circle['onrightclick'] = '';                            // JavaScript performed when a right-click occurs on a circle</td></tr>
     <tr class="danger"><td><div align="right"><a name="757"></a><a href="#757">757</a></div></td><td class="codeLine">        $circle['zIndex'] = '';                                    // The zIndex of the circle. If two circles overlap, the circle with the higher zIndex will appear on top</td></tr>
     <tr><td><div align="right"><a name="758"></a><a href="#758">758</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="759"></a><a href="#759">759</a></div></td><td class="codeLine">        $circle_output = '';</td></tr>
     <tr><td><div align="right"><a name="760"></a><a href="#760">760</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="761"></a><a href="#761">761</a></div></td><td class="codeLine">        foreach ($params as $key =&gt; $value) {</td></tr>
     <tr><td><div align="right"><a name="762"></a><a href="#762">762</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="763"></a><a href="#763">763</a></div></td><td class="codeLine">            if (isset($circle[$key])) {</td></tr>
     <tr><td><div align="right"><a name="764"></a><a href="#764">764</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="765"></a><a href="#765">765</a></div></td><td class="codeLine">                $circle[$key] = $value;</td></tr>
     <tr><td><div align="right"><a name="766"></a><a href="#766">766</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="767"></a><a href="#767">767</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="768"></a><a href="#768">768</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="769"></a><a href="#769">769</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="770"></a><a href="#770">770</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="771"></a><a href="#771">771</a></div></td><td class="codeLine">        if ($circle['radius']&gt;0 &amp;&amp; $circle['center']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="772"></a><a href="#772">772</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="773"></a><a href="#773">773</a></div></td><td class="codeLine">            $lat_long_to_push = '';</td></tr>
     <tr class="danger"><td><div align="right"><a name="774"></a><a href="#774">774</a></div></td><td class="codeLine">            if ($this-&gt;is_lat_long($circle['center'])) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="775"></a><a href="#775">775</a></div></td><td class="codeLine">                $lat_long_to_push = $circle['center'];</td></tr>
     <tr><td><div align="right"><a name="776"></a><a href="#776">776</a></div></td><td class="codeLine">                $circle_output = '</td></tr>
     <tr class="danger"><td><div align="right"><a name="777"></a><a href="#777">777</a></div></td><td class="codeLine">                var circleCenter = new google.maps.LatLng('.$circle['center'].')</td></tr>
     <tr class="danger"><td><div align="right"><a name="778"></a><a href="#778">778</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="779"></a><a href="#779">779</a></div></td><td class="codeLine">            }else{</td></tr>
     <tr class="danger"><td><div align="right"><a name="780"></a><a href="#780">780</a></div></td><td class="codeLine">                $lat_long = $this-&gt;get_lat_long_from_address($circle['center']);</td></tr>
     <tr><td><div align="right"><a name="781"></a><a href="#781">781</a></div></td><td class="codeLine">                $circle_output = '</td></tr>
     <tr class="danger"><td><div align="right"><a name="782"></a><a href="#782">782</a></div></td><td class="codeLine">                var circleCenter = new google.maps.LatLng('.$lat_long[0].', '.$lat_long[1].')';</td></tr>
     <tr class="danger"><td><div align="right"><a name="783"></a><a href="#783">783</a></div></td><td class="codeLine">                $lat_long_to_push = $lat_long[0].', '.$lat_long[1];</td></tr>
     <tr><td><div align="right"><a name="784"></a><a href="#784">784</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="785"></a><a href="#785">785</a></div></td><td class="codeLine">            $circle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="786"></a><a href="#786">786</a></div></td><td class="codeLine">                lat_longs_'.$this-&gt;map_name.'.push(new google.maps.LatLng('.$lat_long_to_push.'));</td></tr>
     <tr class="danger"><td><div align="right"><a name="787"></a><a href="#787">787</a></div></td><td class="codeLine">            ';</td></tr>
     <tr><td><div align="right"><a name="788"></a><a href="#788">788</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="789"></a><a href="#789">789</a></div></td><td class="codeLine">            $circle_output .= '</td></tr>
     <tr><td><div align="right"><a name="790"></a><a href="#790">790</a></div></td><td class="codeLine">                var circleOptions = {</td></tr>
     <tr class="danger"><td><div align="right"><a name="791"></a><a href="#791">791</a></div></td><td class="codeLine">                    strokeColor: &quot;'.$circle['strokeColor'].'&quot;,</td></tr>
     <tr class="danger"><td><div align="right"><a name="792"></a><a href="#792">792</a></div></td><td class="codeLine">                    strokeOpacity: '.$circle['strokeOpacity'].',</td></tr>
     <tr class="danger"><td><div align="right"><a name="793"></a><a href="#793">793</a></div></td><td class="codeLine">                    strokeWeight: '.$circle['strokeWeight'].',</td></tr>
     <tr class="danger"><td><div align="right"><a name="794"></a><a href="#794">794</a></div></td><td class="codeLine">                    fillColor: &quot;'.$circle['fillColor'].'&quot;,</td></tr>
     <tr class="danger"><td><div align="right"><a name="795"></a><a href="#795">795</a></div></td><td class="codeLine">                    fillOpacity: '.$circle['fillOpacity'].',</td></tr>
     <tr class="danger"><td><div align="right"><a name="796"></a><a href="#796">796</a></div></td><td class="codeLine">                    map: '.$this-&gt;map_name.',</td></tr>
     <tr><td><div align="right"><a name="797"></a><a href="#797">797</a></div></td><td class="codeLine">                    center: circleCenter,</td></tr>
     <tr class="danger"><td><div align="right"><a name="798"></a><a href="#798">798</a></div></td><td class="codeLine">                    radius: '.$circle['radius'];</td></tr>
     <tr class="danger"><td><div align="right"><a name="799"></a><a href="#799">799</a></div></td><td class="codeLine">            if (!$circle['clickable']) {</td></tr>
     <tr><td><div align="right"><a name="800"></a><a href="#800">800</a></div></td><td class="codeLine">                $circle_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="801"></a><a href="#801">801</a></div></td><td class="codeLine">                    clickable: false';</td></tr>
     <tr class="danger"><td><div align="right"><a name="802"></a><a href="#802">802</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="803"></a><a href="#803">803</a></div></td><td class="codeLine">            if ($circle['zIndex']!=&quot;&quot; &amp;&amp; is_numeric($circle['zIndex'])) {</td></tr>
     <tr><td><div align="right"><a name="804"></a><a href="#804">804</a></div></td><td class="codeLine">                $circle_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="805"></a><a href="#805">805</a></div></td><td class="codeLine">                    zIndex: '.$circle['zIndex'];</td></tr>
     <tr class="danger"><td><div align="right"><a name="806"></a><a href="#806">806</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="807"></a><a href="#807">807</a></div></td><td class="codeLine">             $circle_output .= '</td></tr>
     <tr><td><div align="right"><a name="808"></a><a href="#808">808</a></div></td><td class="codeLine">                };</td></tr>
     <tr class="danger"><td><div align="right"><a name="809"></a><a href="#809">809</a></div></td><td class="codeLine">                var circle_'.count($this-&gt;circles).' = new google.maps.Circle(circleOptions);</td></tr>
     <tr class="danger"><td><div align="right"><a name="810"></a><a href="#810">810</a></div></td><td class="codeLine">            ';</td></tr>
     <tr><td><div align="right"><a name="811"></a><a href="#811">811</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="812"></a><a href="#812">812</a></div></td><td class="codeLine">            if ($circle['onclick']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="813"></a><a href="#813">813</a></div></td><td class="codeLine">                $circle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="814"></a><a href="#814">814</a></div></td><td class="codeLine">                google.maps.event.addListener(circle_'.count($this-&gt;circles).', &quot;click&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="815"></a><a href="#815">815</a></div></td><td class="codeLine">                    '.$circle['onclick'].'</td></tr>
     <tr><td><div align="right"><a name="816"></a><a href="#816">816</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="817"></a><a href="#817">817</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="818"></a><a href="#818">818</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="819"></a><a href="#819">819</a></div></td><td class="codeLine">            if ($circle['ondblclick']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="820"></a><a href="#820">820</a></div></td><td class="codeLine">                $circle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="821"></a><a href="#821">821</a></div></td><td class="codeLine">                google.maps.event.addListener(circle_'.count($this-&gt;circles).', &quot;dblclick&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="822"></a><a href="#822">822</a></div></td><td class="codeLine">                    '.$circle['ondblclick'].'</td></tr>
     <tr><td><div align="right"><a name="823"></a><a href="#823">823</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="824"></a><a href="#824">824</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="825"></a><a href="#825">825</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="826"></a><a href="#826">826</a></div></td><td class="codeLine">            if ($circle['onmousedown']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="827"></a><a href="#827">827</a></div></td><td class="codeLine">                $circle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="828"></a><a href="#828">828</a></div></td><td class="codeLine">                google.maps.event.addListener(circle_'.count($this-&gt;circles).', &quot;mousedown&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="829"></a><a href="#829">829</a></div></td><td class="codeLine">                    '.$circle['onmousedown'].'</td></tr>
     <tr><td><div align="right"><a name="830"></a><a href="#830">830</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="831"></a><a href="#831">831</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="832"></a><a href="#832">832</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="833"></a><a href="#833">833</a></div></td><td class="codeLine">            if ($circle['onmousemove']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="834"></a><a href="#834">834</a></div></td><td class="codeLine">                $circle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="835"></a><a href="#835">835</a></div></td><td class="codeLine">                google.maps.event.addListener(circle_'.count($this-&gt;circles).', &quot;mousemove&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="836"></a><a href="#836">836</a></div></td><td class="codeLine">                    '.$circle['onmousemove'].'</td></tr>
     <tr><td><div align="right"><a name="837"></a><a href="#837">837</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="838"></a><a href="#838">838</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="839"></a><a href="#839">839</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="840"></a><a href="#840">840</a></div></td><td class="codeLine">            if ($circle['onmouseout']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="841"></a><a href="#841">841</a></div></td><td class="codeLine">                $circle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="842"></a><a href="#842">842</a></div></td><td class="codeLine">                google.maps.event.addListener(circle_'.count($this-&gt;circles).', &quot;mouseout&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="843"></a><a href="#843">843</a></div></td><td class="codeLine">                    '.$circle['onmouseout'].'</td></tr>
     <tr><td><div align="right"><a name="844"></a><a href="#844">844</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="845"></a><a href="#845">845</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="846"></a><a href="#846">846</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="847"></a><a href="#847">847</a></div></td><td class="codeLine">            if ($circle['onmouseover']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="848"></a><a href="#848">848</a></div></td><td class="codeLine">                $circle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="849"></a><a href="#849">849</a></div></td><td class="codeLine">                google.maps.event.addListener(circle_'.count($this-&gt;circles).', &quot;mouseover&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="850"></a><a href="#850">850</a></div></td><td class="codeLine">                    '.$circle['onmouseover'].'</td></tr>
     <tr><td><div align="right"><a name="851"></a><a href="#851">851</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="852"></a><a href="#852">852</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="853"></a><a href="#853">853</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="854"></a><a href="#854">854</a></div></td><td class="codeLine">            if ($circle['onmouseup']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="855"></a><a href="#855">855</a></div></td><td class="codeLine">                $circle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="856"></a><a href="#856">856</a></div></td><td class="codeLine">                google.maps.event.addListener(circle_'.count($this-&gt;circles).', &quot;mouseup&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="857"></a><a href="#857">857</a></div></td><td class="codeLine">                    '.$circle['onmouseup'].'</td></tr>
     <tr><td><div align="right"><a name="858"></a><a href="#858">858</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="859"></a><a href="#859">859</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="860"></a><a href="#860">860</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="861"></a><a href="#861">861</a></div></td><td class="codeLine">            if ($circle['onrightclick']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="862"></a><a href="#862">862</a></div></td><td class="codeLine">                $circle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="863"></a><a href="#863">863</a></div></td><td class="codeLine">                google.maps.event.addListener(circle_'.count($this-&gt;circles).', &quot;rightclick&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="864"></a><a href="#864">864</a></div></td><td class="codeLine">                    '.$circle['onrightclick'].'</td></tr>
     <tr><td><div align="right"><a name="865"></a><a href="#865">865</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="866"></a><a href="#866">866</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="867"></a><a href="#867">867</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="868"></a><a href="#868">868</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="869"></a><a href="#869">869</a></div></td><td class="codeLine">            array_push($this-&gt;circles, $circle_output);</td></tr>
     <tr><td><div align="right"><a name="870"></a><a href="#870">870</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="871"></a><a href="#871">871</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="872"></a><a href="#872">872</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="873"></a><a href="#873">873</a></div></td><td class="codeLine">    }</td></tr>
     <tr><td><div align="right"><a name="874"></a><a href="#874">874</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="875"></a><a href="#875">875</a></div></td><td class="codeLine">    function add_rectangle($params = array())</td></tr>
     <tr><td><div align="right"><a name="876"></a><a href="#876">876</a></div></td><td class="codeLine">    {</td></tr>
     <tr><td><div align="right"><a name="877"></a><a href="#877">877</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="878"></a><a href="#878">878</a></div></td><td class="codeLine">        $rectangle = array();</td></tr>
     <tr><td><div align="right"><a name="879"></a><a href="#879">879</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="880"></a><a href="#880">880</a></div></td><td class="codeLine">        $rectangle['positionSW'] = '';                            // The South-West position (latitude/longitude coordinate OR address) at which the rectangle will appear</td></tr>
     <tr class="danger"><td><div align="right"><a name="881"></a><a href="#881">881</a></div></td><td class="codeLine">        $rectangle['positionNE'] = '';                            // The North-East position(latitude/longitude coordinate OR address) at which the rectangle will appear</td></tr>
     <tr class="danger"><td><div align="right"><a name="882"></a><a href="#882">882</a></div></td><td class="codeLine">        $rectangle['clickable'] = TRUE;                            // Defines if the rectangle is clickable</td></tr>
     <tr class="danger"><td><div align="right"><a name="883"></a><a href="#883">883</a></div></td><td class="codeLine">        $rectangle['strokeColor'] = '0.8';                        // The hex value of the rectangles border color</td></tr>
     <tr class="danger"><td><div align="right"><a name="884"></a><a href="#884">884</a></div></td><td class="codeLine">        $rectangle['strokeOpacity'] = '0.8';                    // The opacity of the rectangle border</td></tr>
     <tr class="danger"><td><div align="right"><a name="885"></a><a href="#885">885</a></div></td><td class="codeLine">        $rectangle['strokeWeight'] = '2';                        // The thickness of the rectangle border</td></tr>
     <tr class="danger"><td><div align="right"><a name="886"></a><a href="#886">886</a></div></td><td class="codeLine">        $rectangle['fillColor'] = '#FF0000';                    // The hex value of the rectangles fill color</td></tr>
     <tr class="danger"><td><div align="right"><a name="887"></a><a href="#887">887</a></div></td><td class="codeLine">        $rectangle['fillOpacity'] = '0.3';                        // The opacity of the rectangles fill</td></tr>
     <tr class="danger"><td><div align="right"><a name="888"></a><a href="#888">888</a></div></td><td class="codeLine">        $rectangle['onclick'] = '';                                // JavaScript performed when a rectangle is clicked</td></tr>
     <tr class="danger"><td><div align="right"><a name="889"></a><a href="#889">889</a></div></td><td class="codeLine">        $rectangle['ondblclick'] = '';                            // JavaScript performed when a rectangle is double-clicked</td></tr>
     <tr class="danger"><td><div align="right"><a name="890"></a><a href="#890">890</a></div></td><td class="codeLine">        $rectangle['onmousedown'] = '';                            // JavaScript performed when a mousedown event occurs on a rectangle</td></tr>
     <tr class="danger"><td><div align="right"><a name="891"></a><a href="#891">891</a></div></td><td class="codeLine">        $rectangle['onmousemove'] = '';                            // JavaScript performed when the mouse moves in the area of the rectangle</td></tr>
     <tr class="danger"><td><div align="right"><a name="892"></a><a href="#892">892</a></div></td><td class="codeLine">        $rectangle['onmouseout'] = '';                            // JavaScript performed when the mouse leaves the area of the rectangle</td></tr>
     <tr class="danger"><td><div align="right"><a name="893"></a><a href="#893">893</a></div></td><td class="codeLine">        $rectangle['onmouseover'] = '';                            // JavaScript performed when the mouse enters the area of the rectangle</td></tr>
     <tr class="danger"><td><div align="right"><a name="894"></a><a href="#894">894</a></div></td><td class="codeLine">        $rectangle['onmouseup'] = '';                            // JavaScript performed when a mouseup event occurs on a rectangle</td></tr>
     <tr class="danger"><td><div align="right"><a name="895"></a><a href="#895">895</a></div></td><td class="codeLine">        $rectangle['onrightclick'] = '';                        // JavaScript performed when a right-click occurs on a rectangle</td></tr>
     <tr class="danger"><td><div align="right"><a name="896"></a><a href="#896">896</a></div></td><td class="codeLine">        $rectangle['zIndex'] = '';                                // The zIndex of the rectangle. If two rectangles overlap, the rectangle with the higher zIndex will appear on top</td></tr>
     <tr><td><div align="right"><a name="897"></a><a href="#897">897</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="898"></a><a href="#898">898</a></div></td><td class="codeLine">        $rectangle_output = '';</td></tr>
     <tr><td><div align="right"><a name="899"></a><a href="#899">899</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="900"></a><a href="#900">900</a></div></td><td class="codeLine">        foreach ($params as $key =&gt; $value) {</td></tr>
     <tr><td><div align="right"><a name="901"></a><a href="#901">901</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="902"></a><a href="#902">902</a></div></td><td class="codeLine">            if (isset($rectangle[$key])) {</td></tr>
     <tr><td><div align="right"><a name="903"></a><a href="#903">903</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="904"></a><a href="#904">904</a></div></td><td class="codeLine">                $rectangle[$key] = $value;</td></tr>
     <tr><td><div align="right"><a name="905"></a><a href="#905">905</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="906"></a><a href="#906">906</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="907"></a><a href="#907">907</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="908"></a><a href="#908">908</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="909"></a><a href="#909">909</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="910"></a><a href="#910">910</a></div></td><td class="codeLine">        if ($rectangle['positionSW']!=&quot;&quot; &amp;&amp; $rectangle['positionNE']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="911"></a><a href="#911">911</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="912"></a><a href="#912">912</a></div></td><td class="codeLine">            $lat_long_to_push = '';</td></tr>
     <tr class="danger"><td><div align="right"><a name="913"></a><a href="#913">913</a></div></td><td class="codeLine">            if ($this-&gt;is_lat_long($rectangle['positionSW'])) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="914"></a><a href="#914">914</a></div></td><td class="codeLine">                $lat_long_to_push = $rectangle['positionSW'];</td></tr>
     <tr><td><div align="right"><a name="915"></a><a href="#915">915</a></div></td><td class="codeLine">                $rectangle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="916"></a><a href="#916">916</a></div></td><td class="codeLine">                var positionSW = new google.maps.LatLng('.$rectangle['positionSW'].')</td></tr>
     <tr class="danger"><td><div align="right"><a name="917"></a><a href="#917">917</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="918"></a><a href="#918">918</a></div></td><td class="codeLine">            }else{</td></tr>
     <tr class="danger"><td><div align="right"><a name="919"></a><a href="#919">919</a></div></td><td class="codeLine">                $lat_long = $this-&gt;get_lat_long_from_address($rectangle['positionSW']);</td></tr>
     <tr><td><div align="right"><a name="920"></a><a href="#920">920</a></div></td><td class="codeLine">                $rectangle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="921"></a><a href="#921">921</a></div></td><td class="codeLine">                var positionSW = new google.maps.LatLng('.$lat_long[0].', '.$lat_long[1].')';</td></tr>
     <tr class="danger"><td><div align="right"><a name="922"></a><a href="#922">922</a></div></td><td class="codeLine">                $lat_long_to_push = $lat_long[0].', '.$lat_long[1];</td></tr>
     <tr><td><div align="right"><a name="923"></a><a href="#923">923</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="924"></a><a href="#924">924</a></div></td><td class="codeLine">            $rectangle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="925"></a><a href="#925">925</a></div></td><td class="codeLine">                lat_longs_'.$this-&gt;map_name.'.push(new google.maps.LatLng('.$lat_long_to_push.'));</td></tr>
     <tr class="danger"><td><div align="right"><a name="926"></a><a href="#926">926</a></div></td><td class="codeLine">            ';</td></tr>
     <tr><td><div align="right"><a name="927"></a><a href="#927">927</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="928"></a><a href="#928">928</a></div></td><td class="codeLine">            $lat_long_to_push = '';</td></tr>
     <tr class="danger"><td><div align="right"><a name="929"></a><a href="#929">929</a></div></td><td class="codeLine">            if ($this-&gt;is_lat_long($rectangle['positionNE'])) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="930"></a><a href="#930">930</a></div></td><td class="codeLine">                $lat_long_to_push = $rectangle['positionNE'];</td></tr>
     <tr><td><div align="right"><a name="931"></a><a href="#931">931</a></div></td><td class="codeLine">                $rectangle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="932"></a><a href="#932">932</a></div></td><td class="codeLine">                var positionNE = new google.maps.LatLng('.$rectangle['positionNE'].')</td></tr>
     <tr class="danger"><td><div align="right"><a name="933"></a><a href="#933">933</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="934"></a><a href="#934">934</a></div></td><td class="codeLine">            }else{</td></tr>
     <tr class="danger"><td><div align="right"><a name="935"></a><a href="#935">935</a></div></td><td class="codeLine">                $lat_long = $this-&gt;get_lat_long_from_address($rectangle['positionNE']);</td></tr>
     <tr><td><div align="right"><a name="936"></a><a href="#936">936</a></div></td><td class="codeLine">                $rectangle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="937"></a><a href="#937">937</a></div></td><td class="codeLine">                var positionNE = new google.maps.LatLng('.$lat_long[0].', '.$lat_long[1].')';</td></tr>
     <tr class="danger"><td><div align="right"><a name="938"></a><a href="#938">938</a></div></td><td class="codeLine">                $lat_long_to_push = $lat_long[0].', '.$lat_long[1];</td></tr>
     <tr><td><div align="right"><a name="939"></a><a href="#939">939</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="940"></a><a href="#940">940</a></div></td><td class="codeLine">            $rectangle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="941"></a><a href="#941">941</a></div></td><td class="codeLine">                lat_longs_'.$this-&gt;map_name.'.push(new google.maps.LatLng('.$lat_long_to_push.'));</td></tr>
     <tr class="danger"><td><div align="right"><a name="942"></a><a href="#942">942</a></div></td><td class="codeLine">            ';</td></tr>
     <tr><td><div align="right"><a name="943"></a><a href="#943">943</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="944"></a><a href="#944">944</a></div></td><td class="codeLine">            $rectangle_output .= '</td></tr>
     <tr><td><div align="right"><a name="945"></a><a href="#945">945</a></div></td><td class="codeLine">                var rectangleOptions = {</td></tr>
     <tr class="danger"><td><div align="right"><a name="946"></a><a href="#946">946</a></div></td><td class="codeLine">                    strokeColor: &quot;'.$rectangle['strokeColor'].'&quot;,</td></tr>
     <tr class="danger"><td><div align="right"><a name="947"></a><a href="#947">947</a></div></td><td class="codeLine">                    strokeOpacity: '.$rectangle['strokeOpacity'].',</td></tr>
     <tr class="danger"><td><div align="right"><a name="948"></a><a href="#948">948</a></div></td><td class="codeLine">                    strokeWeight: '.$rectangle['strokeWeight'].',</td></tr>
     <tr class="danger"><td><div align="right"><a name="949"></a><a href="#949">949</a></div></td><td class="codeLine">                    fillColor: &quot;'.$rectangle['fillColor'].'&quot;,</td></tr>
     <tr class="danger"><td><div align="right"><a name="950"></a><a href="#950">950</a></div></td><td class="codeLine">                    fillOpacity: '.$rectangle['fillOpacity'].',</td></tr>
     <tr class="danger"><td><div align="right"><a name="951"></a><a href="#951">951</a></div></td><td class="codeLine">                    map: '.$this-&gt;map_name.',</td></tr>
     <tr class="danger"><td><div align="right"><a name="952"></a><a href="#952">952</a></div></td><td class="codeLine">                    bounds: new google.maps.LatLngBounds(positionSW, positionNE)';</td></tr>
     <tr class="danger"><td><div align="right"><a name="953"></a><a href="#953">953</a></div></td><td class="codeLine">            if (!$rectangle['clickable']) {</td></tr>
     <tr><td><div align="right"><a name="954"></a><a href="#954">954</a></div></td><td class="codeLine">                $rectangle_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="955"></a><a href="#955">955</a></div></td><td class="codeLine">                    clickable: false';</td></tr>
     <tr class="danger"><td><div align="right"><a name="956"></a><a href="#956">956</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="957"></a><a href="#957">957</a></div></td><td class="codeLine">            if ($rectangle['zIndex']!=&quot;&quot; &amp;&amp; is_numeric($rectangle['zIndex'])) {</td></tr>
     <tr><td><div align="right"><a name="958"></a><a href="#958">958</a></div></td><td class="codeLine">                $rectangle_output .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="959"></a><a href="#959">959</a></div></td><td class="codeLine">                    zIndex: '.$rectangle['zIndex'];</td></tr>
     <tr class="danger"><td><div align="right"><a name="960"></a><a href="#960">960</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="961"></a><a href="#961">961</a></div></td><td class="codeLine">             $rectangle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="962"></a><a href="#962">962</a></div></td><td class="codeLine">                };';</td></tr>
     <tr><td><div align="right"><a name="963"></a><a href="#963">963</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="964"></a><a href="#964">964</a></div></td><td class="codeLine">            $rectangle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="965"></a><a href="#965">965</a></div></td><td class="codeLine">                var rectangle_'.count($this-&gt;rectangles).' = new google.maps.Rectangle(rectangleOptions);</td></tr>
     <tr class="danger"><td><div align="right"><a name="966"></a><a href="#966">966</a></div></td><td class="codeLine">            ';</td></tr>
     <tr><td><div align="right"><a name="967"></a><a href="#967">967</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="968"></a><a href="#968">968</a></div></td><td class="codeLine">            if ($rectangle['onclick']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="969"></a><a href="#969">969</a></div></td><td class="codeLine">                $rectangle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="970"></a><a href="#970">970</a></div></td><td class="codeLine">                google.maps.event.addListener(rectangle_'.count($this-&gt;rectangles).', &quot;click&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="971"></a><a href="#971">971</a></div></td><td class="codeLine">                    '.$rectangle['onclick'].'</td></tr>
     <tr><td><div align="right"><a name="972"></a><a href="#972">972</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="973"></a><a href="#973">973</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="974"></a><a href="#974">974</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="975"></a><a href="#975">975</a></div></td><td class="codeLine">            if ($rectangle['ondblclick']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="976"></a><a href="#976">976</a></div></td><td class="codeLine">                $rectangle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="977"></a><a href="#977">977</a></div></td><td class="codeLine">                google.maps.event.addListener(rectangle_'.count($this-&gt;rectangles).', &quot;dblclick&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="978"></a><a href="#978">978</a></div></td><td class="codeLine">                    '.$rectangle['ondblclick'].'</td></tr>
     <tr><td><div align="right"><a name="979"></a><a href="#979">979</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="980"></a><a href="#980">980</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="981"></a><a href="#981">981</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="982"></a><a href="#982">982</a></div></td><td class="codeLine">            if ($rectangle['onmousedown']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="983"></a><a href="#983">983</a></div></td><td class="codeLine">                $rectangle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="984"></a><a href="#984">984</a></div></td><td class="codeLine">                google.maps.event.addListener(rectangle_'.count($this-&gt;rectangles).', &quot;mousedown&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="985"></a><a href="#985">985</a></div></td><td class="codeLine">                    '.$rectangle['onmousedown'].'</td></tr>
     <tr><td><div align="right"><a name="986"></a><a href="#986">986</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="987"></a><a href="#987">987</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="988"></a><a href="#988">988</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="989"></a><a href="#989">989</a></div></td><td class="codeLine">            if ($rectangle['onmousemove']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="990"></a><a href="#990">990</a></div></td><td class="codeLine">                $rectangle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="991"></a><a href="#991">991</a></div></td><td class="codeLine">                google.maps.event.addListener(rectangle_'.count($this-&gt;rectangles).', &quot;mousemove&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="992"></a><a href="#992">992</a></div></td><td class="codeLine">                    '.$rectangle['onmousemove'].'</td></tr>
     <tr><td><div align="right"><a name="993"></a><a href="#993">993</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="994"></a><a href="#994">994</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="995"></a><a href="#995">995</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="996"></a><a href="#996">996</a></div></td><td class="codeLine">            if ($rectangle['onmouseout']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="997"></a><a href="#997">997</a></div></td><td class="codeLine">                $rectangle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="998"></a><a href="#998">998</a></div></td><td class="codeLine">                google.maps.event.addListener(rectangle_'.count($this-&gt;rectangles).', &quot;mouseout&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="999"></a><a href="#999">999</a></div></td><td class="codeLine">                    '.$rectangle['onmouseout'].'</td></tr>
     <tr><td><div align="right"><a name="1000"></a><a href="#1000">1000</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1001"></a><a href="#1001">1001</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1002"></a><a href="#1002">1002</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1003"></a><a href="#1003">1003</a></div></td><td class="codeLine">            if ($rectangle['onmouseover']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="1004"></a><a href="#1004">1004</a></div></td><td class="codeLine">                $rectangle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1005"></a><a href="#1005">1005</a></div></td><td class="codeLine">                google.maps.event.addListener(rectangle_'.count($this-&gt;rectangles).', &quot;mouseover&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1006"></a><a href="#1006">1006</a></div></td><td class="codeLine">                    '.$rectangle['onmouseover'].'</td></tr>
     <tr><td><div align="right"><a name="1007"></a><a href="#1007">1007</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1008"></a><a href="#1008">1008</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1009"></a><a href="#1009">1009</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1010"></a><a href="#1010">1010</a></div></td><td class="codeLine">            if ($rectangle['onmouseup']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="1011"></a><a href="#1011">1011</a></div></td><td class="codeLine">                $rectangle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1012"></a><a href="#1012">1012</a></div></td><td class="codeLine">                google.maps.event.addListener(rectangle_'.count($this-&gt;rectangles).', &quot;mouseup&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1013"></a><a href="#1013">1013</a></div></td><td class="codeLine">                    '.$rectangle['onmouseup'].'</td></tr>
     <tr><td><div align="right"><a name="1014"></a><a href="#1014">1014</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1015"></a><a href="#1015">1015</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1016"></a><a href="#1016">1016</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1017"></a><a href="#1017">1017</a></div></td><td class="codeLine">            if ($rectangle['onrightclick']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="1018"></a><a href="#1018">1018</a></div></td><td class="codeLine">                $rectangle_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1019"></a><a href="#1019">1019</a></div></td><td class="codeLine">                google.maps.event.addListener(rectangle_'.count($this-&gt;rectangles).', &quot;rightclick&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1020"></a><a href="#1020">1020</a></div></td><td class="codeLine">                    '.$rectangle['onrightclick'].'</td></tr>
     <tr><td><div align="right"><a name="1021"></a><a href="#1021">1021</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1022"></a><a href="#1022">1022</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1023"></a><a href="#1023">1023</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="1024"></a><a href="#1024">1024</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1025"></a><a href="#1025">1025</a></div></td><td class="codeLine">            array_push($this-&gt;rectangles, $rectangle_output);</td></tr>
     <tr><td><div align="right"><a name="1026"></a><a href="#1026">1026</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1027"></a><a href="#1027">1027</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1028"></a><a href="#1028">1028</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1029"></a><a href="#1029">1029</a></div></td><td class="codeLine">    }</td></tr>
     <tr><td><div align="right"><a name="1030"></a><a href="#1030">1030</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="1031"></a><a href="#1031">1031</a></div></td><td class="codeLine">    function add_ground_overlay($params = array())</td></tr>
     <tr><td><div align="right"><a name="1032"></a><a href="#1032">1032</a></div></td><td class="codeLine">    {</td></tr>
     <tr><td><div align="right"><a name="1033"></a><a href="#1033">1033</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1034"></a><a href="#1034">1034</a></div></td><td class="codeLine">        $overlay = array();</td></tr>
     <tr><td><div align="right"><a name="1035"></a><a href="#1035">1035</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1036"></a><a href="#1036">1036</a></div></td><td class="codeLine">        $overlay['image'] = '';                                    // JavaScript performed when a ground overlay is clicked</td></tr>
     <tr class="danger"><td><div align="right"><a name="1037"></a><a href="#1037">1037</a></div></td><td class="codeLine">        $overlay['positionSW'] = '';                            // The South-West position (latitude/longitude coordinate OR addresse) at which the ground overlay will appear</td></tr>
     <tr class="danger"><td><div align="right"><a name="1038"></a><a href="#1038">1038</a></div></td><td class="codeLine">        $overlay['positionNE'] = '';                            // The North-East position (latitude/longitude coordinate OR addresse) at which the ground overlay will appear</td></tr>
     <tr class="danger"><td><div align="right"><a name="1039"></a><a href="#1039">1039</a></div></td><td class="codeLine">        $overlay['clickable'] = TRUE;                            // Defines if the ground overlay is clickable</td></tr>
     <tr class="danger"><td><div align="right"><a name="1040"></a><a href="#1040">1040</a></div></td><td class="codeLine">        $overlay['onclick'] = '';                                // JavaScript performed when a ground overlay is clicked</td></tr>
     <tr><td><div align="right"><a name="1041"></a><a href="#1041">1041</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1042"></a><a href="#1042">1042</a></div></td><td class="codeLine">        $overlay_output = '';</td></tr>
     <tr><td><div align="right"><a name="1043"></a><a href="#1043">1043</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1044"></a><a href="#1044">1044</a></div></td><td class="codeLine">        foreach ($params as $key =&gt; $value) {</td></tr>
     <tr><td><div align="right"><a name="1045"></a><a href="#1045">1045</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1046"></a><a href="#1046">1046</a></div></td><td class="codeLine">            if (isset($overlay[$key])) {</td></tr>
     <tr><td><div align="right"><a name="1047"></a><a href="#1047">1047</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1048"></a><a href="#1048">1048</a></div></td><td class="codeLine">                $overlay[$key] = $value;</td></tr>
     <tr><td><div align="right"><a name="1049"></a><a href="#1049">1049</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1050"></a><a href="#1050">1050</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="1051"></a><a href="#1051">1051</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1052"></a><a href="#1052">1052</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1053"></a><a href="#1053">1053</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1054"></a><a href="#1054">1054</a></div></td><td class="codeLine">        if ($overlay['image']!=&quot;&quot; &amp;&amp; $overlay['positionSW']!=&quot;&quot; &amp;&amp; $overlay['positionNE']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="1055"></a><a href="#1055">1055</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1056"></a><a href="#1056">1056</a></div></td><td class="codeLine">            $lat_long_to_push = '';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1057"></a><a href="#1057">1057</a></div></td><td class="codeLine">            if ($this-&gt;is_lat_long($overlay['positionSW'])) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1058"></a><a href="#1058">1058</a></div></td><td class="codeLine">                $lat_long_to_push = $overlay['positionSW'];</td></tr>
     <tr><td><div align="right"><a name="1059"></a><a href="#1059">1059</a></div></td><td class="codeLine">                $overlay_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1060"></a><a href="#1060">1060</a></div></td><td class="codeLine">                var positionSW = new google.maps.LatLng('.$overlay['positionSW'].')</td></tr>
     <tr class="danger"><td><div align="right"><a name="1061"></a><a href="#1061">1061</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1062"></a><a href="#1062">1062</a></div></td><td class="codeLine">            }else{</td></tr>
     <tr class="danger"><td><div align="right"><a name="1063"></a><a href="#1063">1063</a></div></td><td class="codeLine">                $lat_long = $this-&gt;get_lat_long_from_address($overlay['positionSW']);</td></tr>
     <tr><td><div align="right"><a name="1064"></a><a href="#1064">1064</a></div></td><td class="codeLine">                $overlay_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1065"></a><a href="#1065">1065</a></div></td><td class="codeLine">                var positionSW = new google.maps.LatLng('.$lat_long[0].', '.$lat_long[1].')';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1066"></a><a href="#1066">1066</a></div></td><td class="codeLine">                $lat_long_to_push = $lat_long[0].', '.$lat_long[1];</td></tr>
     <tr><td><div align="right"><a name="1067"></a><a href="#1067">1067</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="1068"></a><a href="#1068">1068</a></div></td><td class="codeLine">            $overlay_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1069"></a><a href="#1069">1069</a></div></td><td class="codeLine">                lat_longs_'.$this-&gt;map_name.'.push(new google.maps.LatLng('.$lat_long_to_push.'));</td></tr>
     <tr class="danger"><td><div align="right"><a name="1070"></a><a href="#1070">1070</a></div></td><td class="codeLine">            ';</td></tr>
     <tr><td><div align="right"><a name="1071"></a><a href="#1071">1071</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1072"></a><a href="#1072">1072</a></div></td><td class="codeLine">            $lat_long_to_push = '';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1073"></a><a href="#1073">1073</a></div></td><td class="codeLine">            if ($this-&gt;is_lat_long($overlay['positionNE'])) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1074"></a><a href="#1074">1074</a></div></td><td class="codeLine">                $lat_long_to_push = $overlay['positionNE'];</td></tr>
     <tr><td><div align="right"><a name="1075"></a><a href="#1075">1075</a></div></td><td class="codeLine">                $overlay_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1076"></a><a href="#1076">1076</a></div></td><td class="codeLine">                var positionNE = new google.maps.LatLng('.$overlay['positionNE'].')</td></tr>
     <tr class="danger"><td><div align="right"><a name="1077"></a><a href="#1077">1077</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1078"></a><a href="#1078">1078</a></div></td><td class="codeLine">            }else{</td></tr>
     <tr class="danger"><td><div align="right"><a name="1079"></a><a href="#1079">1079</a></div></td><td class="codeLine">                $lat_long = $this-&gt;get_lat_long_from_address($overlay['positionNE']);</td></tr>
     <tr><td><div align="right"><a name="1080"></a><a href="#1080">1080</a></div></td><td class="codeLine">                $overlay_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1081"></a><a href="#1081">1081</a></div></td><td class="codeLine">                var positionNE = new google.maps.LatLng('.$lat_long[0].', '.$lat_long[1].')';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1082"></a><a href="#1082">1082</a></div></td><td class="codeLine">                $lat_long_to_push = $lat_long[0].', '.$lat_long[1];</td></tr>
     <tr><td><div align="right"><a name="1083"></a><a href="#1083">1083</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="1084"></a><a href="#1084">1084</a></div></td><td class="codeLine">            $overlay_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1085"></a><a href="#1085">1085</a></div></td><td class="codeLine">                lat_longs_'.$this-&gt;map_name.'.push(new google.maps.LatLng('.$lat_long_to_push.'));</td></tr>
     <tr class="danger"><td><div align="right"><a name="1086"></a><a href="#1086">1086</a></div></td><td class="codeLine">            ';</td></tr>
     <tr><td><div align="right"><a name="1087"></a><a href="#1087">1087</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="1088"></a><a href="#1088">1088</a></div></td><td class="codeLine">            $overlay_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1089"></a><a href="#1089">1089</a></div></td><td class="codeLine">                var overlay_'.count($this-&gt;overlays).' = new google.maps.GroundOverlay(&quot;'.$overlay['image'].'&quot;, new google.maps.LatLngBounds(positionSW, positionNE), { map: '.$this-&gt;map_name;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1090"></a><a href="#1090">1090</a></div></td><td class="codeLine">            if (!$overlay['clickable']) { $overlay_output .= ', clickable: false'; }</td></tr>
     <tr><td><div align="right"><a name="1091"></a><a href="#1091">1091</a></div></td><td class="codeLine">            $overlay_output .= '});</td></tr>
     <tr class="danger"><td><div align="right"><a name="1092"></a><a href="#1092">1092</a></div></td><td class="codeLine">            ';</td></tr>
     <tr><td><div align="right"><a name="1093"></a><a href="#1093">1093</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1094"></a><a href="#1094">1094</a></div></td><td class="codeLine">            if ($overlay['onclick']!=&quot;&quot;) {</td></tr>
     <tr><td><div align="right"><a name="1095"></a><a href="#1095">1095</a></div></td><td class="codeLine">                $overlay_output .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1096"></a><a href="#1096">1096</a></div></td><td class="codeLine">                google.maps.event.addListener(overlay_'.count($this-&gt;overlays).', &quot;click&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1097"></a><a href="#1097">1097</a></div></td><td class="codeLine">                    '.$overlay['onclick'].'</td></tr>
     <tr><td><div align="right"><a name="1098"></a><a href="#1098">1098</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1099"></a><a href="#1099">1099</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1100"></a><a href="#1100">1100</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="1101"></a><a href="#1101">1101</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1102"></a><a href="#1102">1102</a></div></td><td class="codeLine">            array_push($this-&gt;overlays, $overlay_output);</td></tr>
     <tr><td><div align="right"><a name="1103"></a><a href="#1103">1103</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1104"></a><a href="#1104">1104</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1105"></a><a href="#1105">1105</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1106"></a><a href="#1106">1106</a></div></td><td class="codeLine">    }</td></tr>
     <tr><td><div align="right"><a name="1107"></a><a href="#1107">1107</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="1108"></a><a href="#1108">1108</a></div></td><td class="codeLine">    function create_map()</td></tr>
     <tr><td><div align="right"><a name="1109"></a><a href="#1109">1109</a></div></td><td class="codeLine">    {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1110"></a><a href="#1110">1110</a></div></td><td class="codeLine">        $this-&gt;output_js = '';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1111"></a><a href="#1111">1111</a></div></td><td class="codeLine">        $this-&gt;output_js_contents = '';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1112"></a><a href="#1112">1112</a></div></td><td class="codeLine">        $this-&gt;output_html = '';</td></tr>
     <tr><td><div align="right"><a name="1113"></a><a href="#1113">1113</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1114"></a><a href="#1114">1114</a></div></td><td class="codeLine">        if ($this-&gt;maps_loaded == 0)</td></tr>
     <tr class="danger"><td><div align="right"><a name="1115"></a><a href="#1115">1115</a></div></td><td class="codeLine">        {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1116"></a><a href="#1116">1116</a></div></td><td class="codeLine">            if ($this-&gt;apiKey!=&quot;&quot;)</td></tr>
     <tr class="danger"><td><div align="right"><a name="1117"></a><a href="#1117">1117</a></div></td><td class="codeLine">            {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1118"></a><a href="#1118">1118</a></div></td><td class="codeLine">                if ($this-&gt;https) { $apiLocation = 'https'; }else{ $apiLocation = 'http'; }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1119"></a><a href="#1119">1119</a></div></td><td class="codeLine">                $apiLocation .= '://maps.googleapis.com/maps/api/js?key='.$this-&gt;apiKey.'&amp;';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1120"></a><a href="#1120">1120</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="1121"></a><a href="#1121">1121</a></div></td><td class="codeLine">            else</td></tr>
     <tr><td><div align="right"><a name="1122"></a><a href="#1122">1122</a></div></td><td class="codeLine">            {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1123"></a><a href="#1123">1123</a></div></td><td class="codeLine">                if ($this-&gt;https) { $apiLocation = 'https://maps-api-ssl'; }else{ $apiLocation = 'http://maps'; }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1124"></a><a href="#1124">1124</a></div></td><td class="codeLine">                $apiLocation .= '.google.com/maps/api/js?';</td></tr>
     <tr><td><div align="right"><a name="1125"></a><a href="#1125">1125</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1126"></a><a href="#1126">1126</a></div></td><td class="codeLine">            $apiLocation .= 'sensor='.$this-&gt;sensor;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1127"></a><a href="#1127">1127</a></div></td><td class="codeLine">            if ($this-&gt;region!=&quot;&quot; &amp;&amp; strlen($this-&gt;region)==2) { $apiLocation .= '&amp;region='.strtoupper($this-&gt;region); }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1128"></a><a href="#1128">1128</a></div></td><td class="codeLine">            if ($this-&gt;language!=&quot;&quot;) { $apiLocation .= '&amp;language='.$this-&gt;language; }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1129"></a><a href="#1129">1129</a></div></td><td class="codeLine">            $libraries = array();</td></tr>
     <tr class="danger"><td><div align="right"><a name="1130"></a><a href="#1130">1130</a></div></td><td class="codeLine">            if ($this-&gt;adsense!=&quot;&quot;) { array_push($libraries, 'adsense'); }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1131"></a><a href="#1131">1131</a></div></td><td class="codeLine">            if ($this-&gt;places!=&quot;&quot;) { array_push($libraries, 'places'); }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1132"></a><a href="#1132">1132</a></div></td><td class="codeLine">            if ($this-&gt;panoramio) { array_push($libraries, 'panoramio'); }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1133"></a><a href="#1133">1133</a></div></td><td class="codeLine">            if ($this-&gt;drawing) { array_push($libraries, 'drawing'); }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1134"></a><a href="#1134">1134</a></div></td><td class="codeLine">            if (count($libraries)) { $apiLocation .= '&amp;libraries='.implode(&quot;,&quot;, $libraries); }</td></tr>
     <tr><td><div align="right"><a name="1135"></a><a href="#1135">1135</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1136"></a><a href="#1136">1136</a></div></td><td class="codeLine">            if (!$this-&gt;loadAsynchronously)</td></tr>
     <tr class="danger"><td><div align="right"><a name="1137"></a><a href="#1137">1137</a></div></td><td class="codeLine">            {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1138"></a><a href="#1138">1138</a></div></td><td class="codeLine">                $this-&gt;output_js .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1139"></a><a href="#1139">1139</a></div></td><td class="codeLine">                &lt;script type=&quot;text/javascript&quot; src=&quot;'.$apiLocation.'&quot;&gt;&lt;/script&gt;';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1140"></a><a href="#1140">1140</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="1141"></a><a href="#1141">1141</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1142"></a><a href="#1142">1142</a></div></td><td class="codeLine">            if ($this-&gt;cluster) { $this-&gt;output_js .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1143"></a><a href="#1143">1143</a></div></td><td class="codeLine">            &lt;script type=&quot;text/javascript&quot; src=&quot;' . ( ($this-&gt;https) ? 'https' : 'http' ) . '://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/src/markerclusterer_compiled.js&quot;&gt;&lt;/script&gt;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1144"></a><a href="#1144">1144</a></div></td><td class="codeLine">            '; }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1145"></a><a href="#1145">1145</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1146"></a><a href="#1146">1146</a></div></td><td class="codeLine">        if ($this-&gt;jsfile==&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1147"></a><a href="#1147">1147</a></div></td><td class="codeLine">            $this-&gt;output_js .= '</td></tr>
     <tr><td><div align="right"><a name="1148"></a><a href="#1148">1148</a></div></td><td class="codeLine">            &lt;script type=&quot;text/javascript&quot;&gt;</td></tr>
     <tr><td><div align="right"><a name="1149"></a><a href="#1149">1149</a></div></td><td class="codeLine">            //&lt;![CDATA[</td></tr>
     <tr><td><div align="right"><a name="1150"></a><a href="#1150">1150</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1151"></a><a href="#1151">1151</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1152"></a><a href="#1152">1152</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1153"></a><a href="#1153">1153</a></div></td><td class="codeLine">        $this-&gt;output_js_contents .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1154"></a><a href="#1154">1154</a></div></td><td class="codeLine">            var '.$this-&gt;map_name.'; // Global declaration of the map</td></tr>
     <tr class="danger"><td><div align="right"><a name="1155"></a><a href="#1155">1155</a></div></td><td class="codeLine">            var lat_longs_'.$this-&gt;map_name.' = new Array();</td></tr>
     <tr class="danger"><td><div align="right"><a name="1156"></a><a href="#1156">1156</a></div></td><td class="codeLine">            var markers_'.$this-&gt;map_name.' = new Array();</td></tr>
     <tr class="danger"><td><div align="right"><a name="1157"></a><a href="#1157">1157</a></div></td><td class="codeLine">            var iw_'.$this-&gt;map_name.';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1158"></a><a href="#1158">1158</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1159"></a><a href="#1159">1159</a></div></td><td class="codeLine">        if ($this-&gt;cluster) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1160"></a><a href="#1160">1160</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'var markerCluster;</td></tr>
     <tr><td><div align="right"><a name="1161"></a><a href="#1161">1161</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1162"></a><a href="#1162">1162</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1163"></a><a href="#1163">1163</a></div></td><td class="codeLine">        if ($this-&gt;directions) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1164"></a><a href="#1164">1164</a></div></td><td class="codeLine">            $rendererOptions = '';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1165"></a><a href="#1165">1165</a></div></td><td class="codeLine">            if ($this-&gt;directionsDraggable) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1166"></a><a href="#1166">1166</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= '</td></tr>
     <tr><td><div align="right"><a name="1167"></a><a href="#1167">1167</a></div></td><td class="codeLine">            var rendererOptions = { draggable: true };</td></tr>
     <tr><td><div align="right"><a name="1168"></a><a href="#1168">1168</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1169"></a><a href="#1169">1169</a></div></td><td class="codeLine">                $rendererOptions = 'rendererOptions';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1170"></a><a href="#1170">1170</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1171"></a><a href="#1171">1171</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'var directionsDisplay = new google.maps.DirectionsRenderer('.$rendererOptions.');</td></tr>
     <tr><td><div align="right"><a name="1172"></a><a href="#1172">1172</a></div></td><td class="codeLine">            var directionsService = new google.maps.DirectionsService();</td></tr>
     <tr class="danger"><td><div align="right"><a name="1173"></a><a href="#1173">1173</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1174"></a><a href="#1174">1174</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1175"></a><a href="#1175">1175</a></div></td><td class="codeLine">        if ($this-&gt;places) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1176"></a><a href="#1176">1176</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'var placesService;</td></tr>
     <tr><td><div align="right"><a name="1177"></a><a href="#1177">1177</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1178"></a><a href="#1178">1178</a></div></td><td class="codeLine">            if ($this-&gt;placesAutocompleteInputID != &quot;&quot;)</td></tr>
     <tr class="danger"><td><div align="right"><a name="1179"></a><a href="#1179">1179</a></div></td><td class="codeLine">            {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1180"></a><a href="#1180">1180</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= 'var placesAutocomplete;</td></tr>
     <tr><td><div align="right"><a name="1181"></a><a href="#1181">1181</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1182"></a><a href="#1182">1182</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1183"></a><a href="#1183">1183</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1184"></a><a href="#1184">1184</a></div></td><td class="codeLine">        if ($this-&gt;adsense) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1185"></a><a href="#1185">1185</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'var adUnit;</td></tr>
     <tr><td><div align="right"><a name="1186"></a><a href="#1186">1186</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1187"></a><a href="#1187">1187</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1188"></a><a href="#1188">1188</a></div></td><td class="codeLine">        if ($this-&gt;drawing) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1189"></a><a href="#1189">1189</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'var drawingManager;</td></tr>
     <tr><td><div align="right"><a name="1190"></a><a href="#1190">1190</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1191"></a><a href="#1191">1191</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1192"></a><a href="#1192">1192</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1193"></a><a href="#1193">1193</a></div></td><td class="codeLine">        $this-&gt;output_js_contents .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1194"></a><a href="#1194">1194</a></div></td><td class="codeLine">            iw_'.$this-&gt;map_name.' = new google.maps.InfoWindow(';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1195"></a><a href="#1195">1195</a></div></td><td class="codeLine">        if ($this-&gt;infowindowMaxWidth != 0)</td></tr>
     <tr class="danger"><td><div align="right"><a name="1196"></a><a href="#1196">1196</a></div></td><td class="codeLine">        {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1197"></a><a href="#1197">1197</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= '{</td></tr>
     <tr class="danger"><td><div align="right"><a name="1198"></a><a href="#1198">1198</a></div></td><td class="codeLine">                maxWidth: '.$this-&gt;infowindowMaxWidth.'</td></tr>
     <tr class="danger"><td><div align="right"><a name="1199"></a><a href="#1199">1199</a></div></td><td class="codeLine">            }';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1200"></a><a href="#1200">1200</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1201"></a><a href="#1201">1201</a></div></td><td class="codeLine">        $this-&gt;output_js_contents .= ');</td></tr>
     <tr><td><div align="right"><a name="1202"></a><a href="#1202">1202</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="1203"></a><a href="#1203">1203</a></div></td><td class="codeLine">                 ';</td></tr>
     <tr><td><div align="right"><a name="1204"></a><a href="#1204">1204</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1205"></a><a href="#1205">1205</a></div></td><td class="codeLine">        $this-&gt;output_js_contents .= 'function initialize_'.$this-&gt;map_name.'() {</td></tr>
     <tr><td><div align="right"><a name="1206"></a><a href="#1206">1206</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1207"></a><a href="#1207">1207</a></div></td><td class="codeLine">                ';</td></tr>
     <tr><td><div align="right"><a name="1208"></a><a href="#1208">1208</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1209"></a><a href="#1209">1209</a></div></td><td class="codeLine">        $styleOutput = '';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1210"></a><a href="#1210">1210</a></div></td><td class="codeLine">        if (count($this-&gt;styles)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1211"></a><a href="#1211">1211</a></div></td><td class="codeLine">            $styles = 0;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1212"></a><a href="#1212">1212</a></div></td><td class="codeLine">            foreach ($this-&gt;styles as $style) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1213"></a><a href="#1213">1213</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= 'var styles_'.$styles.' = '.json_encode($style['definition']).';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1214"></a><a href="#1214">1214</a></div></td><td class="codeLine">                ';</td></tr>
     <tr><td><div align="right"><a name="1215"></a><a href="#1215">1215</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1216"></a><a href="#1216">1216</a></div></td><td class="codeLine">                if ($this-&gt;stylesAsMapTypes) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1217"></a><a href="#1217">1217</a></div></td><td class="codeLine">                    $this-&gt;output_js_contents .= 'var styles_'.$styles.' = new google.maps.StyledMapType(styles_'.$styles.', {name:&quot;'.$style['name'].'&quot;});</td></tr>
     <tr class="danger"><td><div align="right"><a name="1218"></a><a href="#1218">1218</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1219"></a><a href="#1219">1219</a></div></td><td class="codeLine">                }else{</td></tr>
     <tr class="danger"><td><div align="right"><a name="1220"></a><a href="#1220">1220</a></div></td><td class="codeLine">                    $styleOutput .= $this-&gt;map_name.'.setOptions({styles: styles_'.$styles.'});</td></tr>
     <tr class="danger"><td><div align="right"><a name="1221"></a><a href="#1221">1221</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1222"></a><a href="#1222">1222</a></div></td><td class="codeLine">                    break;</td></tr>
     <tr><td><div align="right"><a name="1223"></a><a href="#1223">1223</a></div></td><td class="codeLine">                }</td></tr>
     <tr><td><div align="right"><a name="1224"></a><a href="#1224">1224</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1225"></a><a href="#1225">1225</a></div></td><td class="codeLine">                ++$styles;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1226"></a><a href="#1226">1226</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1227"></a><a href="#1227">1227</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1228"></a><a href="#1228">1228</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1229"></a><a href="#1229">1229</a></div></td><td class="codeLine">        if ($this-&gt;center!=&quot;auto&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1230"></a><a href="#1230">1230</a></div></td><td class="codeLine">            if ($this-&gt;is_lat_long($this-&gt;center)) { // if centering the map on a lat/long</td></tr>
     <tr class="danger"><td><div align="right"><a name="1231"></a><a href="#1231">1231</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= 'var myLatlng = new google.maps.LatLng('.$this-&gt;center.');';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1232"></a><a href="#1232">1232</a></div></td><td class="codeLine">            }else{  // if centering the map on an address</td></tr>
     <tr class="danger"><td><div align="right"><a name="1233"></a><a href="#1233">1233</a></div></td><td class="codeLine">                $lat_long = $this-&gt;get_lat_long_from_address($this-&gt;center);</td></tr>
     <tr class="danger"><td><div align="right"><a name="1234"></a><a href="#1234">1234</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= 'var myLatlng = new google.maps.LatLng('.$lat_long[0].', '.$lat_long[1].');';</td></tr>
     <tr><td><div align="right"><a name="1235"></a><a href="#1235">1235</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1236"></a><a href="#1236">1236</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1237"></a><a href="#1237">1237</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1238"></a><a href="#1238">1238</a></div></td><td class="codeLine">        $this-&gt;output_js_contents .= '</td></tr>
     <tr><td><div align="right"><a name="1239"></a><a href="#1239">1239</a></div></td><td class="codeLine">                var myOptions = {</td></tr>
     <tr><td><div align="right"><a name="1240"></a><a href="#1240">1240</a></div></td><td class="codeLine">                      ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1241"></a><a href="#1241">1241</a></div></td><td class="codeLine">        if ($this-&gt;zoom==&quot;auto&quot;) { $this-&gt;output_js_contents .= 'zoom: 13,'; }else{ $this-&gt;output_js_contents .= 'zoom: '.$this-&gt;zoom.','; }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1242"></a><a href="#1242">1242</a></div></td><td class="codeLine">        if ($this-&gt;center!=&quot;auto&quot;) { $this-&gt;output_js_contents .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1243"></a><a href="#1243">1243</a></div></td><td class="codeLine">                    center: myLatlng,'; }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1244"></a><a href="#1244">1244</a></div></td><td class="codeLine">        if (strtolower($this-&gt;map_type)==&quot;street&quot;) { $map_type = &quot;ROADMAP&quot;; }else{ $map_type = $this-&gt;map_type; }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1245"></a><a href="#1245">1245</a></div></td><td class="codeLine">        $this-&gt;output_js_contents .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1246"></a><a href="#1246">1246</a></div></td><td class="codeLine">                      mapTypeId: google.maps.MapTypeId.'.$map_type;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1247"></a><a href="#1247">1247</a></div></td><td class="codeLine">        if ($this-&gt;backgroundColor) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1248"></a><a href="#1248">1248</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1249"></a><a href="#1249">1249</a></div></td><td class="codeLine">                    backgroundColor: \''.$this-&gt;backgroundColor.'\'';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1250"></a><a href="#1250">1250</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1251"></a><a href="#1251">1251</a></div></td><td class="codeLine">        if ($this-&gt;disableDefaultUI) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1252"></a><a href="#1252">1252</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= ',</td></tr>
     <tr><td><div align="right"><a name="1253"></a><a href="#1253">1253</a></div></td><td class="codeLine">                    disableDefaultUI: true';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1254"></a><a href="#1254">1254</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1255"></a><a href="#1255">1255</a></div></td><td class="codeLine">        if ($this-&gt;disableMapTypeControl) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1256"></a><a href="#1256">1256</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= ',</td></tr>
     <tr><td><div align="right"><a name="1257"></a><a href="#1257">1257</a></div></td><td class="codeLine">                    mapTypeControl: false';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1258"></a><a href="#1258">1258</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1259"></a><a href="#1259">1259</a></div></td><td class="codeLine">        if ($this-&gt;disableNavigationControl) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1260"></a><a href="#1260">1260</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= ',</td></tr>
     <tr><td><div align="right"><a name="1261"></a><a href="#1261">1261</a></div></td><td class="codeLine">                    navigationControl: false';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1262"></a><a href="#1262">1262</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1263"></a><a href="#1263">1263</a></div></td><td class="codeLine">        if ($this-&gt;disableScaleControl) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1264"></a><a href="#1264">1264</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= ',</td></tr>
     <tr><td><div align="right"><a name="1265"></a><a href="#1265">1265</a></div></td><td class="codeLine">                    scaleControl: false';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1266"></a><a href="#1266">1266</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1267"></a><a href="#1267">1267</a></div></td><td class="codeLine">        if ($this-&gt;disableStreetViewControl) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1268"></a><a href="#1268">1268</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= ',</td></tr>
     <tr><td><div align="right"><a name="1269"></a><a href="#1269">1269</a></div></td><td class="codeLine">                    streetViewControl: false';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1270"></a><a href="#1270">1270</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1271"></a><a href="#1271">1271</a></div></td><td class="codeLine">        if ($this-&gt;disableDoubleClickZoom) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1272"></a><a href="#1272">1272</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= ',</td></tr>
     <tr><td><div align="right"><a name="1273"></a><a href="#1273">1273</a></div></td><td class="codeLine">                    disableDoubleClickZoom: true';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1274"></a><a href="#1274">1274</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1275"></a><a href="#1275">1275</a></div></td><td class="codeLine">        if (!$this-&gt;draggable) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1276"></a><a href="#1276">1276</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= ',</td></tr>
     <tr><td><div align="right"><a name="1277"></a><a href="#1277">1277</a></div></td><td class="codeLine">                    draggable: false';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1278"></a><a href="#1278">1278</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1279"></a><a href="#1279">1279</a></div></td><td class="codeLine">        if ($this-&gt;draggableCursor!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1280"></a><a href="#1280">1280</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1281"></a><a href="#1281">1281</a></div></td><td class="codeLine">                    draggableCursor: &quot;'.$this-&gt;draggableCursor.'&quot;';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1282"></a><a href="#1282">1282</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1283"></a><a href="#1283">1283</a></div></td><td class="codeLine">        if ($this-&gt;draggingCursor!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1284"></a><a href="#1284">1284</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1285"></a><a href="#1285">1285</a></div></td><td class="codeLine">                    draggingCursor: &quot;'.$this-&gt;draggingCursor.'&quot;';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1286"></a><a href="#1286">1286</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1287"></a><a href="#1287">1287</a></div></td><td class="codeLine">        if (!$this-&gt;keyboardShortcuts) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1288"></a><a href="#1288">1288</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= ',</td></tr>
     <tr><td><div align="right"><a name="1289"></a><a href="#1289">1289</a></div></td><td class="codeLine">                    keyboardShortcuts: false';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1290"></a><a href="#1290">1290</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1291"></a><a href="#1291">1291</a></div></td><td class="codeLine">        $mapTypeControlOptions = array();</td></tr>
     <tr class="danger"><td><div align="right"><a name="1292"></a><a href="#1292">1292</a></div></td><td class="codeLine">        $map_types = array();</td></tr>
     <tr class="danger"><td><div align="right"><a name="1293"></a><a href="#1293">1293</a></div></td><td class="codeLine">        if ($this-&gt;mapTypeControlPosition!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1294"></a><a href="#1294">1294</a></div></td><td class="codeLine">            array_push($mapTypeControlOptions, 'position: google.maps.ControlPosition.'.strtoupper($this-&gt;mapTypeControlPosition));</td></tr>
     <tr class="danger"><td><div align="right"><a name="1295"></a><a href="#1295">1295</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1296"></a><a href="#1296">1296</a></div></td><td class="codeLine">        if ($this-&gt;mapTypeControlStyle!=&quot;&quot; &amp;&amp; (strtoupper($this-&gt;mapTypeControlStyle)==&quot;DROPDOWN_MENU&quot; || strtoupper($this-&gt;mapTypeControlStyle)==&quot;HORIZONTAL_BAR&quot;)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1297"></a><a href="#1297">1297</a></div></td><td class="codeLine">            array_push($mapTypeControlOptions, 'style: google.maps.MapTypeControlStyle.'.strtoupper($this-&gt;mapTypeControlStyle));</td></tr>
     <tr class="danger"><td><div align="right"><a name="1298"></a><a href="#1298">1298</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1299"></a><a href="#1299">1299</a></div></td><td class="codeLine">        if (count($this-&gt;map_types_available)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1300"></a><a href="#1300">1300</a></div></td><td class="codeLine">            foreach ($this-&gt;map_types_available as $map_type) { array_push($map_types, 'google.maps.MapTypeId.'.strtoupper($map_type)); }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1301"></a><a href="#1301">1301</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1302"></a><a href="#1302">1302</a></div></td><td class="codeLine">        if (count($this-&gt;styles) &amp;&amp; $this-&gt;stylesAsMapTypes) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1303"></a><a href="#1303">1303</a></div></td><td class="codeLine">            $styles = 0;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1304"></a><a href="#1304">1304</a></div></td><td class="codeLine">            foreach ($this-&gt;styles as $style) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1305"></a><a href="#1305">1305</a></div></td><td class="codeLine">                array_push($map_types, '&quot;style'.$styles.'&quot;');</td></tr>
     <tr><td><div align="right"><a name="1306"></a><a href="#1306">1306</a></div></td><td class="codeLine">                $styleOutput .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1307"></a><a href="#1307">1307</a></div></td><td class="codeLine">                      '.$this-&gt;map_name.'.mapTypes.set(&quot;style'.$styles.'&quot;, styles_'.$styles.');</td></tr>
     <tr class="danger"><td><div align="right"><a name="1308"></a><a href="#1308">1308</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1309"></a><a href="#1309">1309</a></div></td><td class="codeLine">                if ($this-&gt;stylesAsMapTypesDefault==$style['name']) {</td></tr>
     <tr><td><div align="right"><a name="1310"></a><a href="#1310">1310</a></div></td><td class="codeLine">                $styleOutput .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1311"></a><a href="#1311">1311</a></div></td><td class="codeLine">                      '.$this-&gt;map_name.'.setMapTypeId(&quot;style'.$styles.'&quot;);</td></tr>
     <tr class="danger"><td><div align="right"><a name="1312"></a><a href="#1312">1312</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1313"></a><a href="#1313">1313</a></div></td><td class="codeLine">                }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1314"></a><a href="#1314">1314</a></div></td><td class="codeLine">                $styles++;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1315"></a><a href="#1315">1315</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1316"></a><a href="#1316">1316</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1317"></a><a href="#1317">1317</a></div></td><td class="codeLine">        if (count($map_types)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1318"></a><a href="#1318">1318</a></div></td><td class="codeLine">            array_push($mapTypeControlOptions, 'mapTypeIds: ['.implode(&quot;, &quot;, $map_types).']');</td></tr>
     <tr class="danger"><td><div align="right"><a name="1319"></a><a href="#1319">1319</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1320"></a><a href="#1320">1320</a></div></td><td class="codeLine">        if (count($mapTypeControlOptions)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1321"></a><a href="#1321">1321</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1322"></a><a href="#1322">1322</a></div></td><td class="codeLine">                    mapTypeControlOptions: {'.implode(&quot;,&quot;, $mapTypeControlOptions).'}';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1323"></a><a href="#1323">1323</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1324"></a><a href="#1324">1324</a></div></td><td class="codeLine">        if ($this-&gt;minzoom!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1325"></a><a href="#1325">1325</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1326"></a><a href="#1326">1326</a></div></td><td class="codeLine">                    minZoom: '.$this-&gt;minzoom;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1327"></a><a href="#1327">1327</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1328"></a><a href="#1328">1328</a></div></td><td class="codeLine">        if ($this-&gt;maxzoom!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1329"></a><a href="#1329">1329</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1330"></a><a href="#1330">1330</a></div></td><td class="codeLine">                    maxZoom: '.$this-&gt;maxzoom;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1331"></a><a href="#1331">1331</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1332"></a><a href="#1332">1332</a></div></td><td class="codeLine">        if ($this-&gt;noClear) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1333"></a><a href="#1333">1333</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= ',</td></tr>
     <tr><td><div align="right"><a name="1334"></a><a href="#1334">1334</a></div></td><td class="codeLine">                    noClear: true';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1335"></a><a href="#1335">1335</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1336"></a><a href="#1336">1336</a></div></td><td class="codeLine">        if ($this-&gt;navigationControlPosition!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1337"></a><a href="#1337">1337</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1338"></a><a href="#1338">1338</a></div></td><td class="codeLine">                    navigationControlOptions: {position: google.maps.ControlPosition.'.strtoupper($this-&gt;navigationControlPosition).'}';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1339"></a><a href="#1339">1339</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1340"></a><a href="#1340">1340</a></div></td><td class="codeLine">        if ($this-&gt;scaleControlPosition!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1341"></a><a href="#1341">1341</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= ',</td></tr>
     <tr><td><div align="right"><a name="1342"></a><a href="#1342">1342</a></div></td><td class="codeLine">                     scaleControl: true,</td></tr>
     <tr class="danger"><td><div align="right"><a name="1343"></a><a href="#1343">1343</a></div></td><td class="codeLine">                    scaleControlOptions: {position: google.maps.ControlPosition.'.strtoupper($this-&gt;scaleControlPosition).'}';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1344"></a><a href="#1344">1344</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1345"></a><a href="#1345">1345</a></div></td><td class="codeLine">        if (!$this-&gt;scrollwheel) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1346"></a><a href="#1346">1346</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= ',</td></tr>
     <tr><td><div align="right"><a name="1347"></a><a href="#1347">1347</a></div></td><td class="codeLine">                    scrollwheel: false';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1348"></a><a href="#1348">1348</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1349"></a><a href="#1349">1349</a></div></td><td class="codeLine">        if ($this-&gt;streetViewControlPosition!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1350"></a><a href="#1350">1350</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1351"></a><a href="#1351">1351</a></div></td><td class="codeLine">                    streetViewControlOptions: {position: google.maps.ControlPosition.'.strtoupper($this-&gt;streetViewControlPosition).'}';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1352"></a><a href="#1352">1352</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1353"></a><a href="#1353">1353</a></div></td><td class="codeLine">        if ($this-&gt;tilt==45) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1354"></a><a href="#1354">1354</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1355"></a><a href="#1355">1355</a></div></td><td class="codeLine">                    tilt: '.$this-&gt;tilt;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1356"></a><a href="#1356">1356</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1357"></a><a href="#1357">1357</a></div></td><td class="codeLine">        $zoomControlOptions = array();</td></tr>
     <tr class="danger"><td><div align="right"><a name="1358"></a><a href="#1358">1358</a></div></td><td class="codeLine">        if ($this-&gt;zoomControlPosition!=&quot;&quot;) { array_push($zoomControlOptions, 'position: google.maps.ControlPosition.'.strtoupper($this-&gt;zoomControlPosition)); }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1359"></a><a href="#1359">1359</a></div></td><td class="codeLine">        if ($this-&gt;zoomControlStyle!=&quot;&quot; &amp;&amp; (strtoupper($this-&gt;zoomControlStyle)==&quot;SMALL&quot; || strtoupper($this-&gt;zoomControlStyle)==&quot;LARGE&quot;)) { array_push($zoomControlOptions, 'style: google.maps.ZoomControlStyle.'.strtoupper($this-&gt;zoomControlStyle)); }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1360"></a><a href="#1360">1360</a></div></td><td class="codeLine">        if (count($zoomControlOptions)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1361"></a><a href="#1361">1361</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1362"></a><a href="#1362">1362</a></div></td><td class="codeLine">                    zoomControlOptions: {'.implode(&quot;,&quot;, $zoomControlOptions).'}';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1363"></a><a href="#1363">1363</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1364"></a><a href="#1364">1364</a></div></td><td class="codeLine">        $this-&gt;output_js_contents .= '}</td></tr>
     <tr class="danger"><td><div align="right"><a name="1365"></a><a href="#1365">1365</a></div></td><td class="codeLine">                '.$this-&gt;map_name.' = new google.maps.Map(document.getElementById(&quot;'.$this-&gt;map_div_id.'&quot;), myOptions);</td></tr>
     <tr class="danger"><td><div align="right"><a name="1366"></a><a href="#1366">1366</a></div></td><td class="codeLine">                ';</td></tr>
     <tr><td><div align="right"><a name="1367"></a><a href="#1367">1367</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1368"></a><a href="#1368">1368</a></div></td><td class="codeLine">        if ($styleOutput!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1369"></a><a href="#1369">1369</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= $styleOutput.'</td></tr>
     <tr class="danger"><td><div align="right"><a name="1370"></a><a href="#1370">1370</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1371"></a><a href="#1371">1371</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1372"></a><a href="#1372">1372</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1373"></a><a href="#1373">1373</a></div></td><td class="codeLine">        if ($this-&gt;trafficOverlay) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1374"></a><a href="#1374">1374</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'var trafficLayer = new google.maps.TrafficLayer();</td></tr>
     <tr class="danger"><td><div align="right"><a name="1375"></a><a href="#1375">1375</a></div></td><td class="codeLine">                trafficLayer.setMap('.$this-&gt;map_name.');</td></tr>
     <tr class="danger"><td><div align="right"><a name="1376"></a><a href="#1376">1376</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1377"></a><a href="#1377">1377</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1378"></a><a href="#1378">1378</a></div></td><td class="codeLine">        if ($this-&gt;bicyclingOverlay) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1379"></a><a href="#1379">1379</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'var bikeLayer = new google.maps.BicyclingLayer();</td></tr>
     <tr class="danger"><td><div align="right"><a name="1380"></a><a href="#1380">1380</a></div></td><td class="codeLine">                bikeLayer.setMap('.$this-&gt;map_name.');</td></tr>
     <tr class="danger"><td><div align="right"><a name="1381"></a><a href="#1381">1381</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1382"></a><a href="#1382">1382</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1383"></a><a href="#1383">1383</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1384"></a><a href="#1384">1384</a></div></td><td class="codeLine">        if ((is_array($this-&gt;kmlLayerURL) &amp;&amp; count($this-&gt;kmlLayerURL)) || (!is_array($this-&gt;kmlLayerURL) &amp;&amp; $this-&gt;kmlLayerURL != &quot;&quot;))</td></tr>
     <tr class="danger"><td><div align="right"><a name="1385"></a><a href="#1385">1385</a></div></td><td class="codeLine">        {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1386"></a><a href="#1386">1386</a></div></td><td class="codeLine">            if (!is_array($this-&gt;kmlLayerURL))</td></tr>
     <tr class="danger"><td><div align="right"><a name="1387"></a><a href="#1387">1387</a></div></td><td class="codeLine">            {</td></tr>
     <tr><td><div align="right"><a name="1388"></a><a href="#1388">1388</a></div></td><td class="codeLine">                // Need to convert single KML layer to array</td></tr>
     <tr class="danger"><td><div align="right"><a name="1389"></a><a href="#1389">1389</a></div></td><td class="codeLine">                $this-&gt;kmlLayerURL = array($this-&gt;kmlLayerURL);</td></tr>
     <tr class="danger"><td><div align="right"><a name="1390"></a><a href="#1390">1390</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1391"></a><a href="#1391">1391</a></div></td><td class="codeLine">            if (count($this-&gt;kmlLayerURL))</td></tr>
     <tr class="danger"><td><div align="right"><a name="1392"></a><a href="#1392">1392</a></div></td><td class="codeLine">            {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1393"></a><a href="#1393">1393</a></div></td><td class="codeLine">                $i = 0;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1394"></a><a href="#1394">1394</a></div></td><td class="codeLine">                foreach ($this-&gt;kmlLayerURL as $kmlLayerURL)</td></tr>
     <tr><td><div align="right"><a name="1395"></a><a href="#1395">1395</a></div></td><td class="codeLine">                {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1396"></a><a href="#1396">1396</a></div></td><td class="codeLine">                    $this-&gt;output_js_contents .= '</td></tr>
     <tr><td><div align="right"><a name="1397"></a><a href="#1397">1397</a></div></td><td class="codeLine">                        var kmlLayerOptions = {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1398"></a><a href="#1398">1398</a></div></td><td class="codeLine">                            map: '.$this-&gt;map_name;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1399"></a><a href="#1399">1399</a></div></td><td class="codeLine">                    if ($this-&gt;kmlLayerPreserveViewport) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1400"></a><a href="#1400">1400</a></div></td><td class="codeLine">                        $this-&gt;output_js_contents .= ',</td></tr>
     <tr><td><div align="right"><a name="1401"></a><a href="#1401">1401</a></div></td><td class="codeLine">                            preserveViewport: true';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1402"></a><a href="#1402">1402</a></div></td><td class="codeLine">                    }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1403"></a><a href="#1403">1403</a></div></td><td class="codeLine">                    $this-&gt;output_js_contents .= '</td></tr>
     <tr><td><div align="right"><a name="1404"></a><a href="#1404">1404</a></div></td><td class="codeLine">                        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1405"></a><a href="#1405">1405</a></div></td><td class="codeLine">                        var kmlLayer_'.$i.' = new google.maps.KmlLayer(&quot;'.$kmlLayerURL.'&quot;, kmlLayerOptions);</td></tr>
     <tr class="danger"><td><div align="right"><a name="1406"></a><a href="#1406">1406</a></div></td><td class="codeLine">                        ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1407"></a><a href="#1407">1407</a></div></td><td class="codeLine">                    ++$i;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1408"></a><a href="#1408">1408</a></div></td><td class="codeLine">                }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1409"></a><a href="#1409">1409</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1410"></a><a href="#1410">1410</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1411"></a><a href="#1411">1411</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1412"></a><a href="#1412">1412</a></div></td><td class="codeLine">        if ($this-&gt;panoramio) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1413"></a><a href="#1413">1413</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'var panoramioLayer = new google.maps.panoramio.PanoramioLayer();</td></tr>
     <tr><td><div align="right"><a name="1414"></a><a href="#1414">1414</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1415"></a><a href="#1415">1415</a></div></td><td class="codeLine">            if ($this-&gt;panoramioTag!=&quot;&quot;) { $this-&gt;output_js_contents .= 'panoramioLayer.setTag(&quot;'.$this-&gt;panoramioTag.'&quot;);</td></tr>
     <tr class="danger"><td><div align="right"><a name="1416"></a><a href="#1416">1416</a></div></td><td class="codeLine">                '; }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1417"></a><a href="#1417">1417</a></div></td><td class="codeLine">            if ($this-&gt;panoramioUser!=&quot;&quot;) { $this-&gt;output_js_contents .= 'panoramioLayer.setUserId(&quot;'.$this-&gt;panoramioUser.'&quot;);</td></tr>
     <tr class="danger"><td><div align="right"><a name="1418"></a><a href="#1418">1418</a></div></td><td class="codeLine">                '; }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1419"></a><a href="#1419">1419</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1420"></a><a href="#1420">1420</a></div></td><td class="codeLine">                panoramioLayer.setMap('.$this-&gt;map_name.');</td></tr>
     <tr class="danger"><td><div align="right"><a name="1421"></a><a href="#1421">1421</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1422"></a><a href="#1422">1422</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1423"></a><a href="#1423">1423</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1424"></a><a href="#1424">1424</a></div></td><td class="codeLine">        if (strtolower($this-&gt;map_type)==&quot;street&quot;) { // if defaulting the map to Street View</td></tr>
     <tr class="danger"><td><div align="right"><a name="1425"></a><a href="#1425">1425</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= '</td></tr>
     <tr><td><div align="right"><a name="1426"></a><a href="#1426">1426</a></div></td><td class="codeLine">                  var streetViewOptions = {</td></tr>
     <tr><td><div align="right"><a name="1427"></a><a href="#1427">1427</a></div></td><td class="codeLine">                    position: myLatlng';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1428"></a><a href="#1428">1428</a></div></td><td class="codeLine">            if (!$this-&gt;streetViewAddressControl) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1429"></a><a href="#1429">1429</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= ',</td></tr>
     <tr><td><div align="right"><a name="1430"></a><a href="#1430">1430</a></div></td><td class="codeLine">                    addressControl: false';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1431"></a><a href="#1431">1431</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1432"></a><a href="#1432">1432</a></div></td><td class="codeLine">            if ($this-&gt;streetViewAddressPosition!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1433"></a><a href="#1433">1433</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1434"></a><a href="#1434">1434</a></div></td><td class="codeLine">                    addressControlOptions: { position: google.maps.ControlPosition.'.$this-&gt;streetViewAddressPosition.' }';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1435"></a><a href="#1435">1435</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1436"></a><a href="#1436">1436</a></div></td><td class="codeLine">            if ($this-&gt;streetViewCloseButton) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1437"></a><a href="#1437">1437</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= ',</td></tr>
     <tr><td><div align="right"><a name="1438"></a><a href="#1438">1438</a></div></td><td class="codeLine">                    enableCloseButton: true';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1439"></a><a href="#1439">1439</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1440"></a><a href="#1440">1440</a></div></td><td class="codeLine">            if (!$this-&gt;streetViewLinksControl) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1441"></a><a href="#1441">1441</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= ',</td></tr>
     <tr><td><div align="right"><a name="1442"></a><a href="#1442">1442</a></div></td><td class="codeLine">                    linksControl: false';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1443"></a><a href="#1443">1443</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1444"></a><a href="#1444">1444</a></div></td><td class="codeLine">            if (!$this-&gt;streetViewPanControl) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1445"></a><a href="#1445">1445</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= ',</td></tr>
     <tr><td><div align="right"><a name="1446"></a><a href="#1446">1446</a></div></td><td class="codeLine">                    panControl: false';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1447"></a><a href="#1447">1447</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1448"></a><a href="#1448">1448</a></div></td><td class="codeLine">            if ($this-&gt;streetViewPanPosition!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1449"></a><a href="#1449">1449</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1450"></a><a href="#1450">1450</a></div></td><td class="codeLine">                    panControlOptions: { position: google.maps.ControlPosition.'.$this-&gt;streetViewPanPosition.' }';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1451"></a><a href="#1451">1451</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1452"></a><a href="#1452">1452</a></div></td><td class="codeLine">            if ($this-&gt;streetViewPovHeading!=0 || $this-&gt;streetViewPovPitch!=0 || $this-&gt;streetViewPovZoom!=0) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1453"></a><a href="#1453">1453</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= ',</td></tr>
     <tr><td><div align="right"><a name="1454"></a><a href="#1454">1454</a></div></td><td class="codeLine">                    pov: {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1455"></a><a href="#1455">1455</a></div></td><td class="codeLine">                        heading: '.$this-&gt;streetViewPovHeading.',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1456"></a><a href="#1456">1456</a></div></td><td class="codeLine">                        pitch: '.$this-&gt;streetViewPovPitch.',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1457"></a><a href="#1457">1457</a></div></td><td class="codeLine">                        zoom: '.$this-&gt;streetViewPovZoom.'</td></tr>
     <tr class="danger"><td><div align="right"><a name="1458"></a><a href="#1458">1458</a></div></td><td class="codeLine">                    }';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1459"></a><a href="#1459">1459</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1460"></a><a href="#1460">1460</a></div></td><td class="codeLine">            if (!$this-&gt;streetViewZoomControl) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1461"></a><a href="#1461">1461</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= ',</td></tr>
     <tr><td><div align="right"><a name="1462"></a><a href="#1462">1462</a></div></td><td class="codeLine">                    zoomControl: false';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1463"></a><a href="#1463">1463</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1464"></a><a href="#1464">1464</a></div></td><td class="codeLine">            if ($this-&gt;streetViewZoomPosition!=&quot;&quot; || $this-&gt;streetViewZoomStyle!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1465"></a><a href="#1465">1465</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= ',</td></tr>
     <tr><td><div align="right"><a name="1466"></a><a href="#1466">1466</a></div></td><td class="codeLine">                    zoomControlOptions: {';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1467"></a><a href="#1467">1467</a></div></td><td class="codeLine">                if ($this-&gt;streetViewZoomPosition!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1468"></a><a href="#1468">1468</a></div></td><td class="codeLine">                    $this-&gt;output_js_contents .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1469"></a><a href="#1469">1469</a></div></td><td class="codeLine">                        position: google.maps.ControlPosition.'.$this-&gt;streetViewZoomPosition.',';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1470"></a><a href="#1470">1470</a></div></td><td class="codeLine">                }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1471"></a><a href="#1471">1471</a></div></td><td class="codeLine">                if ($this-&gt;streetViewZoomStyle!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1472"></a><a href="#1472">1472</a></div></td><td class="codeLine">                    $this-&gt;output_js_contents .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1473"></a><a href="#1473">1473</a></div></td><td class="codeLine">                        style: google.maps.ZoomControlStyle.'.$this-&gt;streetViewZoomStyle.',';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1474"></a><a href="#1474">1474</a></div></td><td class="codeLine">                }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1475"></a><a href="#1475">1475</a></div></td><td class="codeLine">                $this-&gt;output_js_contents = trim($this-&gt;output_js_contents, &quot;,&quot;);</td></tr>
     <tr class="danger"><td><div align="right"><a name="1476"></a><a href="#1476">1476</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= '}';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1477"></a><a href="#1477">1477</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1478"></a><a href="#1478">1478</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= '</td></tr>
     <tr><td><div align="right"><a name="1479"></a><a href="#1479">1479</a></div></td><td class="codeLine">                };</td></tr>
     <tr class="danger"><td><div align="right"><a name="1480"></a><a href="#1480">1480</a></div></td><td class="codeLine">                var streetView = new google.maps.StreetViewPanorama(document.getElementById(&quot;'.$this-&gt;map_div_id.'&quot;), streetViewOptions);</td></tr>
     <tr><td><div align="right"><a name="1481"></a><a href="#1481">1481</a></div></td><td class="codeLine">                streetView.setVisible(true);</td></tr>
     <tr class="danger"><td><div align="right"><a name="1482"></a><a href="#1482">1482</a></div></td><td class="codeLine">                  ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1483"></a><a href="#1483">1483</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1484"></a><a href="#1484">1484</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1485"></a><a href="#1485">1485</a></div></td><td class="codeLine">        if ($this-&gt;center==&quot;auto&quot;) { // if wanting to center on the users location</td></tr>
     <tr class="danger"><td><div align="right"><a name="1486"></a><a href="#1486">1486</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= '</td></tr>
     <tr><td><div align="right"><a name="1487"></a><a href="#1487">1487</a></div></td><td class="codeLine">                // Try W3C Geolocation (Preferred)</td></tr>
     <tr><td><div align="right"><a name="1488"></a><a href="#1488">1488</a></div></td><td class="codeLine">                if(navigator.geolocation) {</td></tr>
     <tr><td><div align="right"><a name="1489"></a><a href="#1489">1489</a></div></td><td class="codeLine">                    navigator.geolocation.getCurrentPosition(function(position) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1490"></a><a href="#1490">1490</a></div></td><td class="codeLine">                        '.$this-&gt;map_name.'.setCenter(new google.maps.LatLng(position.coords.latitude,position.coords.longitude));</td></tr>
     <tr><td><div align="right"><a name="1491"></a><a href="#1491">1491</a></div></td><td class="codeLine">                    }, function() { alert(&quot;Unable to get your current position. Please try again. Geolocation service failed.&quot;); });</td></tr>
     <tr><td><div align="right"><a name="1492"></a><a href="#1492">1492</a></div></td><td class="codeLine">                // Browser doesn\'t support Geolocation</td></tr>
     <tr><td><div align="right"><a name="1493"></a><a href="#1493">1493</a></div></td><td class="codeLine">                }else{</td></tr>
     <tr><td><div align="right"><a name="1494"></a><a href="#1494">1494</a></div></td><td class="codeLine">                    alert(\'Your browser does not support geolocation.\');</td></tr>
     <tr><td><div align="right"><a name="1495"></a><a href="#1495">1495</a></div></td><td class="codeLine">                }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1496"></a><a href="#1496">1496</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1497"></a><a href="#1497">1497</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1498"></a><a href="#1498">1498</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1499"></a><a href="#1499">1499</a></div></td><td class="codeLine">        if ($this-&gt;directions) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1500"></a><a href="#1500">1500</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'directionsDisplay.setMap('.$this-&gt;map_name.');</td></tr>
     <tr class="danger"><td><div align="right"><a name="1501"></a><a href="#1501">1501</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1502"></a><a href="#1502">1502</a></div></td><td class="codeLine">            if ($this-&gt;directionsDivID!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1503"></a><a href="#1503">1503</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= 'directionsDisplay.setPanel(document.getElementById(&quot;'.$this-&gt;directionsDivID.'&quot;));</td></tr>
     <tr class="danger"><td><div align="right"><a name="1504"></a><a href="#1504">1504</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1505"></a><a href="#1505">1505</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1506"></a><a href="#1506">1506</a></div></td><td class="codeLine">            if ($this-&gt;directionsDraggable &amp;&amp; $this-&gt;directionsChanged!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1507"></a><a href="#1507">1507</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= 'google.maps.event.addListener(directionsDisplay, &quot;directions_changed&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1508"></a><a href="#1508">1508</a></div></td><td class="codeLine">                    '.$this-&gt;directionsChanged.'</td></tr>
     <tr><td><div align="right"><a name="1509"></a><a href="#1509">1509</a></div></td><td class="codeLine">                });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1510"></a><a href="#1510">1510</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1511"></a><a href="#1511">1511</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1512"></a><a href="#1512">1512</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1513"></a><a href="#1513">1513</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1514"></a><a href="#1514">1514</a></div></td><td class="codeLine">        if ($this-&gt;drawing) {</td></tr>
     <tr><td><div align="right"><a name="1515"></a><a href="#1515">1515</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1516"></a><a href="#1516">1516</a></div></td><td class="codeLine">            if ($this-&gt;drawingControlPosition=='') { $this-&gt;drawingControlPosition = 'TOP_CENTER'; }</td></tr>
     <tr><td><div align="right"><a name="1517"></a><a href="#1517">1517</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1518"></a><a href="#1518">1518</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'drawingManager = new google.maps.drawing.DrawingManager({</td></tr>
     <tr class="danger"><td><div align="right"><a name="1519"></a><a href="#1519">1519</a></div></td><td class="codeLine">                drawingMode: google.maps.drawing.OverlayType.'.strtoupper($this-&gt;drawingDefaultMode).',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1520"></a><a href="#1520">1520</a></div></td><td class="codeLine">                  drawingControl: '.(!$this-&gt;drawingControl ? 'false' : 'true').',</td></tr>
     <tr><td><div align="right"><a name="1521"></a><a href="#1521">1521</a></div></td><td class="codeLine">                  drawingControlOptions: {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1522"></a><a href="#1522">1522</a></div></td><td class="codeLine">                      position: google.maps.ControlPosition.'.strtoupper($this-&gt;drawingControlPosition);</td></tr>
     <tr class="danger"><td><div align="right"><a name="1523"></a><a href="#1523">1523</a></div></td><td class="codeLine">              $shapeOptions = '';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1524"></a><a href="#1524">1524</a></div></td><td class="codeLine">            if (count($this-&gt;drawingModes)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1525"></a><a href="#1525">1525</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= ',</td></tr>
     <tr><td><div align="right"><a name="1526"></a><a href="#1526">1526</a></div></td><td class="codeLine">                    drawingModes: [';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1527"></a><a href="#1527">1527</a></div></td><td class="codeLine">                $i=0;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1528"></a><a href="#1528">1528</a></div></td><td class="codeLine">                foreach ($this-&gt;drawingModes as $drawingMode) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1529"></a><a href="#1529">1529</a></div></td><td class="codeLine">                    if ($i&gt;0) { $this-&gt;output_js_contents .= ','; }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1530"></a><a href="#1530">1530</a></div></td><td class="codeLine">                    $this-&gt;output_js_contents .= 'google.maps.drawing.OverlayType.'.strtoupper($drawingMode);</td></tr>
     <tr class="danger"><td><div align="right"><a name="1531"></a><a href="#1531">1531</a></div></td><td class="codeLine">                    if (strtoupper($drawingMode)!=&quot;MARKER&quot;) {</td></tr>
     <tr><td><div align="right"><a name="1532"></a><a href="#1532">1532</a></div></td><td class="codeLine">                        $shapeOptions .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1533"></a><a href="#1533">1533</a></div></td><td class="codeLine">                        '.strtolower($drawingMode).'Options: {</td></tr>
     <tr><td><div align="right"><a name="1534"></a><a href="#1534">1534</a></div></td><td class="codeLine">                            editable: true</td></tr>
     <tr class="danger"><td><div align="right"><a name="1535"></a><a href="#1535">1535</a></div></td><td class="codeLine">                        }';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1536"></a><a href="#1536">1536</a></div></td><td class="codeLine">                    }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1537"></a><a href="#1537">1537</a></div></td><td class="codeLine">                    $i++;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1538"></a><a href="#1538">1538</a></div></td><td class="codeLine">                }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1539"></a><a href="#1539">1539</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= ']';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1540"></a><a href="#1540">1540</a></div></td><td class="codeLine">              }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1541"></a><a href="#1541">1541</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1542"></a><a href="#1542">1542</a></div></td><td class="codeLine">                }'.$shapeOptions.'</td></tr>
     <tr><td><div align="right"><a name="1543"></a><a href="#1543">1543</a></div></td><td class="codeLine">            });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1544"></a><a href="#1544">1544</a></div></td><td class="codeLine">            drawingManager.setMap('.$this-&gt;map_name.');</td></tr>
     <tr class="danger"><td><div align="right"><a name="1545"></a><a href="#1545">1545</a></div></td><td class="codeLine">            ';</td></tr>
     <tr><td><div align="right"><a name="1546"></a><a href="#1546">1546</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1547"></a><a href="#1547">1547</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= '</td></tr>
     <tr><td><div align="right"><a name="1548"></a><a href="#1548">1548</a></div></td><td class="codeLine">            google.maps.event.addListener(drawingManager, &quot;overlaycomplete&quot;, function(event) {</td></tr>
     <tr><td><div align="right"><a name="1549"></a><a href="#1549">1549</a></div></td><td class="codeLine">                var newShape = event.overlay;</td></tr>
     <tr><td><div align="right"><a name="1550"></a><a href="#1550">1550</a></div></td><td class="codeLine">                newShape.type = event.type;</td></tr>
     <tr><td><div align="right"><a name="1551"></a><a href="#1551">1551</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1552"></a><a href="#1552">1552</a></div></td><td class="codeLine">            if (count($this-&gt;drawingOnComplete)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1553"></a><a href="#1553">1553</a></div></td><td class="codeLine">                foreach ($this-&gt;drawingOnComplete as $shape=&gt;$js) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1554"></a><a href="#1554">1554</a></div></td><td class="codeLine">                    $this-&gt;output_js_contents .= 'if (event.type==google.maps.drawing.OverlayType.'.strtoupper($shape).') {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1555"></a><a href="#1555">1555</a></div></td><td class="codeLine">                        '.$js.'</td></tr>
     <tr><td><div align="right"><a name="1556"></a><a href="#1556">1556</a></div></td><td class="codeLine">                    }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1557"></a><a href="#1557">1557</a></div></td><td class="codeLine">                    ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1558"></a><a href="#1558">1558</a></div></td><td class="codeLine">                }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1559"></a><a href="#1559">1559</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="1560"></a><a href="#1560">1560</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1561"></a><a href="#1561">1561</a></div></td><td class="codeLine">            if (count($this-&gt;drawingOnEdit)) {</td></tr>
     <tr><td><div align="right"><a name="1562"></a><a href="#1562">1562</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1563"></a><a href="#1563">1563</a></div></td><td class="codeLine">                if (isset($this-&gt;drawingOnEdit['polygon'])) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1564"></a><a href="#1564">1564</a></div></td><td class="codeLine">                    $this-&gt;output_js_contents .= '</td></tr>
     <tr><td><div align="right"><a name="1565"></a><a href="#1565">1565</a></div></td><td class="codeLine">                if (newShape.type==google.maps.drawing.OverlayType.POLYGON) {</td></tr>
     <tr><td><div align="right"><a name="1566"></a><a href="#1566">1566</a></div></td><td class="codeLine">                    var newShapePaths = newShape.getPaths();</td></tr>
     <tr><td><div align="right"><a name="1567"></a><a href="#1567">1567</a></div></td><td class="codeLine">                    for (var i=0; i&lt;newShapePaths.length; i++) {</td></tr>
     <tr><td><div align="right"><a name="1568"></a><a href="#1568">1568</a></div></td><td class="codeLine">                        google.maps.event.addListener(newShapePaths.getAt(i), &quot;set_at&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1569"></a><a href="#1569">1569</a></div></td><td class="codeLine">                            '.$this-&gt;drawingOnEdit['polygon'].'</td></tr>
     <tr><td><div align="right"><a name="1570"></a><a href="#1570">1570</a></div></td><td class="codeLine">                        });</td></tr>
     <tr><td><div align="right"><a name="1571"></a><a href="#1571">1571</a></div></td><td class="codeLine">                        google.maps.event.addListener(newShapePaths.getAt(i), &quot;insert_at&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1572"></a><a href="#1572">1572</a></div></td><td class="codeLine">                            '.$this-&gt;drawingOnEdit['polygon'].'</td></tr>
     <tr><td><div align="right"><a name="1573"></a><a href="#1573">1573</a></div></td><td class="codeLine">                        });</td></tr>
     <tr><td><div align="right"><a name="1574"></a><a href="#1574">1574</a></div></td><td class="codeLine">                        google.maps.event.addListener(newShapePaths.getAt(i), &quot;remove_at&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1575"></a><a href="#1575">1575</a></div></td><td class="codeLine">                            '.$this-&gt;drawingOnEdit['polygon'].'</td></tr>
     <tr><td><div align="right"><a name="1576"></a><a href="#1576">1576</a></div></td><td class="codeLine">                        });</td></tr>
     <tr><td><div align="right"><a name="1577"></a><a href="#1577">1577</a></div></td><td class="codeLine">                    }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1578"></a><a href="#1578">1578</a></div></td><td class="codeLine">                }';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1579"></a><a href="#1579">1579</a></div></td><td class="codeLine">                }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1580"></a><a href="#1580">1580</a></div></td><td class="codeLine">                if (isset($this-&gt;drawingOnEdit['polyline'])) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1581"></a><a href="#1581">1581</a></div></td><td class="codeLine">                    $this-&gt;output_js_contents .= '</td></tr>
     <tr><td><div align="right"><a name="1582"></a><a href="#1582">1582</a></div></td><td class="codeLine">                if (newShape.type==google.maps.drawing.OverlayType.POLYLINE) {</td></tr>
     <tr><td><div align="right"><a name="1583"></a><a href="#1583">1583</a></div></td><td class="codeLine">                    var newShapePaths = newShape.getPaths();</td></tr>
     <tr><td><div align="right"><a name="1584"></a><a href="#1584">1584</a></div></td><td class="codeLine">                    for (var i=0; i&lt;newShapePaths.length; i++) {</td></tr>
     <tr><td><div align="right"><a name="1585"></a><a href="#1585">1585</a></div></td><td class="codeLine">                        google.maps.event.addListener(newShapePaths.getAt(i), &quot;set_at&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1586"></a><a href="#1586">1586</a></div></td><td class="codeLine">                            '.$this-&gt;drawingOnEdit['polyline'].'</td></tr>
     <tr><td><div align="right"><a name="1587"></a><a href="#1587">1587</a></div></td><td class="codeLine">                        });</td></tr>
     <tr><td><div align="right"><a name="1588"></a><a href="#1588">1588</a></div></td><td class="codeLine">                        google.maps.event.addListener(newShapePaths.getAt(i), &quot;insert_at&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1589"></a><a href="#1589">1589</a></div></td><td class="codeLine">                            '.$this-&gt;drawingOnEdit['polyline'].'</td></tr>
     <tr><td><div align="right"><a name="1590"></a><a href="#1590">1590</a></div></td><td class="codeLine">                        });</td></tr>
     <tr><td><div align="right"><a name="1591"></a><a href="#1591">1591</a></div></td><td class="codeLine">                        google.maps.event.addListener(newShapePaths.getAt(i), &quot;remove_at&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1592"></a><a href="#1592">1592</a></div></td><td class="codeLine">                            '.$this-&gt;drawingOnEdit['polyline'].'</td></tr>
     <tr><td><div align="right"><a name="1593"></a><a href="#1593">1593</a></div></td><td class="codeLine">                        });</td></tr>
     <tr><td><div align="right"><a name="1594"></a><a href="#1594">1594</a></div></td><td class="codeLine">                    }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1595"></a><a href="#1595">1595</a></div></td><td class="codeLine">                }';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1596"></a><a href="#1596">1596</a></div></td><td class="codeLine">                }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1597"></a><a href="#1597">1597</a></div></td><td class="codeLine">                if (isset($this-&gt;drawingOnEdit['rectangle'])) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1598"></a><a href="#1598">1598</a></div></td><td class="codeLine">                    $this-&gt;output_js_contents .= '</td></tr>
     <tr><td><div align="right"><a name="1599"></a><a href="#1599">1599</a></div></td><td class="codeLine">                if (newShape.type==google.maps.drawing.OverlayType.RECTANGLE) {</td></tr>
     <tr><td><div align="right"><a name="1600"></a><a href="#1600">1600</a></div></td><td class="codeLine">                    google.maps.event.addListener(newShape, &quot;bounds_changed&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1601"></a><a href="#1601">1601</a></div></td><td class="codeLine">                        '.$this-&gt;drawingOnEdit['rectangle'].'</td></tr>
     <tr><td><div align="right"><a name="1602"></a><a href="#1602">1602</a></div></td><td class="codeLine">                    });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1603"></a><a href="#1603">1603</a></div></td><td class="codeLine">                }';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1604"></a><a href="#1604">1604</a></div></td><td class="codeLine">                }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1605"></a><a href="#1605">1605</a></div></td><td class="codeLine">                if (isset($this-&gt;drawingOnEdit['circle'])) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1606"></a><a href="#1606">1606</a></div></td><td class="codeLine">                    $this-&gt;output_js_contents .= '</td></tr>
     <tr><td><div align="right"><a name="1607"></a><a href="#1607">1607</a></div></td><td class="codeLine">                if (newShape.type==google.maps.drawing.OverlayType.CIRCLE) {</td></tr>
     <tr><td><div align="right"><a name="1608"></a><a href="#1608">1608</a></div></td><td class="codeLine">                    google.maps.event.addListener(newShape, &quot;radius_changed&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1609"></a><a href="#1609">1609</a></div></td><td class="codeLine">                        '.$this-&gt;drawingOnEdit['circle'].'</td></tr>
     <tr><td><div align="right"><a name="1610"></a><a href="#1610">1610</a></div></td><td class="codeLine">                    });</td></tr>
     <tr><td><div align="right"><a name="1611"></a><a href="#1611">1611</a></div></td><td class="codeLine">                    google.maps.event.addListener(newShape, &quot;center_changed&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1612"></a><a href="#1612">1612</a></div></td><td class="codeLine">                        '.$this-&gt;drawingOnEdit['circle'].'</td></tr>
     <tr><td><div align="right"><a name="1613"></a><a href="#1613">1613</a></div></td><td class="codeLine">                    });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1614"></a><a href="#1614">1614</a></div></td><td class="codeLine">                }';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1615"></a><a href="#1615">1615</a></div></td><td class="codeLine">                }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1616"></a><a href="#1616">1616</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="1617"></a><a href="#1617">1617</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1618"></a><a href="#1618">1618</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= '</td></tr>
     <tr><td><div align="right"><a name="1619"></a><a href="#1619">1619</a></div></td><td class="codeLine">            });';</td></tr>
     <tr><td><div align="right"><a name="1620"></a><a href="#1620">1620</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1621"></a><a href="#1621">1621</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1622"></a><a href="#1622">1622</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1623"></a><a href="#1623">1623</a></div></td><td class="codeLine">        if ($this-&gt;places) {</td></tr>
     <tr><td><div align="right"><a name="1624"></a><a href="#1624">1624</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1625"></a><a href="#1625">1625</a></div></td><td class="codeLine">            $placesLocationSet = false;</td></tr>
     <tr><td><div align="right"><a name="1626"></a><a href="#1626">1626</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1627"></a><a href="#1627">1627</a></div></td><td class="codeLine">            if ($this-&gt;placesLocationSW!=&quot;&quot; &amp;&amp; $this-&gt;placesLocationNE!=&quot;&quot;) { // if search based on bounds</td></tr>
     <tr><td><div align="right"><a name="1628"></a><a href="#1628">1628</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1629"></a><a href="#1629">1629</a></div></td><td class="codeLine">                $placesLocationSet = true;</td></tr>
     <tr><td><div align="right"><a name="1630"></a><a href="#1630">1630</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1631"></a><a href="#1631">1631</a></div></td><td class="codeLine">                if ($this-&gt;is_lat_long($this-&gt;placesLocationSW)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1632"></a><a href="#1632">1632</a></div></td><td class="codeLine">                    $this-&gt;output_js_contents .= 'var placesLocationSW = new google.maps.LatLng('.$this-&gt;placesLocationSW.');</td></tr>
     <tr class="danger"><td><div align="right"><a name="1633"></a><a href="#1633">1633</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1634"></a><a href="#1634">1634</a></div></td><td class="codeLine">                }else{  // if centering the map on an address</td></tr>
     <tr class="danger"><td><div align="right"><a name="1635"></a><a href="#1635">1635</a></div></td><td class="codeLine">                    $lat_long = $this-&gt;get_lat_long_from_address($this-&gt;placesLocationSW);</td></tr>
     <tr class="danger"><td><div align="right"><a name="1636"></a><a href="#1636">1636</a></div></td><td class="codeLine">                    $this-&gt;output_js_contents .= 'var placesLocationSW = new google.maps.LatLng('.$lat_long[0].', '.$lat_long[1].');</td></tr>
     <tr class="danger"><td><div align="right"><a name="1637"></a><a href="#1637">1637</a></div></td><td class="codeLine">            ';</td></tr>
     <tr><td><div align="right"><a name="1638"></a><a href="#1638">1638</a></div></td><td class="codeLine">                }</td></tr>
     <tr><td><div align="right"><a name="1639"></a><a href="#1639">1639</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1640"></a><a href="#1640">1640</a></div></td><td class="codeLine">                if ($this-&gt;is_lat_long($this-&gt;placesLocationNE)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1641"></a><a href="#1641">1641</a></div></td><td class="codeLine">                    $this-&gt;output_js_contents .= 'var placesLocationNE = new google.maps.LatLng('.$this-&gt;placesLocationNE.');</td></tr>
     <tr class="danger"><td><div align="right"><a name="1642"></a><a href="#1642">1642</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1643"></a><a href="#1643">1643</a></div></td><td class="codeLine">                }else{  // if centering the map on an address</td></tr>
     <tr class="danger"><td><div align="right"><a name="1644"></a><a href="#1644">1644</a></div></td><td class="codeLine">                    $lat_long = $this-&gt;get_lat_long_from_address($this-&gt;placesLocationNE);</td></tr>
     <tr class="danger"><td><div align="right"><a name="1645"></a><a href="#1645">1645</a></div></td><td class="codeLine">                    $this-&gt;output_js_contents .= 'var placesLocationNE = new google.maps.LatLng('.$lat_long[0].', '.$lat_long[1].');</td></tr>
     <tr class="danger"><td><div align="right"><a name="1646"></a><a href="#1646">1646</a></div></td><td class="codeLine">            ';</td></tr>
     <tr><td><div align="right"><a name="1647"></a><a href="#1647">1647</a></div></td><td class="codeLine">                }</td></tr>
     <tr><td><div align="right"><a name="1648"></a><a href="#1648">1648</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1649"></a><a href="#1649">1649</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="1650"></a><a href="#1650">1650</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1651"></a><a href="#1651">1651</a></div></td><td class="codeLine">            if (($placesLocationSet || $this-&gt;placesLocation!=&quot;&quot;) || count($this-&gt;placesTypes) || $this-&gt;placesName!=&quot;&quot;)</td></tr>
     <tr class="danger"><td><div align="right"><a name="1652"></a><a href="#1652">1652</a></div></td><td class="codeLine">            {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1653"></a><a href="#1653">1653</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= 'var placesRequest = {</td></tr>
     <tr><td><div align="right"><a name="1654"></a><a href="#1654">1654</a></div></td><td class="codeLine">                    ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1655"></a><a href="#1655">1655</a></div></td><td class="codeLine">                if ($placesLocationSet) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1656"></a><a href="#1656">1656</a></div></td><td class="codeLine">                    $this-&gt;output_js_contents .= 'bounds: new google.maps.LatLngBounds(placesLocationSW, placesLocationNE)</td></tr>
     <tr><td><div align="right"><a name="1657"></a><a href="#1657">1657</a></div></td><td class="codeLine">                        ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1658"></a><a href="#1658">1658</a></div></td><td class="codeLine">                }else{</td></tr>
     <tr class="danger"><td><div align="right"><a name="1659"></a><a href="#1659">1659</a></div></td><td class="codeLine">                    if ($this-&gt;placesLocation!=&quot;&quot;) { // if search based on a center point</td></tr>
     <tr class="danger"><td><div align="right"><a name="1660"></a><a href="#1660">1660</a></div></td><td class="codeLine">                        if ($this-&gt;is_lat_long($this-&gt;placesLocation)) { // if centering the map on a lat/long</td></tr>
     <tr class="danger"><td><div align="right"><a name="1661"></a><a href="#1661">1661</a></div></td><td class="codeLine">                            $this-&gt;output_js_contents .= 'location: new google.maps.LatLng('.$this-&gt;placesLocation.')</td></tr>
     <tr class="danger"><td><div align="right"><a name="1662"></a><a href="#1662">1662</a></div></td><td class="codeLine">                        ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1663"></a><a href="#1663">1663</a></div></td><td class="codeLine">                        }else{  // if centering the map on an address</td></tr>
     <tr class="danger"><td><div align="right"><a name="1664"></a><a href="#1664">1664</a></div></td><td class="codeLine">                            $lat_long = $this-&gt;get_lat_long_from_address($this-&gt;placesLocation);</td></tr>
     <tr class="danger"><td><div align="right"><a name="1665"></a><a href="#1665">1665</a></div></td><td class="codeLine">                            $this-&gt;output_js_contents .= 'location: new google.maps.LatLng('.$lat_long[0].', '.$lat_long[1].')</td></tr>
     <tr class="danger"><td><div align="right"><a name="1666"></a><a href="#1666">1666</a></div></td><td class="codeLine">                        ';</td></tr>
     <tr><td><div align="right"><a name="1667"></a><a href="#1667">1667</a></div></td><td class="codeLine">                        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1668"></a><a href="#1668">1668</a></div></td><td class="codeLine">                        $this-&gt;output_js_contents .= ',radius: '.$this-&gt;placesRadius.'</td></tr>
     <tr class="danger"><td><div align="right"><a name="1669"></a><a href="#1669">1669</a></div></td><td class="codeLine">                        ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1670"></a><a href="#1670">1670</a></div></td><td class="codeLine">                    }</td></tr>
     <tr><td><div align="right"><a name="1671"></a><a href="#1671">1671</a></div></td><td class="codeLine">                }</td></tr>
     <tr><td><div align="right"><a name="1672"></a><a href="#1672">1672</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1673"></a><a href="#1673">1673</a></div></td><td class="codeLine">                if (count($this-&gt;placesTypes)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1674"></a><a href="#1674">1674</a></div></td><td class="codeLine">                    $this-&gt;output_js_contents .= ',types: [\''.implode(&quot;','&quot;, $this-&gt;placesTypes).'\']</td></tr>
     <tr class="danger"><td><div align="right"><a name="1675"></a><a href="#1675">1675</a></div></td><td class="codeLine">                        ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1676"></a><a href="#1676">1676</a></div></td><td class="codeLine">                }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1677"></a><a href="#1677">1677</a></div></td><td class="codeLine">                if ($this-&gt;placesName!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1678"></a><a href="#1678">1678</a></div></td><td class="codeLine">                    $this-&gt;output_js_contents .= ',name : \''.$this-&gt;placesName.'\'</td></tr>
     <tr class="danger"><td><div align="right"><a name="1679"></a><a href="#1679">1679</a></div></td><td class="codeLine">                        ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1680"></a><a href="#1680">1680</a></div></td><td class="codeLine">                }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1681"></a><a href="#1681">1681</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= '};</td></tr>
     <tr><td><div align="right"><a name="1682"></a><a href="#1682">1682</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1683"></a><a href="#1683">1683</a></div></td><td class="codeLine">                placesService = new google.maps.places.PlacesService('.$this-&gt;map_name.');</td></tr>
     <tr><td><div align="right"><a name="1684"></a><a href="#1684">1684</a></div></td><td class="codeLine">                placesService.search(placesRequest, placesCallback);</td></tr>
     <tr class="danger"><td><div align="right"><a name="1685"></a><a href="#1685">1685</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1686"></a><a href="#1686">1686</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="1687"></a><a href="#1687">1687</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1688"></a><a href="#1688">1688</a></div></td><td class="codeLine">            if ($this-&gt;placesAutocompleteInputID != &quot;&quot;)</td></tr>
     <tr class="danger"><td><div align="right"><a name="1689"></a><a href="#1689">1689</a></div></td><td class="codeLine">            {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1690"></a><a href="#1690">1690</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= 'var autocompleteOptions = {</td></tr>
     <tr><td><div align="right"><a name="1691"></a><a href="#1691">1691</a></div></td><td class="codeLine">                    ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1692"></a><a href="#1692">1692</a></div></td><td class="codeLine">                $autocompleteOptions = '';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1693"></a><a href="#1693">1693</a></div></td><td class="codeLine">                if ($this-&gt;placesAutocompleteBoundSW != &quot;&quot; &amp;&amp; $this-&gt;placesAutocompleteBoundNE != &quot;&quot;)</td></tr>
     <tr class="danger"><td><div align="right"><a name="1694"></a><a href="#1694">1694</a></div></td><td class="codeLine">                {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1695"></a><a href="#1695">1695</a></div></td><td class="codeLine">                    if ($this-&gt;is_lat_long($this-&gt;placesAutocompleteBoundSW)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1696"></a><a href="#1696">1696</a></div></td><td class="codeLine">                        $autocompleteOptionsSW = 'new google.maps.LatLng('.$this-&gt;placesAutocompleteBoundSW.')</td></tr>
     <tr class="danger"><td><div align="right"><a name="1697"></a><a href="#1697">1697</a></div></td><td class="codeLine">                    ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1698"></a><a href="#1698">1698</a></div></td><td class="codeLine">                    }else{  // if centering the map on an address</td></tr>
     <tr class="danger"><td><div align="right"><a name="1699"></a><a href="#1699">1699</a></div></td><td class="codeLine">                        $lat_long = $this-&gt;get_lat_long_from_address($this-&gt;placesAutocompleteBoundSW);</td></tr>
     <tr class="danger"><td><div align="right"><a name="1700"></a><a href="#1700">1700</a></div></td><td class="codeLine">                        $autocompleteOptionsSW = 'new google.maps.LatLng('.$lat_long[0].', '.$lat_long[1].')</td></tr>
     <tr class="danger"><td><div align="right"><a name="1701"></a><a href="#1701">1701</a></div></td><td class="codeLine">                    ';</td></tr>
     <tr><td><div align="right"><a name="1702"></a><a href="#1702">1702</a></div></td><td class="codeLine">                    }</td></tr>
     <tr><td><div align="right"><a name="1703"></a><a href="#1703">1703</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1704"></a><a href="#1704">1704</a></div></td><td class="codeLine">                    if ($this-&gt;is_lat_long($this-&gt;placesAutocompleteBoundNE)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1705"></a><a href="#1705">1705</a></div></td><td class="codeLine">                        $autocompleteOptionsNE = 'new google.maps.LatLng('.$this-&gt;placesAutocompleteBoundNE.')</td></tr>
     <tr class="danger"><td><div align="right"><a name="1706"></a><a href="#1706">1706</a></div></td><td class="codeLine">                    ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1707"></a><a href="#1707">1707</a></div></td><td class="codeLine">                    }else{  // if centering the map on an address</td></tr>
     <tr class="danger"><td><div align="right"><a name="1708"></a><a href="#1708">1708</a></div></td><td class="codeLine">                        $lat_long = $this-&gt;get_lat_long_from_address($this-&gt;placesAutocompleteBoundNE);</td></tr>
     <tr class="danger"><td><div align="right"><a name="1709"></a><a href="#1709">1709</a></div></td><td class="codeLine">                        $autocompleteOptionsNE = 'new google.maps.LatLng('.$lat_long[0].', '.$lat_long[1].')</td></tr>
     <tr class="danger"><td><div align="right"><a name="1710"></a><a href="#1710">1710</a></div></td><td class="codeLine">                    ';</td></tr>
     <tr><td><div align="right"><a name="1711"></a><a href="#1711">1711</a></div></td><td class="codeLine">                    }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1712"></a><a href="#1712">1712</a></div></td><td class="codeLine">                    $autocompleteOptions .= 'bounds: new google.maps.LatLngBounds('.$autocompleteOptionsSW.', '.$autocompleteOptionsNE.')';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1713"></a><a href="#1713">1713</a></div></td><td class="codeLine">                }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1714"></a><a href="#1714">1714</a></div></td><td class="codeLine">                if (count($this-&gt;placesAutocompleteTypes))</td></tr>
     <tr class="danger"><td><div align="right"><a name="1715"></a><a href="#1715">1715</a></div></td><td class="codeLine">                {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1716"></a><a href="#1716">1716</a></div></td><td class="codeLine">                    if ($autocompleteOptions != &quot;&quot;)</td></tr>
     <tr class="danger"><td><div align="right"><a name="1717"></a><a href="#1717">1717</a></div></td><td class="codeLine">                    {</td></tr>
     <tr><td><div align="right"><a name="1718"></a><a href="#1718">1718</a></div></td><td class="codeLine">                         $autocompleteOptions .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1719"></a><a href="#1719">1719</a></div></td><td class="codeLine">                         ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1720"></a><a href="#1720">1720</a></div></td><td class="codeLine">                    }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1721"></a><a href="#1721">1721</a></div></td><td class="codeLine">                    $autocompleteOptions .= 'types: [\''.implode(&quot;','&quot;, $this-&gt;placesAutocompleteTypes).'\']';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1722"></a><a href="#1722">1722</a></div></td><td class="codeLine">                }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1723"></a><a href="#1723">1723</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= $autocompleteOptions;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1724"></a><a href="#1724">1724</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= '}';</td></tr>
     <tr><td><div align="right"><a name="1725"></a><a href="#1725">1725</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1726"></a><a href="#1726">1726</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1727"></a><a href="#1727">1727</a></div></td><td class="codeLine">                var autocompleteInput = document.getElementById(\''.$this-&gt;placesAutocompleteInputID.'\');</td></tr>
     <tr><td><div align="right"><a name="1728"></a><a href="#1728">1728</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="1729"></a><a href="#1729">1729</a></div></td><td class="codeLine">                placesAutocomplete = new google.maps.places.Autocomplete(autocompleteInput, autocompleteOptions);</td></tr>
     <tr class="danger"><td><div align="right"><a name="1730"></a><a href="#1730">1730</a></div></td><td class="codeLine">                ';</td></tr>
     <tr><td><div align="right"><a name="1731"></a><a href="#1731">1731</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1732"></a><a href="#1732">1732</a></div></td><td class="codeLine">                if ($this-&gt;placesAutocompleteBoundsMap)</td></tr>
     <tr class="danger"><td><div align="right"><a name="1733"></a><a href="#1733">1733</a></div></td><td class="codeLine">                {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1734"></a><a href="#1734">1734</a></div></td><td class="codeLine">                    $this-&gt;output_js_contents .= 'placesAutocomplete.bindTo(\'bounds\', map);</td></tr>
     <tr><td><div align="right"><a name="1735"></a><a href="#1735">1735</a></div></td><td class="codeLine">                    ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1736"></a><a href="#1736">1736</a></div></td><td class="codeLine">                }</td></tr>
     <tr><td><div align="right"><a name="1737"></a><a href="#1737">1737</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1738"></a><a href="#1738">1738</a></div></td><td class="codeLine">                if ($this-&gt;placesAutocompleteOnChange != &quot;&quot;)</td></tr>
     <tr class="danger"><td><div align="right"><a name="1739"></a><a href="#1739">1739</a></div></td><td class="codeLine">                {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1740"></a><a href="#1740">1740</a></div></td><td class="codeLine">                    $this-&gt;output_js_contents .= 'google.maps.event.addListener(placesAutocomplete, \'place_changed\', function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1741"></a><a href="#1741">1741</a></div></td><td class="codeLine">                        '.$this-&gt;placesAutocompleteOnChange.'</td></tr>
     <tr><td><div align="right"><a name="1742"></a><a href="#1742">1742</a></div></td><td class="codeLine">                    });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1743"></a><a href="#1743">1743</a></div></td><td class="codeLine">                    ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1744"></a><a href="#1744">1744</a></div></td><td class="codeLine">                }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1745"></a><a href="#1745">1745</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="1746"></a><a href="#1746">1746</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1747"></a><a href="#1747">1747</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1748"></a><a href="#1748">1748</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1749"></a><a href="#1749">1749</a></div></td><td class="codeLine">        if ($this-&gt;onboundschanged!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1750"></a><a href="#1750">1750</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'google.maps.event.addListener('.$this-&gt;map_name.', &quot;bounds_changed&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1751"></a><a href="#1751">1751</a></div></td><td class="codeLine">                '.$this-&gt;onboundschanged.'</td></tr>
     <tr><td><div align="right"><a name="1752"></a><a href="#1752">1752</a></div></td><td class="codeLine">              });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1753"></a><a href="#1753">1753</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1754"></a><a href="#1754">1754</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1755"></a><a href="#1755">1755</a></div></td><td class="codeLine">        if ($this-&gt;oncenterchanged!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1756"></a><a href="#1756">1756</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'google.maps.event.addListener('.$this-&gt;map_name.', &quot;center_changed&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1757"></a><a href="#1757">1757</a></div></td><td class="codeLine">                '.$this-&gt;oncenterchanged.'</td></tr>
     <tr><td><div align="right"><a name="1758"></a><a href="#1758">1758</a></div></td><td class="codeLine">              });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1759"></a><a href="#1759">1759</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1760"></a><a href="#1760">1760</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1761"></a><a href="#1761">1761</a></div></td><td class="codeLine">        if ($this-&gt;onclick!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1762"></a><a href="#1762">1762</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'google.maps.event.addListener('.$this-&gt;map_name.', &quot;click&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1763"></a><a href="#1763">1763</a></div></td><td class="codeLine">                '.$this-&gt;onclick.'</td></tr>
     <tr><td><div align="right"><a name="1764"></a><a href="#1764">1764</a></div></td><td class="codeLine">              });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1765"></a><a href="#1765">1765</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1766"></a><a href="#1766">1766</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1767"></a><a href="#1767">1767</a></div></td><td class="codeLine">        if ($this-&gt;ondblclick!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1768"></a><a href="#1768">1768</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'google.maps.event.addListener('.$this-&gt;map_name.', &quot;dblclick&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1769"></a><a href="#1769">1769</a></div></td><td class="codeLine">                '.$this-&gt;ondblclick.'</td></tr>
     <tr><td><div align="right"><a name="1770"></a><a href="#1770">1770</a></div></td><td class="codeLine">              });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1771"></a><a href="#1771">1771</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1772"></a><a href="#1772">1772</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1773"></a><a href="#1773">1773</a></div></td><td class="codeLine">        if ($this-&gt;ondrag!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1774"></a><a href="#1774">1774</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'google.maps.event.addListener('.$this-&gt;map_name.', &quot;drag&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1775"></a><a href="#1775">1775</a></div></td><td class="codeLine">                '.$this-&gt;ondrag.'</td></tr>
     <tr><td><div align="right"><a name="1776"></a><a href="#1776">1776</a></div></td><td class="codeLine">              });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1777"></a><a href="#1777">1777</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1778"></a><a href="#1778">1778</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1779"></a><a href="#1779">1779</a></div></td><td class="codeLine">        if ($this-&gt;ondragend!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1780"></a><a href="#1780">1780</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'google.maps.event.addListener('.$this-&gt;map_name.', &quot;dragend&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1781"></a><a href="#1781">1781</a></div></td><td class="codeLine">                '.$this-&gt;ondragend.'</td></tr>
     <tr><td><div align="right"><a name="1782"></a><a href="#1782">1782</a></div></td><td class="codeLine">              });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1783"></a><a href="#1783">1783</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1784"></a><a href="#1784">1784</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1785"></a><a href="#1785">1785</a></div></td><td class="codeLine">        if ($this-&gt;ondragstart!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1786"></a><a href="#1786">1786</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'google.maps.event.addListener('.$this-&gt;map_name.', &quot;dragstart&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1787"></a><a href="#1787">1787</a></div></td><td class="codeLine">                '.$this-&gt;ondragstart.'</td></tr>
     <tr><td><div align="right"><a name="1788"></a><a href="#1788">1788</a></div></td><td class="codeLine">              });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1789"></a><a href="#1789">1789</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1790"></a><a href="#1790">1790</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1791"></a><a href="#1791">1791</a></div></td><td class="codeLine">        if ($this-&gt;onidle!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1792"></a><a href="#1792">1792</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'google.maps.event.addListener('.$this-&gt;map_name.', &quot;idle&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1793"></a><a href="#1793">1793</a></div></td><td class="codeLine">                '.$this-&gt;onidle.'</td></tr>
     <tr><td><div align="right"><a name="1794"></a><a href="#1794">1794</a></div></td><td class="codeLine">              });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1795"></a><a href="#1795">1795</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1796"></a><a href="#1796">1796</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1797"></a><a href="#1797">1797</a></div></td><td class="codeLine">        if ($this-&gt;onmousemove!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1798"></a><a href="#1798">1798</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'google.maps.event.addListener('.$this-&gt;map_name.', &quot;mousemove&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1799"></a><a href="#1799">1799</a></div></td><td class="codeLine">                '.$this-&gt;onmousemove.'</td></tr>
     <tr><td><div align="right"><a name="1800"></a><a href="#1800">1800</a></div></td><td class="codeLine">              });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1801"></a><a href="#1801">1801</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1802"></a><a href="#1802">1802</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1803"></a><a href="#1803">1803</a></div></td><td class="codeLine">        if ($this-&gt;onmouseout!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1804"></a><a href="#1804">1804</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'google.maps.event.addListener('.$this-&gt;map_name.', &quot;mouseout&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1805"></a><a href="#1805">1805</a></div></td><td class="codeLine">                '.$this-&gt;onmouseout.'</td></tr>
     <tr><td><div align="right"><a name="1806"></a><a href="#1806">1806</a></div></td><td class="codeLine">              });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1807"></a><a href="#1807">1807</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1808"></a><a href="#1808">1808</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1809"></a><a href="#1809">1809</a></div></td><td class="codeLine">        if ($this-&gt;onmouseover!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1810"></a><a href="#1810">1810</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'google.maps.event.addListener('.$this-&gt;map_name.', &quot;mouseover&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1811"></a><a href="#1811">1811</a></div></td><td class="codeLine">                '.$this-&gt;onmouseover.'</td></tr>
     <tr><td><div align="right"><a name="1812"></a><a href="#1812">1812</a></div></td><td class="codeLine">              });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1813"></a><a href="#1813">1813</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1814"></a><a href="#1814">1814</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1815"></a><a href="#1815">1815</a></div></td><td class="codeLine">        if ($this-&gt;onresize!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1816"></a><a href="#1816">1816</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'google.maps.event.addListener('.$this-&gt;map_name.', &quot;resize&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1817"></a><a href="#1817">1817</a></div></td><td class="codeLine">                '.$this-&gt;onresize.'</td></tr>
     <tr><td><div align="right"><a name="1818"></a><a href="#1818">1818</a></div></td><td class="codeLine">              });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1819"></a><a href="#1819">1819</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1820"></a><a href="#1820">1820</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1821"></a><a href="#1821">1821</a></div></td><td class="codeLine">        if ($this-&gt;onrightclick!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1822"></a><a href="#1822">1822</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'google.maps.event.addListener('.$this-&gt;map_name.', &quot;rightclick&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1823"></a><a href="#1823">1823</a></div></td><td class="codeLine">                '.$this-&gt;onrightclick.'</td></tr>
     <tr><td><div align="right"><a name="1824"></a><a href="#1824">1824</a></div></td><td class="codeLine">              });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1825"></a><a href="#1825">1825</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1826"></a><a href="#1826">1826</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1827"></a><a href="#1827">1827</a></div></td><td class="codeLine">        if ($this-&gt;ontilesloaded!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1828"></a><a href="#1828">1828</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'google.maps.event.addListener('.$this-&gt;map_name.', &quot;tilesloaded&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1829"></a><a href="#1829">1829</a></div></td><td class="codeLine">                '.$this-&gt;ontilesloaded.'</td></tr>
     <tr><td><div align="right"><a name="1830"></a><a href="#1830">1830</a></div></td><td class="codeLine">              });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1831"></a><a href="#1831">1831</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1832"></a><a href="#1832">1832</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1833"></a><a href="#1833">1833</a></div></td><td class="codeLine">        if ($this-&gt;onzoomchanged!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1834"></a><a href="#1834">1834</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'google.maps.event.addListener('.$this-&gt;map_name.', &quot;zoom_changed&quot;, function(event) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1835"></a><a href="#1835">1835</a></div></td><td class="codeLine">                '.$this-&gt;onzoomchanged.'</td></tr>
     <tr><td><div align="right"><a name="1836"></a><a href="#1836">1836</a></div></td><td class="codeLine">              });</td></tr>
     <tr class="danger"><td><div align="right"><a name="1837"></a><a href="#1837">1837</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1838"></a><a href="#1838">1838</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1839"></a><a href="#1839">1839</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="1840"></a><a href="#1840">1840</a></div></td><td class="codeLine">        // add markers</td></tr>
     <tr class="danger"><td><div align="right"><a name="1841"></a><a href="#1841">1841</a></div></td><td class="codeLine">        if (count($this-&gt;markers)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1842"></a><a href="#1842">1842</a></div></td><td class="codeLine">            foreach ($this-&gt;markers as $marker) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1843"></a><a href="#1843">1843</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= $marker;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1844"></a><a href="#1844">1844</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1845"></a><a href="#1845">1845</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1846"></a><a href="#1846">1846</a></div></td><td class="codeLine">        //</td></tr>
     <tr><td><div align="right"><a name="1847"></a><a href="#1847">1847</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1848"></a><a href="#1848">1848</a></div></td><td class="codeLine">        if ($this-&gt;cluster) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1849"></a><a href="#1849">1849</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= '</td></tr>
     <tr><td><div align="right"><a name="1850"></a><a href="#1850">1850</a></div></td><td class="codeLine">            var clusterOptions = {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1851"></a><a href="#1851">1851</a></div></td><td class="codeLine">                gridSize: '.$this-&gt;clusterGridSize;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1852"></a><a href="#1852">1852</a></div></td><td class="codeLine">            if ($this-&gt;clusterMaxZoom!=&quot;&quot;) { $this-&gt;output_js_contents .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1853"></a><a href="#1853">1853</a></div></td><td class="codeLine">                maxZoom: '.$this-&gt;clusterMaxZoom; }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1854"></a><a href="#1854">1854</a></div></td><td class="codeLine">            if (!$this-&gt;clusterZoomOnClick) { $this-&gt;output_js_contents .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1855"></a><a href="#1855">1855</a></div></td><td class="codeLine">                zoomOnClick: false'; }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1856"></a><a href="#1856">1856</a></div></td><td class="codeLine">            if ($this-&gt;clusterAverageCenter) { $this-&gt;output_js_contents .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1857"></a><a href="#1857">1857</a></div></td><td class="codeLine">                averageCenter: true'; }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1858"></a><a href="#1858">1858</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= ',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1859"></a><a href="#1859">1859</a></div></td><td class="codeLine">                minimumClusterSize: '.$this-&gt;clusterMinimumClusterSize.'</td></tr>
     <tr><td><div align="right"><a name="1860"></a><a href="#1860">1860</a></div></td><td class="codeLine">            };</td></tr>
     <tr class="danger"><td><div align="right"><a name="1861"></a><a href="#1861">1861</a></div></td><td class="codeLine">            markerCluster = new MarkerClusterer('.$this-&gt;map_name.', markers_'.$this-&gt;map_name.', clusterOptions);</td></tr>
     <tr class="danger"><td><div align="right"><a name="1862"></a><a href="#1862">1862</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1863"></a><a href="#1863">1863</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1864"></a><a href="#1864">1864</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="1865"></a><a href="#1865">1865</a></div></td><td class="codeLine">        // add polylines</td></tr>
     <tr class="danger"><td><div align="right"><a name="1866"></a><a href="#1866">1866</a></div></td><td class="codeLine">        if (count($this-&gt;polylines)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1867"></a><a href="#1867">1867</a></div></td><td class="codeLine">            foreach ($this-&gt;polylines as $polyline) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1868"></a><a href="#1868">1868</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= $polyline;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1869"></a><a href="#1869">1869</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1870"></a><a href="#1870">1870</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1871"></a><a href="#1871">1871</a></div></td><td class="codeLine">        //</td></tr>
     <tr><td><div align="right"><a name="1872"></a><a href="#1872">1872</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="1873"></a><a href="#1873">1873</a></div></td><td class="codeLine">        // add polygons</td></tr>
     <tr class="danger"><td><div align="right"><a name="1874"></a><a href="#1874">1874</a></div></td><td class="codeLine">        if (count($this-&gt;polygons)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1875"></a><a href="#1875">1875</a></div></td><td class="codeLine">            foreach ($this-&gt;polygons as $polygon) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1876"></a><a href="#1876">1876</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= $polygon;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1877"></a><a href="#1877">1877</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1878"></a><a href="#1878">1878</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1879"></a><a href="#1879">1879</a></div></td><td class="codeLine">        //</td></tr>
     <tr><td><div align="right"><a name="1880"></a><a href="#1880">1880</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="1881"></a><a href="#1881">1881</a></div></td><td class="codeLine">        // add circles</td></tr>
     <tr class="danger"><td><div align="right"><a name="1882"></a><a href="#1882">1882</a></div></td><td class="codeLine">        if (count($this-&gt;circles)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1883"></a><a href="#1883">1883</a></div></td><td class="codeLine">            foreach ($this-&gt;circles as $circle) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1884"></a><a href="#1884">1884</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= $circle;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1885"></a><a href="#1885">1885</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1886"></a><a href="#1886">1886</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1887"></a><a href="#1887">1887</a></div></td><td class="codeLine">        //</td></tr>
     <tr><td><div align="right"><a name="1888"></a><a href="#1888">1888</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="1889"></a><a href="#1889">1889</a></div></td><td class="codeLine">        // add rectangles</td></tr>
     <tr class="danger"><td><div align="right"><a name="1890"></a><a href="#1890">1890</a></div></td><td class="codeLine">        if (count($this-&gt;rectangles)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1891"></a><a href="#1891">1891</a></div></td><td class="codeLine">            foreach ($this-&gt;rectangles as $rectangle) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1892"></a><a href="#1892">1892</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= $rectangle;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1893"></a><a href="#1893">1893</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1894"></a><a href="#1894">1894</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1895"></a><a href="#1895">1895</a></div></td><td class="codeLine">        //</td></tr>
     <tr><td><div align="right"><a name="1896"></a><a href="#1896">1896</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="1897"></a><a href="#1897">1897</a></div></td><td class="codeLine">        // add ground overlays</td></tr>
     <tr class="danger"><td><div align="right"><a name="1898"></a><a href="#1898">1898</a></div></td><td class="codeLine">        if (count($this-&gt;overlays)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1899"></a><a href="#1899">1899</a></div></td><td class="codeLine">            foreach ($this-&gt;overlays as $overlay) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1900"></a><a href="#1900">1900</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= $overlay;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1901"></a><a href="#1901">1901</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1902"></a><a href="#1902">1902</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1903"></a><a href="#1903">1903</a></div></td><td class="codeLine">        //</td></tr>
     <tr><td><div align="right"><a name="1904"></a><a href="#1904">1904</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1905"></a><a href="#1905">1905</a></div></td><td class="codeLine">        if ($this-&gt;zoom==&quot;auto&quot;) {</td></tr>
     <tr><td><div align="right"><a name="1906"></a><a href="#1906">1906</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1907"></a><a href="#1907">1907</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1908"></a><a href="#1908">1908</a></div></td><td class="codeLine">            fitMapToBounds_'.$this-&gt;map_name.'();</td></tr>
     <tr class="danger"><td><div align="right"><a name="1909"></a><a href="#1909">1909</a></div></td><td class="codeLine">            ';</td></tr>
     <tr><td><div align="right"><a name="1910"></a><a href="#1910">1910</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1911"></a><a href="#1911">1911</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1912"></a><a href="#1912">1912</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1913"></a><a href="#1913">1913</a></div></td><td class="codeLine">        if ($this-&gt;adsense) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1914"></a><a href="#1914">1914</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= '</td></tr>
     <tr><td><div align="right"><a name="1915"></a><a href="#1915">1915</a></div></td><td class="codeLine">            var adUnitDiv = document.createElement(&quot;div&quot;);</td></tr>
     <tr><td><div align="right"><a name="1916"></a><a href="#1916">1916</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="1917"></a><a href="#1917">1917</a></div></td><td class="codeLine">            // Note: replace the publisher ID noted here with your own</td></tr>
     <tr><td><div align="right"><a name="1918"></a><a href="#1918">1918</a></div></td><td class="codeLine">            // publisher ID.</td></tr>
     <tr><td><div align="right"><a name="1919"></a><a href="#1919">1919</a></div></td><td class="codeLine">            var adUnitOptions = {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1920"></a><a href="#1920">1920</a></div></td><td class="codeLine">                format: google.maps.adsense.AdFormat.'.$this-&gt;adsenseFormat.',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1921"></a><a href="#1921">1921</a></div></td><td class="codeLine">                position: google.maps.ControlPosition.'.$this-&gt;adsensePosition.',</td></tr>
     <tr class="danger"><td><div align="right"><a name="1922"></a><a href="#1922">1922</a></div></td><td class="codeLine">                publisherId: &quot;'.$this-&gt;adsensePublisherID.'&quot;,</td></tr>
     <tr class="danger"><td><div align="right"><a name="1923"></a><a href="#1923">1923</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1924"></a><a href="#1924">1924</a></div></td><td class="codeLine">            if ($this-&gt;adsenseChannelNumber!=&quot;&quot;) { $this-&gt;output_js_contents .= 'channelNumber: &quot;'.$this-&gt;adsenseChannelNumber.'&quot;,</td></tr>
     <tr class="danger"><td><div align="right"><a name="1925"></a><a href="#1925">1925</a></div></td><td class="codeLine">                '; }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1926"></a><a href="#1926">1926</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'map: '.$this-&gt;map_name.',</td></tr>
     <tr><td><div align="right"><a name="1927"></a><a href="#1927">1927</a></div></td><td class="codeLine">                visible: true</td></tr>
     <tr><td><div align="right"><a name="1928"></a><a href="#1928">1928</a></div></td><td class="codeLine">            };</td></tr>
     <tr><td><div align="right"><a name="1929"></a><a href="#1929">1929</a></div></td><td class="codeLine">            adUnit = new google.maps.adsense.AdUnit(adUnitDiv, adUnitOptions);</td></tr>
     <tr class="danger"><td><div align="right"><a name="1930"></a><a href="#1930">1930</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1931"></a><a href="#1931">1931</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1932"></a><a href="#1932">1932</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1933"></a><a href="#1933">1933</a></div></td><td class="codeLine">        if ($this-&gt;directions &amp;&amp; $this-&gt;directionsStart!=&quot;&quot; &amp;&amp; $this-&gt;directionsEnd!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1934"></a><a href="#1934">1934</a></div></td><td class="codeLine">            if ($this-&gt;directionsStart==&quot;auto&quot; &amp;&amp; $this-&gt;directionsEnd==&quot;auto&quot;) {</td></tr>
     <tr><td><div align="right"><a name="1935"></a><a href="#1935">1935</a></div></td><td class="codeLine">                // Both start and finish are at the users current location</td></tr>
     <tr class="danger"><td><div align="right"><a name="1936"></a><a href="#1936">1936</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= '</td></tr>
     <tr><td><div align="right"><a name="1937"></a><a href="#1937">1937</a></div></td><td class="codeLine">                // Try W3C Geolocation (Preferred)</td></tr>
     <tr><td><div align="right"><a name="1938"></a><a href="#1938">1938</a></div></td><td class="codeLine">                if(navigator.geolocation) {</td></tr>
     <tr><td><div align="right"><a name="1939"></a><a href="#1939">1939</a></div></td><td class="codeLine">                    navigator.geolocation.getCurrentPosition(function(position) {</td></tr>
     <tr><td><div align="right"><a name="1940"></a><a href="#1940">1940</a></div></td><td class="codeLine">                        start = position.coords.latitude+&quot;,&quot;+position.coords.longitude;</td></tr>
     <tr><td><div align="right"><a name="1941"></a><a href="#1941">1941</a></div></td><td class="codeLine">                        calcRoute(start, start);</td></tr>
     <tr><td><div align="right"><a name="1942"></a><a href="#1942">1942</a></div></td><td class="codeLine">                    }, function() { alert(&quot;Unable to get your current position. Please try again. Geolocation service failed.&quot;); });</td></tr>
     <tr><td><div align="right"><a name="1943"></a><a href="#1943">1943</a></div></td><td class="codeLine">                // Browser doesn\'t support Geolocation</td></tr>
     <tr><td><div align="right"><a name="1944"></a><a href="#1944">1944</a></div></td><td class="codeLine">                }else{</td></tr>
     <tr><td><div align="right"><a name="1945"></a><a href="#1945">1945</a></div></td><td class="codeLine">                    alert(\'Your browser does not support geolocation.\');</td></tr>
     <tr><td><div align="right"><a name="1946"></a><a href="#1946">1946</a></div></td><td class="codeLine">                }</td></tr>
     <tr><td><div align="right"><a name="1947"></a><a href="#1947">1947</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1948"></a><a href="#1948">1948</a></div></td><td class="codeLine">            }else if ($this-&gt;directionsStart==&quot;auto&quot;) {</td></tr>
     <tr><td><div align="right"><a name="1949"></a><a href="#1949">1949</a></div></td><td class="codeLine">                // The start point should be at the users current location</td></tr>
     <tr class="danger"><td><div align="right"><a name="1950"></a><a href="#1950">1950</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= '</td></tr>
     <tr><td><div align="right"><a name="1951"></a><a href="#1951">1951</a></div></td><td class="codeLine">                // Try W3C Geolocation (Preferred)</td></tr>
     <tr><td><div align="right"><a name="1952"></a><a href="#1952">1952</a></div></td><td class="codeLine">                if(navigator.geolocation) {</td></tr>
     <tr><td><div align="right"><a name="1953"></a><a href="#1953">1953</a></div></td><td class="codeLine">                    navigator.geolocation.getCurrentPosition(function(position) {</td></tr>
     <tr><td><div align="right"><a name="1954"></a><a href="#1954">1954</a></div></td><td class="codeLine">                        start = position.coords.latitude+&quot;,&quot;+position.coords.longitude;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1955"></a><a href="#1955">1955</a></div></td><td class="codeLine">                        calcRoute(start, \''.$this-&gt;directionsEnd.'\');</td></tr>
     <tr><td><div align="right"><a name="1956"></a><a href="#1956">1956</a></div></td><td class="codeLine">                    }, function() { alert(&quot;Unable to get your current position. Please try again. Geolocation service failed.&quot;); });</td></tr>
     <tr><td><div align="right"><a name="1957"></a><a href="#1957">1957</a></div></td><td class="codeLine">                // Browser doesn\'t support Geolocation</td></tr>
     <tr><td><div align="right"><a name="1958"></a><a href="#1958">1958</a></div></td><td class="codeLine">                }else{</td></tr>
     <tr><td><div align="right"><a name="1959"></a><a href="#1959">1959</a></div></td><td class="codeLine">                    alert(\'Your browser does not support geolocation.\');</td></tr>
     <tr><td><div align="right"><a name="1960"></a><a href="#1960">1960</a></div></td><td class="codeLine">                }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1961"></a><a href="#1961">1961</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1962"></a><a href="#1962">1962</a></div></td><td class="codeLine">            }else if ($this-&gt;directionsEnd==&quot;auto&quot;) {</td></tr>
     <tr><td><div align="right"><a name="1963"></a><a href="#1963">1963</a></div></td><td class="codeLine">                // The end point should be at the users current location</td></tr>
     <tr class="danger"><td><div align="right"><a name="1964"></a><a href="#1964">1964</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= '</td></tr>
     <tr><td><div align="right"><a name="1965"></a><a href="#1965">1965</a></div></td><td class="codeLine">                // Try W3C Geolocation (Preferred)</td></tr>
     <tr><td><div align="right"><a name="1966"></a><a href="#1966">1966</a></div></td><td class="codeLine">                if(navigator.geolocation) {</td></tr>
     <tr><td><div align="right"><a name="1967"></a><a href="#1967">1967</a></div></td><td class="codeLine">                    navigator.geolocation.getCurrentPosition(function(position) {</td></tr>
     <tr><td><div align="right"><a name="1968"></a><a href="#1968">1968</a></div></td><td class="codeLine">                        end = position.coords.latitude+&quot;,&quot;+position.coords.longitude;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1969"></a><a href="#1969">1969</a></div></td><td class="codeLine">                        calcRoute(\''.$this-&gt;directionsStart.'\', end);</td></tr>
     <tr><td><div align="right"><a name="1970"></a><a href="#1970">1970</a></div></td><td class="codeLine">                    }, function() { alert(&quot;Unable to get your current position. Please try again. Geolocation service failed.&quot;); });</td></tr>
     <tr><td><div align="right"><a name="1971"></a><a href="#1971">1971</a></div></td><td class="codeLine">                // Browser doesn\'t support Geolocation</td></tr>
     <tr><td><div align="right"><a name="1972"></a><a href="#1972">1972</a></div></td><td class="codeLine">                }else{</td></tr>
     <tr><td><div align="right"><a name="1973"></a><a href="#1973">1973</a></div></td><td class="codeLine">                    alert(\'Your browser does not support geolocation.\');</td></tr>
     <tr><td><div align="right"><a name="1974"></a><a href="#1974">1974</a></div></td><td class="codeLine">                }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1975"></a><a href="#1975">1975</a></div></td><td class="codeLine">                ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="1976"></a><a href="#1976">1976</a></div></td><td class="codeLine">            }else{</td></tr>
     <tr><td><div align="right"><a name="1977"></a><a href="#1977">1977</a></div></td><td class="codeLine">                // The start and end point are at pre-defined locations</td></tr>
     <tr class="danger"><td><div align="right"><a name="1978"></a><a href="#1978">1978</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1979"></a><a href="#1979">1979</a></div></td><td class="codeLine">                calcRoute(\''.$this-&gt;directionsStart.'\', \''.$this-&gt;directionsEnd.'\');</td></tr>
     <tr class="danger"><td><div align="right"><a name="1980"></a><a href="#1980">1980</a></div></td><td class="codeLine">                ';</td></tr>
     <tr><td><div align="right"><a name="1981"></a><a href="#1981">1981</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="1982"></a><a href="#1982">1982</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1983"></a><a href="#1983">1983</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1984"></a><a href="#1984">1984</a></div></td><td class="codeLine">        if ($this-&gt;onload!=&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="1985"></a><a href="#1985">1985</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1986"></a><a href="#1986">1986</a></div></td><td class="codeLine">                '.$this-&gt;onload;</td></tr>
     <tr class="danger"><td><div align="right"><a name="1987"></a><a href="#1987">1987</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="1988"></a><a href="#1988">1988</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="1989"></a><a href="#1989">1989</a></div></td><td class="codeLine">        $this-&gt;output_js_contents .= '</td></tr>
     <tr><td><div align="right"><a name="1990"></a><a href="#1990">1990</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="1991"></a><a href="#1991">1991</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="1992"></a><a href="#1992">1992</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="1993"></a><a href="#1993">1993</a></div></td><td class="codeLine">        ';</td></tr>
     <tr><td><div align="right"><a name="1994"></a><a href="#1994">1994</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="1995"></a><a href="#1995">1995</a></div></td><td class="codeLine">        // add markers</td></tr>
     <tr class="danger"><td><div align="right"><a name="1996"></a><a href="#1996">1996</a></div></td><td class="codeLine">        $this-&gt;output_js_contents .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="1997"></a><a href="#1997">1997</a></div></td><td class="codeLine">        function createMarker_'.$this-&gt;map_name.'(markerOptions) {</td></tr>
     <tr><td><div align="right"><a name="1998"></a><a href="#1998">1998</a></div></td><td class="codeLine">            var marker = new google.maps.Marker(markerOptions);</td></tr>
     <tr class="danger"><td><div align="right"><a name="1999"></a><a href="#1999">1999</a></div></td><td class="codeLine">            markers_'.$this-&gt;map_name.'.push(marker);</td></tr>
     <tr class="danger"><td><div align="right"><a name="2000"></a><a href="#2000">2000</a></div></td><td class="codeLine">            lat_longs_'.$this-&gt;map_name.'.push(marker.getPosition());</td></tr>
     <tr><td><div align="right"><a name="2001"></a><a href="#2001">2001</a></div></td><td class="codeLine">            return marker;</td></tr>
     <tr><td><div align="right"><a name="2002"></a><a href="#2002">2002</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="2003"></a><a href="#2003">2003</a></div></td><td class="codeLine">        ';</td></tr>
     <tr><td><div align="right"><a name="2004"></a><a href="#2004">2004</a></div></td><td class="codeLine">        //</td></tr>
     <tr><td><div align="right"><a name="2005"></a><a href="#2005">2005</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2006"></a><a href="#2006">2006</a></div></td><td class="codeLine">        if ($this-&gt;directions) {</td></tr>
     <tr><td><div align="right"><a name="2007"></a><a href="#2007">2007</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2008"></a><a href="#2008">2008</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'function calcRoute(start, end) {</td></tr>
     <tr><td><div align="right"><a name="2009"></a><a href="#2009">2009</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="2010"></a><a href="#2010">2010</a></div></td><td class="codeLine">            var request = {</td></tr>
     <tr><td><div align="right"><a name="2011"></a><a href="#2011">2011</a></div></td><td class="codeLine">                    origin:start,</td></tr>
     <tr><td><div align="right"><a name="2012"></a><a href="#2012">2012</a></div></td><td class="codeLine">                    destination:end,</td></tr>
     <tr class="danger"><td><div align="right"><a name="2013"></a><a href="#2013">2013</a></div></td><td class="codeLine">                    travelMode: google.maps.TravelMode.'.$this-&gt;directionsMode.'</td></tr>
     <tr class="danger"><td><div align="right"><a name="2014"></a><a href="#2014">2014</a></div></td><td class="codeLine">                    ';</td></tr>
     <tr><td><div align="right"><a name="2015"></a><a href="#2015">2015</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2016"></a><a href="#2016">2016</a></div></td><td class="codeLine">            if (count($this-&gt;directionsWaypointArray)) {</td></tr>
     <tr><td><div align="right"><a name="2017"></a><a href="#2017">2017</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2018"></a><a href="#2018">2018</a></div></td><td class="codeLine">                $directionsWaypointStr = '';</td></tr>
     <tr class="danger"><td><div align="right"><a name="2019"></a><a href="#2019">2019</a></div></td><td class="codeLine">                foreach ($this-&gt;directionsWaypointArray as $waypoint) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2020"></a><a href="#2020">2020</a></div></td><td class="codeLine">                    if ($directionsWaypointStr != '') { $directionsWaypointStr .= ','; }</td></tr>
     <tr class="danger"><td><div align="right"><a name="2021"></a><a href="#2021">2021</a></div></td><td class="codeLine">                    $directionsWaypointStr .= '{ location: &quot;' . $waypoint . '&quot;, stopover: true}';</td></tr>
     <tr class="danger"><td><div align="right"><a name="2022"></a><a href="#2022">2022</a></div></td><td class="codeLine">                }</td></tr>
     <tr class="danger"><td><div align="right"><a name="2023"></a><a href="#2023">2023</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= ', waypoints: [' . $directionsWaypointStr . ']';</td></tr>
     <tr><td><div align="right"><a name="2024"></a><a href="#2024">2024</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2025"></a><a href="#2025">2025</a></div></td><td class="codeLine">                if ($this-&gt;directionsWaypointsOptimize)</td></tr>
     <tr class="danger"><td><div align="right"><a name="2026"></a><a href="#2026">2026</a></div></td><td class="codeLine">                {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2027"></a><a href="#2027">2027</a></div></td><td class="codeLine">                     $this-&gt;output_js_contents .= ', optimizeWaypoints: true'</td></tr>
     <tr><td><div align="right"><a name="2028"></a><a href="#2028">2028</a></div></td><td class="codeLine">                     ;</td></tr>
     <tr class="danger"><td><div align="right"><a name="2029"></a><a href="#2029">2029</a></div></td><td class="codeLine">                }</td></tr>
     <tr class="danger"><td><div align="right"><a name="2030"></a><a href="#2030">2030</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="2031"></a><a href="#2031">2031</a></div></td><td class="codeLine">            if ($this-&gt;region!=&quot;&quot; &amp;&amp; strlen($this-&gt;region)==2) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2032"></a><a href="#2032">2032</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= ',region: '.strtoupper($this-&gt;region).'</td></tr>
     <tr class="danger"><td><div align="right"><a name="2033"></a><a href="#2033">2033</a></div></td><td class="codeLine">                    ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="2034"></a><a href="#2034">2034</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="2035"></a><a href="#2035">2035</a></div></td><td class="codeLine">            if (trim($this-&gt;directionsUnits)!=&quot;&quot; &amp;&amp; (strtolower(trim($this-&gt;directionsUnits)) == &quot;metric&quot; || strtolower(trim($this-&gt;directionsUnits)) == &quot;imperial&quot;)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2036"></a><a href="#2036">2036</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= ',unitSystem: google.maps.UnitSystem.'.strtoupper(trim($this-&gt;directionsUnits)).'</td></tr>
     <tr class="danger"><td><div align="right"><a name="2037"></a><a href="#2037">2037</a></div></td><td class="codeLine">                    ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="2038"></a><a href="#2038">2038</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="2039"></a><a href="#2039">2039</a></div></td><td class="codeLine">            if ($this-&gt;directionsAvoidTolls) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2040"></a><a href="#2040">2040</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= ',avoidTolls: true</td></tr>
     <tr><td><div align="right"><a name="2041"></a><a href="#2041">2041</a></div></td><td class="codeLine">                    ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="2042"></a><a href="#2042">2042</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="2043"></a><a href="#2043">2043</a></div></td><td class="codeLine">            if ($this-&gt;directionsAvoidHighways) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2044"></a><a href="#2044">2044</a></div></td><td class="codeLine">                $this-&gt;output_js_contents .= ',avoidHighways: true</td></tr>
     <tr><td><div align="right"><a name="2045"></a><a href="#2045">2045</a></div></td><td class="codeLine">                    ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="2046"></a><a href="#2046">2046</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="2047"></a><a href="#2047">2047</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2048"></a><a href="#2048">2048</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= '</td></tr>
     <tr><td><div align="right"><a name="2049"></a><a href="#2049">2049</a></div></td><td class="codeLine">            };</td></tr>
     <tr><td><div align="right"><a name="2050"></a><a href="#2050">2050</a></div></td><td class="codeLine">                  directionsService.route(request, function(response, status) {</td></tr>
     <tr><td><div align="right"><a name="2051"></a><a href="#2051">2051</a></div></td><td class="codeLine">                    if (status == google.maps.DirectionsStatus.OK) {</td></tr>
     <tr><td><div align="right"><a name="2052"></a><a href="#2052">2052</a></div></td><td class="codeLine">                          directionsDisplay.setDirections(response);</td></tr>
     <tr><td><div align="right"><a name="2053"></a><a href="#2053">2053</a></div></td><td class="codeLine">                    }else{</td></tr>
     <tr><td><div align="right"><a name="2054"></a><a href="#2054">2054</a></div></td><td class="codeLine">                        switch (status) {</td></tr>
     <tr><td><div align="right"><a name="2055"></a><a href="#2055">2055</a></div></td><td class="codeLine">                            case &quot;NOT_FOUND&quot;: { alert(&quot;Either the start location or destination were not recognised&quot;); break }</td></tr>
     <tr><td><div align="right"><a name="2056"></a><a href="#2056">2056</a></div></td><td class="codeLine">                            case &quot;ZERO_RESULTS&quot;: { alert(&quot;No route could be found between the start location and destination&quot;); break }</td></tr>
     <tr><td><div align="right"><a name="2057"></a><a href="#2057">2057</a></div></td><td class="codeLine">                            case &quot;MAX_WAYPOINTS_EXCEEDED&quot;: { alert(&quot;Maximum waypoints exceeded. Maximum of 8 allowed&quot;); break }</td></tr>
     <tr><td><div align="right"><a name="2058"></a><a href="#2058">2058</a></div></td><td class="codeLine">                            case &quot;INVALID_REQUEST&quot;: { alert(&quot;Invalid request made for obtaining directions&quot;); break }</td></tr>
     <tr><td><div align="right"><a name="2059"></a><a href="#2059">2059</a></div></td><td class="codeLine">                            case &quot;OVER_QUERY_LIMIT&quot;: { alert(&quot;This webpage has sent too many requests recently. Please try again later&quot;); break }</td></tr>
     <tr><td><div align="right"><a name="2060"></a><a href="#2060">2060</a></div></td><td class="codeLine">                            case &quot;REQUEST_DENIED&quot;: { alert(&quot;This webpage is not allowed to request directions&quot;); break }</td></tr>
     <tr><td><div align="right"><a name="2061"></a><a href="#2061">2061</a></div></td><td class="codeLine">                            case &quot;UNKNOWN_ERROR&quot;: { alert(&quot;Unknown error with the server. Please try again later&quot;); break }</td></tr>
     <tr><td><div align="right"><a name="2062"></a><a href="#2062">2062</a></div></td><td class="codeLine">                        }</td></tr>
     <tr><td><div align="right"><a name="2063"></a><a href="#2063">2063</a></div></td><td class="codeLine">                    }</td></tr>
     <tr><td><div align="right"><a name="2064"></a><a href="#2064">2064</a></div></td><td class="codeLine">                  });</td></tr>
     <tr><td><div align="right"><a name="2065"></a><a href="#2065">2065</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="2066"></a><a href="#2066">2066</a></div></td><td class="codeLine">            ';</td></tr>
     <tr><td><div align="right"><a name="2067"></a><a href="#2067">2067</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2068"></a><a href="#2068">2068</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="2069"></a><a href="#2069">2069</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2070"></a><a href="#2070">2070</a></div></td><td class="codeLine">        if ($this-&gt;places) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2071"></a><a href="#2071">2071</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= 'function placesCallback(results, status) {</td></tr>
     <tr><td><div align="right"><a name="2072"></a><a href="#2072">2072</a></div></td><td class="codeLine">                if (status == google.maps.places.PlacesServiceStatus.OK) {</td></tr>
     <tr><td><div align="right"><a name="2073"></a><a href="#2073">2073</a></div></td><td class="codeLine">                    for (var i = 0; i &lt; results.length; i++) {</td></tr>
     <tr><td><div align="right"><a name="2074"></a><a href="#2074">2074</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="2075"></a><a href="#2075">2075</a></div></td><td class="codeLine">                        var place = results[i];</td></tr>
     <tr><td><div align="right"><a name="2076"></a><a href="#2076">2076</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="2077"></a><a href="#2077">2077</a></div></td><td class="codeLine">                        var placeLoc = place.geometry.location;</td></tr>
     <tr><td><div align="right"><a name="2078"></a><a href="#2078">2078</a></div></td><td class="codeLine">                        var placePosition = new google.maps.LatLng(placeLoc.lat(), placeLoc.lng());</td></tr>
     <tr><td><div align="right"><a name="2079"></a><a href="#2079">2079</a></div></td><td class="codeLine">                        var markerOptions = {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2080"></a><a href="#2080">2080</a></div></td><td class="codeLine">                             map: '.$this-&gt;map_name.',</td></tr>
     <tr><td><div align="right"><a name="2081"></a><a href="#2081">2081</a></div></td><td class="codeLine">                            position: placePosition</td></tr>
     <tr><td><div align="right"><a name="2082"></a><a href="#2082">2082</a></div></td><td class="codeLine">                          };</td></tr>
     <tr class="danger"><td><div align="right"><a name="2083"></a><a href="#2083">2083</a></div></td><td class="codeLine">                          var marker = createMarker_'.$this-&gt;map_name.'(markerOptions);</td></tr>
     <tr><td><div align="right"><a name="2084"></a><a href="#2084">2084</a></div></td><td class="codeLine">                          marker.set(&quot;content&quot;, place.name);</td></tr>
     <tr><td><div align="right"><a name="2085"></a><a href="#2085">2085</a></div></td><td class="codeLine">                          google.maps.event.addListener(marker, &quot;click&quot;, function() {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2086"></a><a href="#2086">2086</a></div></td><td class="codeLine">                            iw_'.$this-&gt;map_name.'.setContent(this.get(&quot;content&quot;));</td></tr>
     <tr class="danger"><td><div align="right"><a name="2087"></a><a href="#2087">2087</a></div></td><td class="codeLine">                            iw_'.$this-&gt;map_name.'.open('.$this-&gt;map_name.', this);</td></tr>
     <tr><td><div align="right"><a name="2088"></a><a href="#2088">2088</a></div></td><td class="codeLine">                          });</td></tr>
     <tr><td><div align="right"><a name="2089"></a><a href="#2089">2089</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2090"></a><a href="#2090">2090</a></div></td><td class="codeLine">                          lat_longs_'.$this-&gt;map_name.'.push(placePosition);</td></tr>
     <tr><td><div align="right"><a name="2091"></a><a href="#2091">2091</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="2092"></a><a href="#2092">2092</a></div></td><td class="codeLine">                    }</td></tr>
     <tr class="danger"><td><div align="right"><a name="2093"></a><a href="#2093">2093</a></div></td><td class="codeLine">                    ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="2094"></a><a href="#2094">2094</a></div></td><td class="codeLine">            if ($this-&gt;zoom==&quot;auto&quot;) { $this-&gt;output_js_contents .= 'fitMapToBounds_'.$this-&gt;map_name.'();'; }</td></tr>
     <tr class="danger"><td><div align="right"><a name="2095"></a><a href="#2095">2095</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= '</td></tr>
     <tr><td><div align="right"><a name="2096"></a><a href="#2096">2096</a></div></td><td class="codeLine">                }</td></tr>
     <tr><td><div align="right"><a name="2097"></a><a href="#2097">2097</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="2098"></a><a href="#2098">2098</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="2099"></a><a href="#2099">2099</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="2100"></a><a href="#2100">2100</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2101"></a><a href="#2101">2101</a></div></td><td class="codeLine">        if ($this-&gt;zoom==&quot;auto&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2102"></a><a href="#2102">2102</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="2103"></a><a href="#2103">2103</a></div></td><td class="codeLine">            function fitMapToBounds_'.$this-&gt;map_name.'() {</td></tr>
     <tr><td><div align="right"><a name="2104"></a><a href="#2104">2104</a></div></td><td class="codeLine">                var bounds = new google.maps.LatLngBounds();</td></tr>
     <tr class="danger"><td><div align="right"><a name="2105"></a><a href="#2105">2105</a></div></td><td class="codeLine">                if (lat_longs_'.$this-&gt;map_name.'.length&gt;0) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2106"></a><a href="#2106">2106</a></div></td><td class="codeLine">                    for (var i=0; i&lt;lat_longs_'.$this-&gt;map_name.'.length; i++) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2107"></a><a href="#2107">2107</a></div></td><td class="codeLine">                        bounds.extend(lat_longs_'.$this-&gt;map_name.'[i]);</td></tr>
     <tr><td><div align="right"><a name="2108"></a><a href="#2108">2108</a></div></td><td class="codeLine">                    }</td></tr>
     <tr class="danger"><td><div align="right"><a name="2109"></a><a href="#2109">2109</a></div></td><td class="codeLine">                    '.$this-&gt;map_name.'.fitBounds(bounds);</td></tr>
     <tr><td><div align="right"><a name="2110"></a><a href="#2110">2110</a></div></td><td class="codeLine">                }</td></tr>
     <tr><td><div align="right"><a name="2111"></a><a href="#2111">2111</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="2112"></a><a href="#2112">2112</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="2113"></a><a href="#2113">2113</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="2114"></a><a href="#2114">2114</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2115"></a><a href="#2115">2115</a></div></td><td class="codeLine">        if ($this-&gt;loadAsynchronously) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2116"></a><a href="#2116">2116</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="2117"></a><a href="#2117">2117</a></div></td><td class="codeLine">            function loadScript_'.$this-&gt;map_name.'() {</td></tr>
     <tr><td><div align="right"><a name="2118"></a><a href="#2118">2118</a></div></td><td class="codeLine">                var script = document.createElement(&quot;script&quot;);</td></tr>
     <tr><td><div align="right"><a name="2119"></a><a href="#2119">2119</a></div></td><td class="codeLine">                  script.type = &quot;text/javascript&quot;;</td></tr>
     <tr class="danger"><td><div align="right"><a name="2120"></a><a href="#2120">2120</a></div></td><td class="codeLine">                  script.src = &quot;'.$apiLocation.'&amp;callback=initialize_'.$this-&gt;map_name.'&quot;;</td></tr>
     <tr><td><div align="right"><a name="2121"></a><a href="#2121">2121</a></div></td><td class="codeLine">                  document.body.appendChild(script);</td></tr>
     <tr><td><div align="right"><a name="2122"></a><a href="#2122">2122</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="2123"></a><a href="#2123">2123</a></div></td><td class="codeLine">            window.onload = loadScript_'.$this-&gt;map_name.';</td></tr>
     <tr class="danger"><td><div align="right"><a name="2124"></a><a href="#2124">2124</a></div></td><td class="codeLine">            ';</td></tr>
     <tr class="danger"><td><div align="right"><a name="2125"></a><a href="#2125">2125</a></div></td><td class="codeLine">        }else{</td></tr>
     <tr class="danger"><td><div align="right"><a name="2126"></a><a href="#2126">2126</a></div></td><td class="codeLine">            $this-&gt;output_js_contents .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="2127"></a><a href="#2127">2127</a></div></td><td class="codeLine">            google.maps.event.addDomListener(window, &quot;load&quot;, initialize_'.$this-&gt;map_name.');</td></tr>
     <tr class="danger"><td><div align="right"><a name="2128"></a><a href="#2128">2128</a></div></td><td class="codeLine">            ';</td></tr>
     <tr><td><div align="right"><a name="2129"></a><a href="#2129">2129</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="2130"></a><a href="#2130">2130</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="2131"></a><a href="#2131">2131</a></div></td><td class="codeLine">        // Minify the Javascript if the $minifyJS config value is true. Requires Jsmin.php and PHP 5+</td></tr>
     <tr class="danger"><td><div align="right"><a name="2132"></a><a href="#2132">2132</a></div></td><td class="codeLine">        if ($this-&gt;minifyJS) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2133"></a><a href="#2133">2133</a></div></td><td class="codeLine">            $CI =&amp; get_instance();</td></tr>
     <tr class="danger"><td><div align="right"><a name="2134"></a><a href="#2134">2134</a></div></td><td class="codeLine">            $CI-&gt;load-&gt;library('jsmin');</td></tr>
     <tr class="danger"><td><div align="right"><a name="2135"></a><a href="#2135">2135</a></div></td><td class="codeLine">            $this-&gt;output_js_contents = $CI-&gt;jsmin-&gt;min($this-&gt;output_js_contents);</td></tr>
     <tr class="danger"><td><div align="right"><a name="2136"></a><a href="#2136">2136</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="2137"></a><a href="#2137">2137</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2138"></a><a href="#2138">2138</a></div></td><td class="codeLine">        if ($this-&gt;jsfile==&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2139"></a><a href="#2139">2139</a></div></td><td class="codeLine">            $this-&gt;output_js .= $this-&gt;output_js_contents;</td></tr>
     <tr class="danger"><td><div align="right"><a name="2140"></a><a href="#2140">2140</a></div></td><td class="codeLine">        }else{ // if needs writing to external js file</td></tr>
     <tr class="danger"><td><div align="right"><a name="2141"></a><a href="#2141">2141</a></div></td><td class="codeLine">            if (!$handle = fopen($this-&gt;jsfile, &quot;w&quot;)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2142"></a><a href="#2142">2142</a></div></td><td class="codeLine">                $this-&gt;output_js .= $this-&gt;output_js_contents;</td></tr>
     <tr class="danger"><td><div align="right"><a name="2143"></a><a href="#2143">2143</a></div></td><td class="codeLine">            }else{</td></tr>
     <tr class="danger"><td><div align="right"><a name="2144"></a><a href="#2144">2144</a></div></td><td class="codeLine">                if (!fwrite($handle, $this-&gt;output_js_contents)) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2145"></a><a href="#2145">2145</a></div></td><td class="codeLine">                    $this-&gt;output_js .= $this-&gt;output_js_contents;</td></tr>
     <tr class="danger"><td><div align="right"><a name="2146"></a><a href="#2146">2146</a></div></td><td class="codeLine">                }else{</td></tr>
     <tr class="danger"><td><div align="right"><a name="2147"></a><a href="#2147">2147</a></div></td><td class="codeLine">                    $this-&gt;output_js .= '</td></tr>
     <tr class="danger"><td><div align="right"><a name="2148"></a><a href="#2148">2148</a></div></td><td class="codeLine">                    &lt;script src=&quot;'.$this-&gt;jsfile.'&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;';</td></tr>
     <tr><td><div align="right"><a name="2149"></a><a href="#2149">2149</a></div></td><td class="codeLine">                }</td></tr>
     <tr><td><div align="right"><a name="2150"></a><a href="#2150">2150</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="2151"></a><a href="#2151">2151</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="2152"></a><a href="#2152">2152</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2153"></a><a href="#2153">2153</a></div></td><td class="codeLine">        if ($this-&gt;jsfile==&quot;&quot;) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2154"></a><a href="#2154">2154</a></div></td><td class="codeLine">            $this-&gt;output_js .= '</td></tr>
     <tr><td><div align="right"><a name="2155"></a><a href="#2155">2155</a></div></td><td class="codeLine">            //]]&gt;</td></tr>
     <tr><td><div align="right"><a name="2156"></a><a href="#2156">2156</a></div></td><td class="codeLine">            &lt;/script&gt;';</td></tr>
     <tr class="danger"><td><div align="right"><a name="2157"></a><a href="#2157">2157</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="2158"></a><a href="#2158">2158</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="2159"></a><a href="#2159">2159</a></div></td><td class="codeLine">        // set height and width</td></tr>
     <tr class="danger"><td><div align="right"><a name="2160"></a><a href="#2160">2160</a></div></td><td class="codeLine">        if (is_numeric($this-&gt;map_width)) { // if no width type set</td></tr>
     <tr class="danger"><td><div align="right"><a name="2161"></a><a href="#2161">2161</a></div></td><td class="codeLine">            $this-&gt;map_width = $this-&gt;map_width.'px';</td></tr>
     <tr class="danger"><td><div align="right"><a name="2162"></a><a href="#2162">2162</a></div></td><td class="codeLine">        }</td></tr>
     <tr class="danger"><td><div align="right"><a name="2163"></a><a href="#2163">2163</a></div></td><td class="codeLine">        if (is_numeric($this-&gt;map_height)) { // if no height type set</td></tr>
     <tr class="danger"><td><div align="right"><a name="2164"></a><a href="#2164">2164</a></div></td><td class="codeLine">            $this-&gt;map_height = $this-&gt;map_height.'px';</td></tr>
     <tr class="danger"><td><div align="right"><a name="2165"></a><a href="#2165">2165</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="2166"></a><a href="#2166">2166</a></div></td><td class="codeLine">        //</td></tr>
     <tr><td><div align="right"><a name="2167"></a><a href="#2167">2167</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2168"></a><a href="#2168">2168</a></div></td><td class="codeLine">        $this-&gt;output_html .= '&lt;div id=&quot;'.$this-&gt;map_div_id.'&quot; style=&quot;width:'.$this-&gt;map_width.'; height:'.$this-&gt;map_height.';&quot;'.(($this-&gt;class != &quot;&quot;) ? ' class=&quot;'.$this-&gt;class.'&quot;' : '').'&gt;&lt;/div&gt;';</td></tr>
     <tr><td><div align="right"><a name="2169"></a><a href="#2169">2169</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2170"></a><a href="#2170">2170</a></div></td><td class="codeLine">        ++$this-&gt;maps_loaded;</td></tr>
     <tr><td><div align="right"><a name="2171"></a><a href="#2171">2171</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2172"></a><a href="#2172">2172</a></div></td><td class="codeLine">        return array('js'=&gt;$this-&gt;output_js, 'html'=&gt;$this-&gt;output_html, 'markers'=&gt;$this-&gt;markersInfo);</td></tr>
     <tr><td><div align="right"><a name="2173"></a><a href="#2173">2173</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="2174"></a><a href="#2174">2174</a></div></td><td class="codeLine">    }</td></tr>
     <tr><td><div align="right"><a name="2175"></a><a href="#2175">2175</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="2176"></a><a href="#2176">2176</a></div></td><td class="codeLine">    function is_lat_long($input)</td></tr>
     <tr><td><div align="right"><a name="2177"></a><a href="#2177">2177</a></div></td><td class="codeLine">    {</td></tr>
     <tr><td><div align="right"><a name="2178"></a><a href="#2178">2178</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2179"></a><a href="#2179">2179</a></div></td><td class="codeLine">        $input = str_replace(&quot;, &quot;, &quot;,&quot;, trim($input));</td></tr>
     <tr class="danger"><td><div align="right"><a name="2180"></a><a href="#2180">2180</a></div></td><td class="codeLine">        $input = explode(&quot;,&quot;, $input);</td></tr>
     <tr class="danger"><td><div align="right"><a name="2181"></a><a href="#2181">2181</a></div></td><td class="codeLine">        if (count($input)==2) {</td></tr>
     <tr><td><div align="right"><a name="2182"></a><a href="#2182">2182</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2183"></a><a href="#2183">2183</a></div></td><td class="codeLine">            if (is_numeric($input[0]) &amp;&amp; is_numeric($input[1])) { // is a lat long</td></tr>
     <tr class="danger"><td><div align="right"><a name="2184"></a><a href="#2184">2184</a></div></td><td class="codeLine">                return true;</td></tr>
     <tr><td><div align="right"><a name="2185"></a><a href="#2185">2185</a></div></td><td class="codeLine">            }else{ // not a lat long - incorrect values</td></tr>
     <tr class="danger"><td><div align="right"><a name="2186"></a><a href="#2186">2186</a></div></td><td class="codeLine">                return false;</td></tr>
     <tr><td><div align="right"><a name="2187"></a><a href="#2187">2187</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="2188"></a><a href="#2188">2188</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="2189"></a><a href="#2189">2189</a></div></td><td class="codeLine">        }else{ // not a lat long - too many parts</td></tr>
     <tr class="danger"><td><div align="right"><a name="2190"></a><a href="#2190">2190</a></div></td><td class="codeLine">            return false;</td></tr>
     <tr><td><div align="right"><a name="2191"></a><a href="#2191">2191</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="2192"></a><a href="#2192">2192</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="2193"></a><a href="#2193">2193</a></div></td><td class="codeLine">    }</td></tr>
     <tr><td><div align="right"><a name="2194"></a><a href="#2194">2194</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="2195"></a><a href="#2195">2195</a></div></td><td class="codeLine">    function get_lat_long_from_address($address, $attempts = 0)</td></tr>
     <tr><td><div align="right"><a name="2196"></a><a href="#2196">2196</a></div></td><td class="codeLine">    {</td></tr>
     <tr><td><div align="right"><a name="2197"></a><a href="#2197">2197</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2198"></a><a href="#2198">2198</a></div></td><td class="codeLine">        $lat = 0;</td></tr>
     <tr class="danger"><td><div align="right"><a name="2199"></a><a href="#2199">2199</a></div></td><td class="codeLine">        $lng = 0;</td></tr>
     <tr><td><div align="right"><a name="2200"></a><a href="#2200">2200</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2201"></a><a href="#2201">2201</a></div></td><td class="codeLine">        $error = '';</td></tr>
     <tr><td><div align="right"><a name="2202"></a><a href="#2202">2202</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2203"></a><a href="#2203">2203</a></div></td><td class="codeLine">        if ($this-&gt;geocodeCaching) { // if caching of geocode requests is activated</td></tr>
     <tr><td><div align="right"><a name="2204"></a><a href="#2204">2204</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2205"></a><a href="#2205">2205</a></div></td><td class="codeLine">            $CI =&amp; get_instance();</td></tr>
     <tr class="danger"><td><div align="right"><a name="2206"></a><a href="#2206">2206</a></div></td><td class="codeLine">            $CI-&gt;load-&gt;database();</td></tr>
     <tr class="danger"><td><div align="right"><a name="2207"></a><a href="#2207">2207</a></div></td><td class="codeLine">            $CI-&gt;db-&gt;select(&quot;latitude,longitude&quot;);</td></tr>
     <tr class="danger"><td><div align="right"><a name="2208"></a><a href="#2208">2208</a></div></td><td class="codeLine">            $CI-&gt;db-&gt;from(&quot;geocoding&quot;);</td></tr>
     <tr class="danger"><td><div align="right"><a name="2209"></a><a href="#2209">2209</a></div></td><td class="codeLine">            $CI-&gt;db-&gt;where(&quot;address&quot;, trim(strtolower($address)));</td></tr>
     <tr class="danger"><td><div align="right"><a name="2210"></a><a href="#2210">2210</a></div></td><td class="codeLine">            $query = $CI-&gt;db-&gt;get();</td></tr>
     <tr><td><div align="right"><a name="2211"></a><a href="#2211">2211</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2212"></a><a href="#2212">2212</a></div></td><td class="codeLine">            if ($query-&gt;num_rows()&gt;0) {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2213"></a><a href="#2213">2213</a></div></td><td class="codeLine">                $row = $query-&gt;row();</td></tr>
     <tr class="danger"><td><div align="right"><a name="2214"></a><a href="#2214">2214</a></div></td><td class="codeLine">                return array($row-&gt;latitude, $row-&gt;longitude);</td></tr>
     <tr><td><div align="right"><a name="2215"></a><a href="#2215">2215</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="2216"></a><a href="#2216">2216</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2217"></a><a href="#2217">2217</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="2218"></a><a href="#2218">2218</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2219"></a><a href="#2219">2219</a></div></td><td class="codeLine">        if ($this-&gt;https) { $data_location = 'https://'; }else{ $data_location = 'http://'; }</td></tr>
     <tr class="danger"><td><div align="right"><a name="2220"></a><a href="#2220">2220</a></div></td><td class="codeLine">        $data_location .= &quot;maps.google.com/maps/api/geocode/json?address=&quot;.urlencode(utf8_encode($address)).&quot;&amp;sensor=&quot;.$this-&gt;sensor;</td></tr>
     <tr class="danger"><td><div align="right"><a name="2221"></a><a href="#2221">2221</a></div></td><td class="codeLine">        if ($this-&gt;region!=&quot;&quot; &amp;&amp; strlen($this-&gt;region)==2) { $data_location .= &quot;&amp;region=&quot;.$this-&gt;region; }</td></tr>
     <tr class="danger"><td><div align="right"><a name="2222"></a><a href="#2222">2222</a></div></td><td class="codeLine">        $data = file_get_contents($data_location);</td></tr>
     <tr><td><div align="right"><a name="2223"></a><a href="#2223">2223</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2224"></a><a href="#2224">2224</a></div></td><td class="codeLine">        $data = json_decode($data);</td></tr>
     <tr><td><div align="right"><a name="2225"></a><a href="#2225">2225</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2226"></a><a href="#2226">2226</a></div></td><td class="codeLine">        if ($data-&gt;status==&quot;OK&quot;)</td></tr>
     <tr class="danger"><td><div align="right"><a name="2227"></a><a href="#2227">2227</a></div></td><td class="codeLine">        {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2228"></a><a href="#2228">2228</a></div></td><td class="codeLine">            $lat = $data-&gt;results[0]-&gt;geometry-&gt;location-&gt;lat;</td></tr>
     <tr class="danger"><td><div align="right"><a name="2229"></a><a href="#2229">2229</a></div></td><td class="codeLine">            $lng = $data-&gt;results[0]-&gt;geometry-&gt;location-&gt;lng;</td></tr>
     <tr><td><div align="right"><a name="2230"></a><a href="#2230">2230</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2231"></a><a href="#2231">2231</a></div></td><td class="codeLine">            if ($this-&gt;geocodeCaching) { // if we to need to cache this result</td></tr>
     <tr class="danger"><td><div align="right"><a name="2232"></a><a href="#2232">2232</a></div></td><td class="codeLine">                if ($address != &quot;&quot; &amp;&amp; $lat != 0 &amp;&amp; $lng != 0)</td></tr>
     <tr class="danger"><td><div align="right"><a name="2233"></a><a href="#2233">2233</a></div></td><td class="codeLine">                {</td></tr>
     <tr><td><div align="right"><a name="2234"></a><a href="#2234">2234</a></div></td><td class="codeLine">                    $data = array(</td></tr>
     <tr class="danger"><td><div align="right"><a name="2235"></a><a href="#2235">2235</a></div></td><td class="codeLine">                        &quot;address&quot;=&gt;trim(strtolower($address)),</td></tr>
     <tr class="danger"><td><div align="right"><a name="2236"></a><a href="#2236">2236</a></div></td><td class="codeLine">                        &quot;latitude&quot;=&gt;$lat,</td></tr>
     <tr><td><div align="right"><a name="2237"></a><a href="#2237">2237</a></div></td><td class="codeLine">                        &quot;longitude&quot;=&gt;$lng</td></tr>
     <tr class="danger"><td><div align="right"><a name="2238"></a><a href="#2238">2238</a></div></td><td class="codeLine">                    );</td></tr>
     <tr class="danger"><td><div align="right"><a name="2239"></a><a href="#2239">2239</a></div></td><td class="codeLine">                    $CI-&gt;db-&gt;insert(&quot;geocoding&quot;, $data);</td></tr>
     <tr class="danger"><td><div align="right"><a name="2240"></a><a href="#2240">2240</a></div></td><td class="codeLine">                }</td></tr>
     <tr class="danger"><td><div align="right"><a name="2241"></a><a href="#2241">2241</a></div></td><td class="codeLine">            }</td></tr>
     <tr class="danger"><td><div align="right"><a name="2242"></a><a href="#2242">2242</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="2243"></a><a href="#2243">2243</a></div></td><td class="codeLine">        else</td></tr>
     <tr><td><div align="right"><a name="2244"></a><a href="#2244">2244</a></div></td><td class="codeLine">        {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2245"></a><a href="#2245">2245</a></div></td><td class="codeLine">            if ($data-&gt;status == &quot;OVER_QUERY_LIMIT&quot;)</td></tr>
     <tr class="danger"><td><div align="right"><a name="2246"></a><a href="#2246">2246</a></div></td><td class="codeLine">            {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2247"></a><a href="#2247">2247</a></div></td><td class="codeLine">                $error = $data-&gt;status;</td></tr>
     <tr class="danger"><td><div align="right"><a name="2248"></a><a href="#2248">2248</a></div></td><td class="codeLine">                if ($attempts &lt; 2)</td></tr>
     <tr class="danger"><td><div align="right"><a name="2249"></a><a href="#2249">2249</a></div></td><td class="codeLine">                {</td></tr>
     <tr class="danger"><td><div align="right"><a name="2250"></a><a href="#2250">2250</a></div></td><td class="codeLine">                    sleep(1);</td></tr>
     <tr class="danger"><td><div align="right"><a name="2251"></a><a href="#2251">2251</a></div></td><td class="codeLine">                    ++$attempts;</td></tr>
     <tr class="danger"><td><div align="right"><a name="2252"></a><a href="#2252">2252</a></div></td><td class="codeLine">                    list($lat, $lng, $error) = $this-&gt;get_lat_long_from_address($address, $attempts);</td></tr>
     <tr class="danger"><td><div align="right"><a name="2253"></a><a href="#2253">2253</a></div></td><td class="codeLine">                }</td></tr>
     <tr class="danger"><td><div align="right"><a name="2254"></a><a href="#2254">2254</a></div></td><td class="codeLine">            }</td></tr>
     <tr><td><div align="right"><a name="2255"></a><a href="#2255">2255</a></div></td><td class="codeLine">        }</td></tr>
     <tr><td><div align="right"><a name="2256"></a><a href="#2256">2256</a></div></td><td class="codeLine"></td></tr>
     <tr class="danger"><td><div align="right"><a name="2257"></a><a href="#2257">2257</a></div></td><td class="codeLine">        return array($lat, $lng, $error);</td></tr>
     <tr><td><div align="right"><a name="2258"></a><a href="#2258">2258</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="2259"></a><a href="#2259">2259</a></div></td><td class="codeLine">    }</td></tr>
     <tr><td><div align="right"><a name="2260"></a><a href="#2260">2260</a></div></td><td class="codeLine"></td></tr>
     <tr><td><div align="right"><a name="2261"></a><a href="#2261">2261</a></div></td><td class="codeLine">}</td></tr>
     <tr><td><div align="right"><a name="2262"></a><a href="#2262">2262</a></div></td><td class="codeLine"></td></tr>

    </tbody>
   </table>
   <footer>
    <h4>Legend</h4>
    <p>
     <span class="success"><strong>Executed</strong></span>
     <span class="danger"><strong>Not Executed</strong></span>
     <span class="warning"><strong>Dead Code</strong></span>
    </p>
    <p>
     <small>Generated by <a href="http://github.com/sebastianbergmann/php-code-coverage" target="_top">PHP_CodeCoverage 1.2.13</a> using <a href="http://www.php.net/" target="_top">PHP 5.5.9-1ubuntu4.6</a> and <a href="http://phpunit.de/">PHPUnit 3.7.28</a> at Wed Feb 25 21:24:32 ECT 2015.</small>
    </p>
   </footer>
  </div>
  <script src="js/jquery.min.js" type="text/javascript"></script>
  <script src="js/bootstrap.min.js" type="text/javascript"></script>
  <script type="text/javascript">$('.popin').popover({trigger: 'hover'});</script>
 </body>
</html>
